(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{113:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(3),a=n.n(s),i=n(63),r=n.n(i),o=(n(73),n(27)),l=n(19),u=n(4),d=(n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(13));var j=n(12),b=(n(86),n(7)),p=n.n(b),h=n(11),O=n(29),m=n(30),f=n(35),x=n.n(f),v=function(){function e(t){Object(O.a)(this,e),this.uid=t}return Object(m.a)(e,[{key:"getPopular",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/home/popular",{mode:"cors"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTrending",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/home/trending",{mode:"cors"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getRecommend",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/home/recomended");case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecommendByFollowing",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/home/following");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserData",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/u/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSongsById",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/listen?song="+n);case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createAcc",value:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/account/create",e.next=3,this.postData("/api/account/create",t);case 3:return e.abrupt("return","ok");case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchQ",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==t||null==t){e.next=8;break}return e.next=3,fetch("/api/home/result?search="+t,{mode:"cors"});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getNotifications",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/u/notification",{mode:"cors"});case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkName",value:function(e){if(null!=e||""!=e)return this.postData("/api/profile/checkname",{name:e})}},{key:"update_profile",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.a.storage(),e.next=3,n.ref("/users/profile/pfp").child(t.pic.name).put(t.pic).then((function(e){return e.ref.getDownloadURL()})).then((function(e){return t.public.profile.pfp.url=e}));case 3:return"/api/profile/update",e.next=6,this.postData("/api/profile/update",{update:t});case 6:return e.abrupt("return","ok");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"upload",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c,s,a,i,r=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/api/u/music/upload",c=t,s=d.a.storage(),a=s.ref("public/songs/"+t.genre+"/"+t.title).child(t.image.name).put(t.image),e.next=6,a.then((function(e){return e.ref.getDownloadURL()})).then((function(e){console.log(e),c.imageURL=e}));case 6:return i=s.ref("public/songs/"+t.genre+"/"+t.title).child(t.file.name).put(t.file),e.next=9,i.then((function(e){return e.ref.getDownloadURL()})).then((function(e){return c.audioURL=e})).then((function(){return r.postData(n,c)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserLikes",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c,s,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return e.next=3,fetch("/api/u/liked?uid="+t);case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.next=12,fetch("/api/u/songs/liked");case 12:return s=e.sent,e.next=15,s.json();case 15:return a=e.sent,e.abrupt("return",a);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"update_profile_pic",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.a.storage(),e.next=3,n.ref("/users/profile/pfp").child(t.name).put(t).then((function(e){return e.ref.getDownloadURL()})).then((function(e){return c.url=e})).then((function(){return console.log("completed")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendLike",value:function(e,t,n,c){var s={likedOf:t,songID:n,song:c};this.postData("/api/music/like/send",s)}},{key:"follow",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"/api/u/follow",n={uid:t},this.postData("/api/u/follow",n);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"postData",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n,c,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:{},e.next=4,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","CSRF-Token":x.a.get("XSRF-TOKEN")},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 4:return c=e.sent,e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();var g=function(){var e=Object(j.g)(),t=new v;document.title="Edit Profile";var n=Object(s.useState)(),a=Object(u.a)(n,2),i=a[0],r=a[1],o=Object(s.useState)(50),l=Object(u.a)(o,2),d=l[0],b=l[1],p=Object(s.useState)(50),h=Object(u.a)(p,2),O=h[0],m=h[1],f=Object(s.useState)(0),x=Object(u.a)(f,2),g=x[0],N=x[1],y=Object(s.useState)(null),k=Object(u.a)(y,2),w=k[0],S=k[1],C=Object(s.useState)(null),I=Object(u.a)(C,2),L=I[0],E=I[1],U=Object(s.useState)(null),R=Object(u.a)(U,2),D=R[0],T=R[1],_=Object(s.useState)(null),A=Object(u.a)(_,2),P=A[0],F=A[1],B=Object(s.useState)(null),M=Object(u.a)(B,2),V=M[0],z=M[1];return Object(c.jsx)("div",{id:"edit-profile",className:"main",children:Object(c.jsx)("div",{className:"edit-profile-container",children:Object(c.jsxs)("div",{className:"edit-profile-box",children:[Object(c.jsxs)("div",{className:"edit-head-wrapper",children:[Object(c.jsx)("div",{className:"edit-head",children:Object(c.jsx)("span",{children:"Edit Your Profile"})}),Object(c.jsx)("div",{className:"line",id:"edit-line"})]}),Object(c.jsxs)("div",{className:"profile-form-container",children:[Object(c.jsxs)("div",{className:"pfp-preview",children:[Object(c.jsxs)("div",{className:"pfp-preview-box",children:[Object(c.jsxs)("div",{className:"crop-container",children:[Object(c.jsx)("div",{className:"crop"}),Object(c.jsx)("img",{src:V,alt:"image-preview",id:"preview",style:{transform:"translate(".concat(d-50,"px, ").concat(O-50,"px) scale(").concat(parseInt(g)/100+1,")")}})]}),Object(c.jsxs)("div",{className:"upload-pfp",children:[Object(c.jsx)("input",{type:"file",id:"upload-pfp-btn",hidden:!0,onChange:function(e){return t=e.target.files,r(t[0]),void z(URL.createObjectURL(t[0]));var t}}),Object(c.jsx)("label",{htmlFor:"upload-pfp-btn",children:Object(c.jsx)("span",{children:"Upload file"})})]})]}),Object(c.jsx)("div",{className:"sliders",children:Object(c.jsxs)("div",{className:"slider-box",children:[Object(c.jsx)("div",{className:"slider-x",children:Object(c.jsx)("input",{type:"range",value:d,onChange:function(e){return b(e.target.value)}})}),Object(c.jsx)("div",{className:"slider-y",children:Object(c.jsx)("input",{type:"range",value:O,onChange:function(e){return m(e.target.value)}})}),Object(c.jsx)("div",{className:"slider-zoom",children:Object(c.jsx)("input",{type:"range",value:g,onChange:function(e){return N(e.target.value)}})})]})})]}),Object(c.jsxs)("div",{className:"profile-form",children:[Object(c.jsxs)("div",{className:"display-name",children:[Object(c.jsx)("div",{className:"form-label",children:Object(c.jsx)("span",{children:"Display Name"})}),Object(c.jsx)("div",{className:"display-name-input",children:Object(c.jsx)("input",{className:"-input-form",type:"text",placeholder:"Name...",onKeyUp:function(e){return S(e.target.value)}})})]}),Object(c.jsxs)("div",{className:"first Name",children:[Object(c.jsx)("div",{className:"form-label",children:Object(c.jsx)("span",{children:"First Name"})}),Object(c.jsx)("div",{className:"first-name-input",children:Object(c.jsx)("input",{className:"-input-form",type:"text",placeholder:"First Name...",onKeyUp:function(e){return E(e.target.value)}})})]}),Object(c.jsxs)("div",{className:"last Name",children:[Object(c.jsx)("div",{className:"form-label",children:Object(c.jsx)("span",{children:"Last Name"})}),Object(c.jsx)("div",{className:"last-name-input",children:Object(c.jsx)("input",{className:"-input-form",type:"text",placeholder:"Last Name...",onKeyUp:function(e){return T(e.target.value)}})})]}),Object(c.jsxs)("div",{className:"bio",children:[Object(c.jsx)("div",{className:"form-label",children:Object(c.jsx)("span",{children:"Bio"})}),Object(c.jsx)("div",{className:"bio-input",children:Object(c.jsx)("textarea",{className:"-input-form",type:"text",placeholder:"describe yourself...",onKeyUp:function(e){return F(e.target.value)}})})]})]}),Object(c.jsxs)("div",{className:"save-cancel",children:[Object(c.jsx)("div",{className:"cancel",children:Object(c.jsx)("button",{onClick:function(){e.push("/")},children:"Cancel"})}),Object(c.jsx)("div",{className:"save",children:Object(c.jsx)("button",{onClick:function(){var n={public:{profile:{info:{name:w,firstName:L,lastName:D,bio:P},pfp:{url:"",x:d,y:O,zoom:g}}}};i?(n.pic=i,t.update_profile(n).then((function(){return e.push("/")}))):t.update_profile(n).then((function(){return console.log("completed")}))},children:"Save"})})]})]})]})})})},N=n(8),y=function(){function e(){Object(O.a)(this,e)}return Object(m.a)(e,[{key:"login",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,s,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("hey login"),d.a.auth().setPersistence(d.a.auth.Auth.Persistence.NONE),e.prev=2,e.next=5,d.a.auth().signInWithEmailAndPassword(t,n);case 5:return c=e.sent,s=c.user,e.next=9,s.getIdToken();case 9:return a=e.sent,e.next=12,this.postData("/api/login",a);case 12:return e.abrupt("return","ok");case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",e.t0.message);case 18:case"end":return e.stop()}}),e,this,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/signout",{method:"get",credentials:"include"});case 2:return t=e.sent,e.next=5,t.text();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isloggedIn",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/isLoggedIn");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,c=n.signedout,e.abrupt("return",!c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserId",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/userId");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,c=n.uid,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"postData",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n,c,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1?s[1]:void 0,e.next=4,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","CSRF-Token":x.a.get("XSRF-TOKEN")},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({data:n})});case 4:return c=e.sent,e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),k=n(25),w=n.n(k);n(113);var S=function(e){var t=Object(s.useState)(),n=Object(u.a)(t,2),a=(n[0],n[1]),i=Object(s.useState)(),r=Object(u.a)(i,2),o=r[0],l=r[1],d=Object(s.useState)(!0),b=Object(u.a)(d,2),p=b[0],h=b[1],O=new y,m=Object(j.g)();return Object(s.useEffect)((function(){O.getUserId().then((function(e){l(e)})).finally((function(){return h(!1)}))}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"loader drop-loader"}),Object(c.jsx)("div",{className:"dropdown-wrapper",children:Object(c.jsx)("div",{className:"dropdown",children:Object(c.jsx)("div",{className:"dropdown-box",children:p?Object(c.jsx)(w.a,{type:"TailSpin",color:"#fff"}):Object(c.jsx)("div",{className:"dropdown-lists",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)(N.b,{to:"/u/"+o+"/music",children:Object(c.jsx)("li",{children:"Profile"})}),Object(c.jsx)("li",{children:"#"}),Object(c.jsx)("li",{children:"#"}),Object(c.jsx)("li",{children:"#"}),Object(c.jsx)("li",{onClick:function(){return a("dark")},children:"Dark Mode"}),Object(c.jsx)("li",{onClick:function(){return O.signOut().then((function(){return m.push("/login")}))},children:"Sign Out"})]})})})})})]})};n(65);var C=Object(s.createContext)(null),I=Object(s.createContext)(null);new v;var L=function(e){var t=e.notification,n=Object(s.useState)(),a=Object(u.a)(n,2),i=a[0],r=a[1],o=Object(s.useState)(),l=Object(u.a)(o,2),d=l[0],j=l[1],b=Object(s.useState)(),p=Object(u.a)(b,2),h=p[0],O=p[1],m=Object(s.useState)(),f=Object(u.a)(m,2),x=f[0],v=f[1],g=Object(s.useState)(),N=Object(u.a)(g,2),y=N[0],k=N[1],w=Object(s.useState)(),S=Object(u.a)(w,2),C=S[0],I=S[1],L=Object(s.useState)(),E=Object(u.a)(L,2),U=E[0],R=E[1],D=Object(s.useState)(null),T=Object(u.a)(D,2),_=T[0],A=T[1];return Object(s.useEffect)((function(){t&&(k(t.user),"like"==t.type?(r("liked your"),R("song "+t.title)):"comment"==t.type?r("commented"):"followed"==t.type&&r("followed you"))}),[t]),Object(s.useEffect)((function(){y&&(I(y.info.name),A(y.pfp.url),j(y.pfp.x),O(y.pfp.y),v(y.pfp.zoom))}),[y]),Object(c.jsxs)("div",{className:"notification-items",children:[Object(c.jsx)("div",{className:"notification-profile",children:Object(c.jsx)("div",{className:"pfp",id:"notfication-pfp",children:Object(c.jsx)("div",{className:"pfp-container",id:"notfication-pfp-container",children:Object(c.jsx)("pfp",{className:"pfp-box",id:"notfication-pfp-box",children:Object(c.jsx)("img",{id:"notfication-pfp-img",src:_,style:{transform:"translate(".concat(d-50,"px, ").concat(h-50,"px) scale(").concat(parseInt(x)/100+1,")")}})})})})}),Object(c.jsxs)("div",{className:"notification-info",children:[Object(c.jsx)("div",{className:"notification-userName",children:C}),Object(c.jsx)("div",{className:"notfication-type",children:Object(c.jsx)("span",{children:i})}),Object(c.jsx)("div",{className:"notification-activity",children:Object(c.jsx)("span",{children:U})})]})]})},E=(n(143),new v);var U=function(e){var t=Object(s.useContext)(C),n=Object(s.useState)(null),a=Object(u.a)(n,2),i=a[0],r=a[1];return Object(s.useEffect)((function(){E.getNotifications().then((function(e){return r(e)}))}),[t]),Object(c.jsx)("div",{id:"notification",children:Object(c.jsx)("div",{className:"notification-container",children:Object(c.jsxs)("div",{className:"notification-box",children:[Object(c.jsx)("div",{className:"notfication-header",children:Object(c.jsx)("span",{children:"Notifications"})}),Object(c.jsx)("div",{className:"notification-contents",children:i&&i.slice(0).reverse().map((function(e,t){return Object(c.jsx)(L,{notification:e},t)}))})]})})})};function R(e){var t=Object(s.useState)(e),n=Object(u.a)(t,2),c=n[0],a=n[1],i=Object(s.useRef)(null),r=function(e){i.current&&!i.current.contains(e.target)&&a(!1)};return Object(s.useEffect)((function(){return document.addEventListener("click",r,!0),function(){document.removeEventListener("click",r,!0)}})),{ref:i,isComponentVisible:c,setIsComponentVisible:a}}var D=new v;var T=function(e){var t=new y,n=R(!1),a=n.ref,i=n.isComponentVisible,r=n.setIsComponentVisible,o=function(e){var t=Object(s.useState)(e),n=Object(u.a)(t,2),c=n[0],a=n[1],i=Object(s.useRef)(null),r=function(e){i.current&&!i.current.contains(e.target)&&a(!1)};return Object(s.useEffect)((function(){return document.addEventListener("click",r,!0),function(){document.removeEventListener("click",r,!0)}})),{ref2:i,isComponentVisible2:c,setIsComponentVisible2:a}}(!1),l=o.ref2,d=o.isComponentVisible2,b=o.setIsComponentVisible2,p=Object(s.useState)(!0),h=Object(u.a)(p,2),O=(h[0],h[1],Object(s.useState)(!0)),m=Object(u.a)(O,2),f=(m[0],m[1],Object(s.useState)(null)),x=Object(u.a)(f,2),v=x[0],g=x[1],k=Object(s.useState)(null),w=Object(u.a)(k,2),C=w[0],L=(w[1],Object(s.useState)(null)),E=Object(u.a)(L,2),T=E[0],_=(E[1],Object(j.g)()),A=Object(s.useState)(!1),P=Object(u.a)(A,2),F=P[0],B=(P[1],Object(s.useState)(!0)),M=Object(u.a)(B,2),V=M[0],z=M[1],H=Object(s.useState)(),q=Object(u.a)(H,2),K=q[0],G=q[1],J=Object(s.useState)(null),W=Object(u.a)(J,2),Q=W[0],X=W[1];function Y(e){Z(e.target.getAttribute("data-name"))}function Z(e){z(!0),""!=e&&_.push("/results?search="+e)}return Object(s.useContext)(I),Object(s.useEffect)((function(){t.getUserId().then((function(e){return X(e)}))}),[]),Object(s.useEffect)((function(){}),[Q]),Object(s.useEffect)((function(){t.isloggedIn().then((function(e){e||_.push("/login")}))}),[]),Object(s.useEffect)((function(){null==v||""==v?z(!0):(console.log(v),z(!1),D.searchQ(v).then((function(e){return G(e)})))}),[v]),Object(c.jsx)("header",{children:Object(c.jsxs)("div",{id:"hd-container",children:[Object(c.jsx)("div",{id:"logo-contain",children:Object(c.jsx)(N.b,{to:"/",children:Object(c.jsx)("h1",{})})}),Object(c.jsxs)("div",{id:"search",children:[Object(c.jsx)("div",{className:"bar",children:Object(c.jsx)("input",{id:"searchBar",placeholder:"search",autoComplete:"off",onKeyUp:function(e){return"Enter"==e.key?Z(v):null},onChange:function(e){g(e.target.value.toLocaleLowerCase())}})}),Object(c.jsx)("div",{className:"searchBtn",children:Object(c.jsx)("span",{id:"srhBtn",className:"material-icons",onClick:function(){return Z(v)},children:"search"})}),V?null:Object(c.jsx)("div",{className:"searchList-wrapper",children:Object(c.jsx)("div",{className:"searchList-holder",children:Object(c.jsx)("ul",{children:K&&K.map((function(e,t){return Object(c.jsx)("li",{className:"lists",children:Object(c.jsx)("div",{className:"search-list",children:Object(c.jsxs)("span",{onClick:Y,"data-name":e.info.title,id:"autolist",children:[" ",e.info.title]})})},t)}))})})})]}),Object(c.jsx)("div",{ref:a,children:Object(c.jsxs)("div",{ref:l,children:[Object(c.jsxs)("div",{id:"buttons",children:[Object(c.jsx)("div",{className:"notification-button",onClick:function(){return b(!d)},children:F?Object(c.jsx)("span",{id:"notification-button",className:"material-icons",children:"notifications_active"}):Object(c.jsx)("span",{id:"notification-button",className:"material-icons",children:"notifications"})}),Object(c.jsx)("div",{className:"profile",onClick:function(){return r(!i)},children:Object(c.jsx)("img",{src:C,height:"25",width:"25",alt:"",id:"profile-drop"})})]}),d&&Object(c.jsx)(U,{}),i&&Object(c.jsx)(S,{uid:T}),!i&&null]})})]})})};var _=function(){var e=Object(s.useContext)(I),t=Object(s.useState)(),n=Object(u.a)(t,2),a=n[0],i=n[1];return Object(s.useEffect)((function(){i(e.getCurrentSong())}),[e.getCurrentSong()]),Object(c.jsx)("div",{id:"audio-preview",children:Object(c.jsx)("div",{className:"audio-preview-container",children:Object(c.jsx)("div",{className:"audio-preview-box",children:Object(c.jsxs)("div",{className:"audio-preview-contents",children:[Object(c.jsx)("div",{className:"audio-preview-image",children:Object(c.jsx)("div",{className:"image",style:{backgroundImage:'url("'.concat(a?a.src.imageURL:null,'")')}})}),Object(c.jsxs)("div",{className:"audio-preview-context",children:[Object(c.jsx)("div",{className:"audio-preview-title",children:Object(c.jsx)("span",{children:a?a.info.title:"unknown"})}),Object(c.jsx)("div",{className:"audio-preview-artist",children:Object(c.jsx)("span",{children:a?a.info.artist:"unknown"})})]})]})})})})};n(144);function A(e){var t,n=Object(s.useContext)(I),a=Object(s.useState)(0),i=Object(u.a)(a,2),r=i[0],o=i[1],l=Object(s.useState)(0),d=Object(u.a)(l,2),j=d[0],b=d[1],p=Object(s.useState)("open"),h=Object(u.a)(p,2),O=h[0],m=h[1];return Object(s.useEffect)((function(){n.audio.addEventListener("timeupdate",(function(e){var t=n.audio.currentTime/n.audio.duration*100;o(t),b(t)}))}),[]),Object(c.jsx)("section",{id:"fullscreen",className:"fullscreen-"+O,children:Object(c.jsx)("div",{className:"fullscreen-box",style:{backgroundImage:"url('".concat(null===(t=n.getCurrentSong())||void 0===t?void 0:t.src.imageURL,"')")},children:Object(c.jsxs)("div",{className:"fullscreen-container",children:[Object(c.jsx)("div",{className:"fullscreen-header",children:Object(c.jsx)("div",{className:"fullscreen-button go-back",onClick:function(){m("close"),setTimeout((function(){e.setIsHidden(!0)}),150)},children:Object(c.jsx)("span",{className:"material-icons",children:"arrow_back_ios"})})}),Object(c.jsx)("div",{className:"fullscreen-main",children:Object(c.jsxs)("div",{className:"fullscreen-btns",children:[Object(c.jsx)("div",{className:"fullscreen-prevBtn",onClick:function(){var e=n.getPreviousSong();e&&n.playSong(e)},children:Object(c.jsx)("span",{className:"material-icons",children:"skip_previous"})}),Object(c.jsx)("div",{className:"fullscreen-playBtn",children:n.audio.paused?Object(c.jsx)("span",{onClick:function(){return n.play()},className:"material-icons",children:"play_arrow"}):Object(c.jsx)("span",{onClick:function(){n.stop()},className:"material-icons",children:"pause"})}),Object(c.jsx)("div",{className:"fullscreen-nextBtn",onClick:function(){var e=n.getNextSong();e&&n.playSong(e)},children:Object(c.jsx)("span",{className:"material-icons",children:"skip_next"})})]})}),Object(c.jsx)("div",{className:"fullscreen-footer",children:Object(c.jsx)("div",{className:"fullscreen-track-progress",children:Object(c.jsxs)("div",{className:"fullscreen-track-progress-holder",children:[Object(c.jsx)("div",{className:"fullscreen-track-progress-meter",style:{width:r+"%"}}),Object(c.jsx)("input",{id:"fullscreen-meter",type:"range",onChange:function(e){var t=e.target.value;o(t),b(t),n.audio.currentTime=t/100*n.audio.duration},value:j})]})})})]})})})}function P(){var e=Object(s.useContext)(I);return Object(c.jsx)("div",{className:"play-container-mob",children:e.audio.paused?Object(c.jsx)("span",{onClick:function(){return e.play()},id:"play_btn",className:"material-icons",children:"play_circle_outline"}):Object(c.jsx)("span",{onClick:function(){return e.stop()},id:"play_btn",className:"material-icons",children:"pause_circle_outline"})})}var F=function(e){var t=Object(s.useContext)(I),n=Object(s.useState)(0),a=Object(u.a)(n,2),i=a[0],r=a[1],o=Object(s.useState)(1),l=Object(u.a)(o,2),d=l[0],j=l[1],b=Object(s.useState)(t.getCurrentTime()),p=Object(u.a)(b,2),h=p[0],O=p[1],m=Object(s.useState)(!0),f=Object(u.a)(m,2),x=f[0],v=f[1],g=window.innerWidth;function N(){var e=t.getNextSong();e&&t.playSong(e)}function y(){var e=t.getPreviousSong();e&&t.playSong(e)}return Object(s.useEffect)((function(){t.audio.addEventListener("timeupdate",(function(e){var n=t.audio.currentTime/t.audio.duration*100;O(t.getCurrentTime()),r(n)}))}),[e.AudioInfo]),Object(s.useEffect)((function(){t.volumeHandler(d)}),[d]),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("nexttrack",N),navigator.mediaSession.setActionHandler("previoustrack",y)),Object(c.jsxs)("div",{children:[x?null:Object(c.jsx)(A,{setIsHidden:v}),Object(c.jsx)("div",{className:"audio-wrapper".concat(g<500?"-mob":""),children:Object(c.jsx)("div",{className:"audio-container",children:Object(c.jsxs)("div",{className:"audio-box",children:[Object(c.jsx)("div",{className:"audio-toggle",onClick:function(){g<500&&v(!1)}}),Object(c.jsx)(_,{audio:e.AudioInfo}),g>500?Object(c.jsxs)("div",{className:"audio_elements-container",children:[Object(c.jsxs)("div",{className:"play_btn-container",children:[Object(c.jsx)("div",{className:"play-container",children:t.audio.paused?Object(c.jsx)("span",{onClick:function(){e.playAudio()},id:"play_btn",className:"material-icons",children:"play_circle_outline"}):Object(c.jsx)("span",{onClick:function(t){e.stop()},id:"play_btn",className:"material-icons",children:"pause_circle_outline"})}),Object(c.jsx)("span",{className:"material-icons",id:"fast_rewind",onClick:y,children:"skip_previous"}),Object(c.jsx)("span",{className:"material-icons",id:"fast_forward",onClick:N,children:"skip_next"})]}),Object(c.jsx)("div",{className:"progress_div",children:Object(c.jsx)("div",{class:"progress_holder",id:"prog_holder",onMouseDown:function(e){e.preventDefault();var n=(e.target||e.srcElement).getBoundingClientRect(),c=(e.clientX-n.left)/document.documentElement.offsetWidth;console.log(c),t.audio.currentTime=c*t.audio.duration*1.9},onMouseUp:function(e){e.preventDefault();var n=(e.target||e.srcElement).getBoundingClientRect(),c=(e.clientX-n.left)/document.documentElement.offsetWidth;console.log(c),t.audio.currentTime=c*t.audio.duration*1.9},children:Object(c.jsx)("div",{id:"progress_meter",style:{width:i+"%"}})})}),Object(c.jsx)("div",{className:"current",children:Object(c.jsx)("span",{children:h})}),Object(c.jsx)("div",{className:"duration",children:Object(c.jsx)("span",{children:t.getDuration()})}),Object(c.jsxs)("div",{className:"volume",children:[Object(c.jsx)("div",{className:"volume-i",children:Object(c.jsx)("span",{class:"material-icons",children:"volume_up"})}),Object(c.jsx)("div",{className:"volume_slider",children:Object(c.jsx)("input",{type:"range",onChange:function(e){return j(e.target.value/100)},value:100*d})})]})]}):Object(c.jsx)(P,{})]})})})]})};var B=function(){return Object(c.jsxs)("div",{className:"nav-div1",children:[Object(c.jsx)("span",{className:"nav-heading",children:"Navigation"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)(N.b,{to:"/",exact:!0,activeClassName:"btn-active",children:Object(c.jsxs)("li",{className:"btn",children:[Object(c.jsx)("span",{class:"material-icons",children:"home"}),Object(c.jsx)("p",{children:"Home"})]})}),Object(c.jsx)(N.b,{to:"/explore",children:Object(c.jsxs)("li",{className:"btn",children:[Object(c.jsx)("span",{class:"material-icons",children:"explore"}),Object(c.jsx)("p",{children:"explore"})]})}),Object(c.jsx)(N.b,{to:"/upload",exact:!0,activeClassName:"btn-active",children:Object(c.jsxs)("li",{className:"btn",children:[Object(c.jsx)("span",{class:"material-icons md-dark md-inactive",children:"upload"}),Object(c.jsx)("p",{children:"upload"})]})}),Object(c.jsx)(N.b,{to:"/account/edit",exact:!0,activeClassName:"btn-active",children:Object(c.jsxs)("li",{className:"btn",id:"ab",children:[Object(c.jsx)("span",{class:"material-icons",children:"perm_identity"}),Object(c.jsx)("p",{children:"edit"})]})})]})]})};var M=function(){var e=new y,t=Object(s.useState)(),n=Object(u.a)(t,2),a=n[0],i=n[1];return Object(s.useEffect)((function(){e.getUserId().then((function(e){i(e)}))}),[]),Object(c.jsxs)("div",{className:"nav-div2",children:[Object(c.jsx)("span",{className:"nav-heading",children:"Library"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)(N.b,{to:"/history",exact:!0,activeClassName:"btn-active",children:Object(c.jsxs)("li",{className:"btn",children:[Object(c.jsx)("span",{class:"material-icons",children:"history"}),Object(c.jsx)("p",{children:"history"})]})}),Object(c.jsx)(N.b,{to:"/liked",exact:!0,activeClassName:"btn-active",children:Object(c.jsxs)("li",{className:"btn",children:[Object(c.jsx)("span",{class:"material-icons",children:"favorite"}),Object(c.jsx)("p",{children:"Liked"})]})}),Object(c.jsx)(N.b,{to:"/u/"+a+"/music",exact:!0,activeClassName:"btn-active",children:Object(c.jsxs)("li",{className:"btn",children:[Object(c.jsx)("span",{class:"material-icons md-dark md-inactive",children:"album"}),Object(c.jsx)("p",{children:"Your Music"})]})})]})]})};var V=function(){return Object(c.jsx)("div",{className:"nav-div-mob",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)(N.b,{to:"/",exact:!0,activeClassName:"btn-active-mob",children:Object(c.jsx)("li",{className:"btn",children:Object(c.jsx)("div",{className:"nav-btn-container",children:Object(c.jsx)("span",{className:"material-icons",children:"home"})})})}),Object(c.jsx)(N.b,{to:"/explore",exact:!0,activeClassName:"btn-active-mob",children:Object(c.jsx)("li",{className:"btn",children:Object(c.jsx)("div",{className:"nav-btn-container",children:Object(c.jsx)("span",{className:"material-icons",children:"explore"})})})}),Object(c.jsx)(N.b,{to:"/upload",exact:!0,activeClassName:"btn-active-mob",children:Object(c.jsx)("li",{className:"btn",children:Object(c.jsx)("div",{className:"nav-btn-container",children:Object(c.jsx)("span",{className:"material-icons",children:"upload"})})})}),Object(c.jsx)(N.b,{to:"/library",exact:!0,activeClassName:"btn-active-mob",children:Object(c.jsx)("li",{className:"btn",children:Object(c.jsx)("div",{className:"nav-btn-container",children:Object(c.jsx)("span",{className:"material-icons",children:"library_music"})})})})]})})};var z=function(){var e=window.innerWidth,t=Object(j.g)(),n=new y,a=Object(s.useState)(),i=Object(u.a)(a,2),r=(i[0],i[1]);return Object(s.useEffect)((function(){n.getUserId().then((function(e){r(e)}))}),[]),e<500?Object(c.jsx)("div",{id:"nav-mob",children:Object(c.jsx)("nav",{className:"mob",children:Object(c.jsx)("div",{className:"main-nav-mob",children:Object(c.jsx)(V,{})})})}):Object(c.jsx)("div",{id:"nav",children:Object(c.jsxs)("nav",{children:[Object(c.jsx)("div",{className:"nav-heading",children:Object(c.jsx)("h2",{children:"Moosax"})}),Object(c.jsxs)("div",{className:"main-nav",children:[Object(c.jsx)(B,{}),Object(c.jsx)(M,{}),Object(c.jsx)("div",{className:"line",id:"nav-line"})]}),Object(c.jsxs)("div",{className:"signout",onClick:function(){n.signOut().then((function(e){console.log(e),t.push("/login")}))},children:[Object(c.jsx)("span",{className:"material-icons",children:"login"}),Object(c.jsx)("p",{children:"signout"})]})]})})};var H=function(e){return console.log(e),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{id:"about",className:"main",children:Object(c.jsx)("div",{className:"headingCont",children:Object(c.jsx)("h1",{children:"This is About"})})})})},q=new v;var K=function(e){new y;var t=Object(s.useState)(),n=Object(u.a)(t,2),a=n[0],i=(n[1],e.uID),r=e.music,o=(e.name,e.userName),l=Object(s.useState)(r.stats.likes),d=Object(u.a)(l,2),j=d[0],b=d[1],p=Object(s.useState)(),h=Object(u.a)(p,2),O=h[0],m=h[1],f=r.hasLiked;return Object(s.useEffect)((function(){m(!!f)}),[o]),Object(c.jsxs)("div",{class:"like",children:[Object(c.jsx)("i",{class:"material-icons",onClick:function(){q.sendLike(a,i,r.info.songID,r),O?(b(j-1),m(!1)):(m(!0),b(j+1))},children:O?Object(c.jsx)("p",{children:"favorite"}):Object(c.jsx)("p",{children:"favorite_border"})}),Object(c.jsx)("span",{children:j})]})};n(145);function G(e){return Object(c.jsx)("div",{id:"dot-option",children:Object(c.jsx)("div",{className:"dot-option-container",children:Object(c.jsx)("div",{className:"dot-option-box",children:Object(c.jsxs)("div",{className:"dot-option-content",children:[e.qued?Object(c.jsxs)("div",{className:"add-que",onClick:function(){e.remove()},children:[Object(c.jsx)("i",{class:"material-icons",children:"queue_music"}),Object(c.jsx)("span",{children:"remove que"})]}):Object(c.jsxs)("div",{className:"add-que",onClick:function(){e.que()},children:[Object(c.jsx)("i",{class:"material-icons",children:"queue_music"}),Object(c.jsx)("span",{children:"que"})]}),Object(c.jsxs)("div",{className:"share",children:[Object(c.jsx)("i",{class:"material-icons",children:"reply"}),Object(c.jsx)("span",{children:"share"})]}),Object(c.jsxs)("div",{className:"report",children:[Object(c.jsx)("i",{class:"material-icons",children:"flag"}),Object(c.jsx)("span",{children:"report"})]}),Object(c.jsxs)("div",{className:"cancel",children:[Object(c.jsx)("i",{class:"material-icons",children:"close"}),Object(c.jsx)("span",{children:"cancel"})]})]})})})})}var J=function(e){var t=R(!1),n=t.ref,a=t.isComponentVisible,i=t.setIsComponentVisible,r=Object(s.useContext)(I),o=Object(s.useState)(!1),l=Object(u.a)(o,2),d=(l[0],l[1],Object(s.useState)(r.isQued(e.song))),j=Object(u.a)(d,2),b=j[0],p=j[1];return Object(c.jsx)("div",{id:"three-dot",children:Object(c.jsxs)("div",{className:"three-dot-container",ref:n,onClick:function(){i(!a),console.log(a)},children:[Object(c.jsx)("div",{className:"dot-icon",children:Object(c.jsx)("span",{class:"material-icons",children:"more_horiz"})}),a&&Object(c.jsx)(G,{song:e.song,que:function(){r.loadSongs(e.song),p(!0)},remove:function(){r.removeSongs(e.song),p(!1)},qued:b})]})})};var W=function(e){new v,new y;var t=Object(s.useState)(!0),n=Object(u.a)(t,2),a=n[0],i=n[1],r=Object(s.useState)(!0),o=Object(u.a)(r,2),l=o[0],d=o[1],j=Object(s.useContext)(I),b=e.name,p=Object(s.useState)(),h=Object(u.a)(p,2),O=h[0],m=(h[1],e.load);return Object(s.useEffect)((function(){(j.audio.src!=b.src.aduioURL||j.audio.paused)&&i(!0),j.audio.src!=b.src.aduioURL||j.audio.paused||i(!1)}),[j.audio.src,b.src.aduioURL,j.audio.paused]),Object(c.jsxs)("div",{className:"music-preview-box",onMouseOut:function(){return d(!1)},tabIndex:e.index+1,children:[Object(c.jsx)(N.b,{to:"/listen?m=".concat(b.info.songID),children:Object(c.jsx)("div",{className:"user-musics-content",style:{backgroundImage:'url("'.concat(b.src.imageURL,'")')}})}),Object(c.jsx)("div",{className:"-button",children:a?Object(c.jsx)("i",{className:"material-icons",onClick:function(t){i(!1),e.play(b),j.loadSongs(m,"playlist")},value:b.info.title,id:"play_hover",children:"play_arrow"}):Object(c.jsx)("i",{onClick:function(t){i(!0),e.stop(t)},className:"material-icons",children:"pause"})}),Object(c.jsx)(J,{song:b,show:l}),Object(c.jsxs)("div",{id:"user-song-info",children:[Object(c.jsx)("div",{class:"user-song-title",children:Object(c.jsxs)("span",{children:[b.info.artist," - ",b.info.title]})}),Object(c.jsxs)("div",{class:"user-song-user",children:[Object(c.jsx)("div",{class:"mini-pfp",children:Object(c.jsx)("img",{src:e.pfp})}),Object(c.jsx)(N.b,{to:"/u/"+b.info.userID+"/music",children:Object(c.jsx)("span",{children:b.uploader.info.name})})]}),Object(c.jsxs)("div",{className:"stats",children:[Object(c.jsxs)("div",{class:"views",children:[Object(c.jsx)("i",{class:"material-icons",children:"play_arrow"}),Object(c.jsx)("span",{children:b.stats.views})]}),Object(c.jsx)(K,{name:b.info.title,uID:b.info.userID,userName:O,music:b})]})]})]})},Q=0;function X(e){var t=e.name,n=Object(s.useState)(Q),a=Object(u.a)(n,2),i=a[0],r=a[1];return Object(c.jsxs)("div",{id:"".concat(t,"-container"),className:"home-music-container ",children:[Object(c.jsxs)("div",{className:"musics-texts",children:[Object(c.jsx)("div",{className:"musics-title",children:Object(c.jsx)("h4",{children:e.h4})}),Object(c.jsx)("div",{className:"musics-subtext",children:Object(c.jsx)("span",{children:e.context})})]}),Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"preview-box-scroll",children:Object(c.jsx)("div",{className:"preview-box-container",id:"".concat(t,"-box-container"),style:{transform:"translate(".concat(i,"px, ",0,"px)")},children:e.children})}),Object(c.jsxs)("div",{className:"content-slider",children:[Object(c.jsx)("div",{id:"next",className:"slider",onClick:function(){r(Q-=225)},children:Object(c.jsx)("span",{className:"material-icons",children:"keyboard_arrow_right"})}),Object(c.jsx)("div",{id:"previous",className:"slider",onClick:function(){Q+=225,console.log(Q),r(Q)},children:Object(c.jsx)("span",{className:"material-icons",children:"keyboard_arrow_left"})})]})]})}var Y=function(e){var t=new v,n=Object(s.useState)([]),a=Object(u.a)(n,2),i=a[0],r=a[1];function o(t){e.play(t)}function l(){e.stop()}return Object(s.useEffect)((function(){t.getPopular().then((function(e){return r(e)}))}),[]),Object(c.jsx)(X,{name:"popular",h4:"Popular Musics",context:"Popular Musics For You",children:i&&i.map((function(t,n){return Object(c.jsx)(s.Fragment,{children:Object(c.jsx)(W,{name:t,play:o,userName:e.userName,stop:l,audio:e.audio,index:0,load:i})},n)}))})};var Z=function(e){var t=Object(s.useContext)(C),n=new v,a=Object(s.useState)(),i=Object(u.a)(a,2),r=i[0],o=i[1],l=Object(s.useState)(0),d=Object(u.a)(l,2);function j(t){e.play(t)}function b(){e.stop()}return d[0],d[1],Object(s.useEffect)((function(){n.getRecommend(t).then((function(e){return o(e)}))}),[t]),document.onscroll=function(){document.documentElement.scrollTop+window.innerHeight==document.documentElement.scrollHeight&&console.log("scrolled")},Object(c.jsx)(X,{name:"recomend",h4:"Recommended musics",context:"Most recomended musics for you",children:r&&r.map((function(t,n){return Object(c.jsx)(s.Fragment,{children:Object(c.jsx)(W,{name:t,play:j,userName:e.userName,stop:b,audio:e.audio,index:2,load:r})},n)}))})};var $=function(e){var t=Object(s.useState)(),n=Object(u.a)(t,2),a=n[0],i=n[1],r=Object(s.useState)(0),o=Object(u.a)(r,2),l=(o[0],o[1],new v);function d(t){e.play(t)}function j(){e.stop()}return Object(s.useEffect)((function(){l.getTrending().then((function(e){return i(e)}))}),[]),Object(c.jsx)(X,{name:"trending",h4:"Trending Musics",context:"Trending Musics For You",children:a&&a.map((function(t,n){return Object(c.jsx)(s.Fragment,{children:Object(c.jsx)(W,{name:t,play:d,stop:j,audio:e.audio,index:1,load:a})},n)}))})};var ee=function(e){var t=new v,n=Object(s.useState)(),a=Object(u.a)(n,2),i=a[0],r=a[1],o=Object(s.useState)(0),l=Object(u.a)(o,2);function d(t){e.play(t)}function j(){e.stop()}return l[0],l[1],Object(s.useEffect)((function(){t.getRecommendByFollowing().then((function(e){return r(e)}))}),[]),Object(c.jsx)(X,{name:"recomend",h4:"Recommended Musics By Your Followings",context:"Musics for you according to your following",children:i&&i.map((function(t,n){return Object(c.jsx)(s.Fragment,{children:Object(c.jsx)(W,{name:t,play:d,userName:e.userName,stop:j,audio:e.audio,index:3,load:i})},n)}))})};var te=function(e){document.title="Moosix";var t=Object(s.useContext)(C),n=(d.a.database(),Object(s.useState)()),a=Object(u.a)(n,2),i=a[0],r=a[1],o=Object(s.useState)("0%"),l=Object(u.a)(o,2);function j(t){e.play(t)}function b(t){e.stop()}return l[0],l[1],d.a.auth(),Object(s.useEffect)((function(){t&&d.a.database().ref("users/"+t+"/private/login credentials").on("value",(function(e){console.log(e),r(e.val().userName)}))}),[t]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{id:"home",className:"main",children:Object(c.jsx)("div",{className:"music-box",id:"home-box",children:Object(c.jsxs)("div",{className:"music-content-container",id:"home-musics",children:[Object(c.jsx)(Y,{play:j,stop:b,userName:i,audio:e.audio}),Object(c.jsx)($,{play:j,stop:b,userName:i,audio:e.audio}),Object(c.jsx)(Z,{play:j,stop:b,userName:i,audio:e.audio}),Object(c.jsx)(ee,{play:j,stop:b,userName:i,audio:e.audio})]})})})})},ne=n(36);n(146),d.a.initializeApp({apiKey:"AIzaSyBHl1g2tLiLoDJIoKaWCsrdJG_T5xaoj_E",authDomain:"music-app-2a7e7.firebaseapp.com",databaseURL:"https://music-app-2a7e7.firebaseio.com",projectId:"music-app-2a7e7",storageBucket:"music-app-2a7e7.appspot.com",messagingSenderId:"4335188008",appId:"1:4335188008:web:b38bfddbe8feae83dfdd1d"});var ce=function(e){var t,n,a=Object(j.g)(),i=new y,r=Object(s.useState)(),o=Object(u.a)(r,2),l=o[0],d=o[1];return i.isloggedIn().then((function(e){e&&a.push("/")})),Object(c.jsx)("div",{id:"login",className:"main-login",children:Object(c.jsx)("div",{className:"form-box",children:Object(c.jsxs)("div",{className:"form-container",children:[Object(c.jsxs)("div",{className:"inputHolder",children:[Object(c.jsx)("div",{className:"logo-form",children:Object(c.jsx)("h1",{children:"Logo"})}),Object(c.jsxs)("div",{className:"input-container",children:[Object(c.jsx)("div",{className:"email-holder",children:Object(c.jsx)("input",{placeholder:"email adress",id:"email",className:"-input"})}),Object(c.jsx)("div",{className:"password-holder",children:Object(c.jsx)("input",{placeholder:"password",id:"password",type:"password",className:"-input"})}),Object(c.jsx)("div",{className:"btn-holder",children:Object(c.jsx)("button",{onClick:function(e){console.log("hey"),t=document.getElementById("email").value,n=document.getElementById("password").value,i.login(t,n).then((function(e){e?d(e):(console.log(e),a.push("/explore"))}))},children:Object(c.jsx)("span",{children:Object(c.jsx)("b",{children:"Login"})})})})]})]}),Object(c.jsxs)("div",{class:"link-signup",children:[Object(c.jsx)("p",{children:l}),Object(c.jsxs)("p",{children:["Havent created account? plz ",Object(c.jsx)(N.b,{to:"./signup",children:" click here"})]})]})]})})})};var se,ae,ie,re=function(){var e=new v,t=Object(j.g)();return Object(c.jsx)("div",{id:"signUp",className:"main-login",children:Object(c.jsx)("div",{className:"form-box",children:Object(c.jsxs)("div",{className:"form-container",children:[Object(c.jsx)("div",{class:"logo-form",children:Object(c.jsx)("h1",{children:"Logo"})}),Object(c.jsxs)("div",{className:"input-container",children:[Object(c.jsx)("div",{className:"email-holder",children:Object(c.jsx)("input",{id:"email",placeholder:"email",className:"-input"})}),Object(c.jsx)("div",{className:"password-holder",children:Object(c.jsx)("input",{id:"password",placeholder:"password",className:"-input",type:"password"})}),Object(c.jsx)("div",{className:"username-holder",children:Object(c.jsx)("input",{id:"userName",placeholder:"username",className:"-input"})}),Object(c.jsx)("div",{class:"btn-holder",children:Object(c.jsx)("button",{onClick:function(){var n=document.getElementById("email").value,c=document.getElementById("password").value,s=document.getElementById("userName").value;function a(){return(a=Object(h.a)(p.a.mark((function n(c,a){var i,r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ne.a.auth().createUserWithEmailAndPassword(c,a);case 2:i=ne.a.auth().currentUser.uid,r={uid:i,private:{userName:s,userId:i},public:{profile:{info:{bio:"",firstName:s,lastName:s,name:s,songs:0,followers:0,following:0},pfp:{url:"",x:50,y:50,zoom:1}}}},e.createAcc(r),ne.a.database().ref("users/"+i+"/private/login credentials").set({userName:s,userId:i,userLog:!0}),ne.a.database().ref("users/"+i+"/public/profile").set({info:{bio:"",firstName:s,lastName:s,name:s},pfp:{url:"",x:50,y:50,zoom:1}}),t.push("./login");case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(e,t){a.apply(this,arguments)}(n,c)},children:"Next"})})]}),Object(c.jsx)("div",{class:"link-signup",children:Object(c.jsxs)("p",{children:["Already have an account? plz ",Object(c.jsx)(N.b,{to:"./login",children:" click here"})]})})]})})})},oe=(new Date,new v);function le(){var e=Object(s.useState)(),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(c.jsx)("div",{className:"edit-upload",children:Object(c.jsx)("div",{className:"edit-upload-box",children:Object(c.jsxs)("div",{className:"edit-upload-main",children:[Object(c.jsxs)("div",{className:"pic-wrapper",children:[Object(c.jsx)("div",{className:"pic-holder",children:Object(c.jsx)("img",{src:n,width:"260",height:"260",alt:"aimge-preview",id:"prev"})}),Object(c.jsxs)("div",{className:"album-cover",children:[Object(c.jsx)("input",{type:"file",id:"album-btn",hidden:!0,onChange:function(e){console.log(e.target),se=document.getElementById("album-btn").files[0],a(URL.createObjectURL(e.target.files[0]))},accept:"image/jpeg, image/png"}),Object(c.jsx)("label",{for:"album-btn",children:Object(c.jsx)("span",{children:"Upload image"})})]})]}),Object(c.jsxs)("div",{className:"song-form",children:[Object(c.jsxs)("div",{className:"song-title",children:[Object(c.jsx)("span",{children:"Title"}),Object(c.jsx)("div",{className:"input-title",children:Object(c.jsx)("input",{id:"title",placeholder:"Name of your song...",className:"-input-form",defaultValue:ae.name,autoComplete:"off"})})]}),Object(c.jsxs)("div",{className:"artist",children:[Object(c.jsx)("span",{children:"Artist"}),Object(c.jsx)("div",{className:"input-artist",children:Object(c.jsx)("input",{id:"artist",placeholder:"Name of the artist...",className:"-input-form",autoComplete:"off"})})]}),Object(c.jsxs)("div",{className:"Genre",children:[Object(c.jsx)("span",{children:"Genre"}),Object(c.jsx)("div",{className:"input-gerne",children:Object(c.jsx)("input",{id:"genre",placeholder:"Name of your genre...",className:"-input-form",autoComplete:"off"})})]}),Object(c.jsxs)("div",{className:"Description",children:[Object(c.jsx)("span",{children:"Description"}),Object(c.jsx)("div",{className:"input-gerne",children:Object(c.jsx)("input",{id:"description",placeholder:"Describe your track..",className:"-input-form",autoComplete:"off"})})]}),Object(c.jsxs)("div",{className:"Tags",children:[Object(c.jsx)("span",{children:"Tags"}),Object(c.jsx)("div",{className:"input-tags",children:Object(c.jsx)("input",{id:"tags",placeholder:"add tags",className:"-input-form",autoComplete:"off"})})]}),Object(c.jsxs)("div",{className:"privateOpt",children:[Object(c.jsx)("span",{children:"Privacy?:"}),Object(c.jsxs)("div",{className:"input-privacy",children:[Object(c.jsxs)("div",{className:"public",children:[Object(c.jsx)("input",{type:"radio",id:"publicRad",name:"radio1",value:"public"}),Object(c.jsx)("label",{for:"publicRad",children:"Public"})]}),Object(c.jsxs)("div",{className:"private",children:[Object(c.jsx)("input",{type:"radio",id:"privateRad",name:"radio1",value:"private"}),Object(c.jsx)("label",{for:"privateRad",children:"Private"})]})]})]}),Object(c.jsxs)("div",{className:"save-cancel",children:[Object(c.jsx)("div",{className:"cancel",children:Object(c.jsx)("button",{onClick:function(){ie.push("/")},children:"Cancel"})}),Object(c.jsx)("div",{className:"save",children:Object(c.jsx)("button",{onClick:function(e){console.log(e),e.target.disabled=!0;var t=document.getElementById("title").value,n=document.getElementById("artist").value,c=document.getElementById("genre").value,s=document.getElementById("description").value,a=document.getElementById("tags").value,i=document.getElementById("publicRad").checked;if(t.indexOf(".")>-1||t.indexOf("#")>-1||t.indexOf("/")>-1||t.indexOf("[")>-1||t.indexOf("]")>-1)console.log("cannot use special charecter");else if(!0===i){var r={title:t,artist:n,genre:c,description:s,tags:a,image:se,file:ae};oe.upload(r).then((function(){return ie.push("/")}))}},children:"Save"})})]})]})]})})})}var ue=function(){var e;function t(){return ae=document.getElementById("actual-btn").files[0],ie.push("/upload/info"),Object(c.jsx)(j.a,{to:"/upload/info"})}return ie=Object(j.g)(),Object(s.useEffect)((function(){}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(z,{}),Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{exact:!0,path:"/upload",children:Object(c.jsx)("div",{className:"main",id:"upload-main",children:Object(c.jsx)("div",{className:"upload-container",id:"uc",children:Object(c.jsx)("div",{className:"upload-box",onDrop:t,children:Object(c.jsxs)("div",{className:"upload-main",children:[Object(c.jsx)("h2",{children:"Choose a song you want to upload"}),Object(c.jsxs)("div",{className:"upload-button",children:[Object(c.jsx)("input",{type:"file",id:"actual-btn",hidden:!0,onChange:t,accept:"audio/wav, audio/mp3"}),Object(c.jsx)("label",{for:"actual-btn",children:Object(c.jsx)("span",{children:"Upload file"})})]})]})})})})}),Object(c.jsx)(j.b,(e={exact:!0,path:"/upload/info"},Object(o.a)(e,"exact",!0),Object(o.a)(e,"component",le),e))]})]})},de=n(26);n(147);var je=function(e){var t=e.uid,n=e.following,a=Object(s.useState)(),i=Object(u.a)(a,2),r=i[0],o=i[1],l=new v;return Object(s.useEffect)((function(){o(n)}),[n]),Object(c.jsx)("div",{id:"follow-btn",children:Object(c.jsx)("div",{className:r?"follow-btn-box-active":"follow-btn-box-inactive",id:"follow-btn-box",children:Object(c.jsxs)("div",{className:"follow-btn-container",children:[Object(c.jsx)("div",{className:"follow-btn-letter",onClick:function(){l.follow(t),o(!r)},children:r?Object(c.jsx)("span",{children:"Following"}):Object(c.jsx)("span",{children:"Follow"})}),Object(c.jsx)("div",{className:"follow-btn-icon",children:r?Object(c.jsx)("span",{class:"material-icons",children:"done"}):Object(c.jsx)("span",{class:"material-icons",children:"add"})})]})})})};n(148);var be=function(e){var t=Object(s.useContext)(I),n=e.track;return Object(c.jsx)("div",{id:"music-card",children:Object(c.jsx)("div",{className:"music-card-box",children:Object(c.jsxs)("div",{className:"music-card-container",children:[Object(c.jsx)("div",{id:"music-card-cover",children:Object(c.jsx)("div",{className:"album-cover",children:Object(c.jsx)("span",{style:{backgroundImage:'url("'.concat(n.src.imageURL,'")')}})})}),t.isPlaying(n)?Object(c.jsx)("div",{className:"play-btn",onClick:function(){return t.stop()},children:Object(c.jsx)("span",{className:"material-icons",children:"pause"})}):Object(c.jsx)("div",{className:"play-btn",onClick:function(){t.playSong(n),t.loadSongs(e.load,"playlist")},children:Object(c.jsx)("span",{className:"material-icons",children:"play_arrow"})}),Object(c.jsxs)("div",{className:"music-card-info-container",children:[Object(c.jsx)("div",{className:"music-card-left",children:Object(c.jsx)("div",{className:"music-card-title",children:Object(c.jsx)("h5",{children:n.info.title})})}),Object(c.jsxs)("div",{className:"music-card-middle",children:[Object(c.jsx)("div",{className:"music-card-uploader",children:Object(c.jsx)("span",{children:n.uploader.info.name})}),Object(c.jsx)("div",{className:"music-card-genre",children:Object(c.jsx)("span",{children:n.info.genre})})]}),Object(c.jsx)("div",{className:"music-card-bottom",children:Object(c.jsxs)("div",{className:"music-card-buttons-container",children:[Object(c.jsx)("div",{className:"music-card-share"}),Object(c.jsx)("div",{className:"music-card-views"}),Object(c.jsx)("div",{className:"music-card-comments"}),Object(c.jsx)("div",{className:"music-card-like"})]})})]}),Object(c.jsx)(J,{song:n})]})})})};var pe=function(e){var t=e.musics,n=e.uID,a=e.userName,i=e.pfp,r=e.user;function o(t){e.play(t)}function l(){console.log("yes stop"),e.stop()}var u=new URLSearchParams(Object(j.h)().search).get("view");return Object(c.jsx)("div",{className:"music-box",id:"music-box-userPage",children:Object(c.jsx)("div",{className:"music-content-container",children:Object(c.jsx)("div",{className:"user-musics",children:t&&t.map((function(d,j){return Object(c.jsx)(s.Fragment,{children:"list"===u?Object(c.jsx)(be,{track:d,load:t}):Object(c.jsx)(W,{load:t,name:d,play:o,uID:n,userName:a,pfp:i,user:r,stop:l,audio:e.audio})},j)}))})})})},he=new v,Oe=function(e){new y;var t=Object(s.useState)(),n=Object(u.a)(t,2),a=n[0],i=n[1],r=Object(s.useState)(),o=Object(u.a)(r,2),l=o[0],d=o[1],b=Object(s.useState)(),p=Object(u.a)(b,2),h=p[0],O=p[1],m=Object(s.useState)(),f=Object(u.a)(m,2),x=f[0],v=f[1],g=Object(s.useState)([]),N=Object(u.a)(g,2),k=N[0],w=N[1],S=Object(s.useState)(null),C=Object(u.a)(S,2),I=C[0],L=C[1],E=Object(s.useState)(null),U=Object(u.a)(E,2),R=U[0],D=U[1],T=Object(s.useState)(null),_=Object(u.a)(T,2),A=_[0],P=_[1],F=Object(s.useState)(),B=Object(u.a)(F,2),M=(B[0],B[1]),V=e.match.params.uID;return Object(s.useEffect)((function(){he.getUserData(V).then((function(e){v(e),w(e.tracks)}))}),[V]),Object(s.useEffect)((function(){x&&(P(x.public.profile.info.bio),M(x.public.profile.info.name),L(x.public.profile.info.name),D(x.public.profile.pfp.url),i(x.public.profile.pfp.x),d(x.public.profile.pfp.y),O(x.public.profile.pfp.zoom))}),[x]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(de.a,{children:Object(c.jsx)("title",{children:I&&I+" \u2022 Moosax"})}),Object(c.jsxs)("div",{id:"profile",className:"main",children:[Object(c.jsxs)("div",{className:"top-profile-container",children:[Object(c.jsxs)("div",{className:"profile-info-container",children:[Object(c.jsx)("div",{className:"cover-pic",style:{backgroundImage:'linear-gradient(to bottom, rgba(0, 0, 0, 0), var(--dark-secondary)), url("'.concat(R,'")')}}),Object(c.jsx)("div",{className:"user-head-container",children:Object(c.jsxs)("div",{className:"user-info",children:[Object(c.jsxs)("div",{className:"user-info-header",children:[Object(c.jsx)("div",{className:"user-name",children:Object(c.jsx)("h1",{children:I})}),Object(c.jsx)(je,{uid:V,following:(null===x||void 0===x?void 0:x.isFollowing)||!1})]}),Object(c.jsx)("div",{className:"user-info-middle",children:Object(c.jsx)("div",{className:"user-bio",children:Object(c.jsx)("span",{children:A})})}),Object(c.jsx)("div",{className:"user-info-footer"})]})})]}),Object(c.jsx)("div",{className:"pfp",children:Object(c.jsx)("div",{className:"pfp-container",children:Object(c.jsx)("pfp",{className:"pfp-box",children:Object(c.jsx)("img",{src:R,style:{transform:"translate(".concat(a-50,"px, ").concat(l-50,"px) scale(").concat(parseInt(h)/100+1,")")}})})})})]}),Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{exact:!0,path:"/u/"+V+"/music",children:Object(c.jsx)(pe,{musics:k,play:function(t){console.log(e),e.play(t)},uID:V,pfp:R,user:I,stop:function(){e.stop()},audio:e.audio})}),Object(c.jsx)(j.b,{exact:!0,path:"/u/"+V+"/playlist"})]})]})]})},me=new v;var fe=function(e){var t=Object(s.useState)(),n=Object(u.a)(t,2),a=(n[0],n[1],Object(s.useState)([])),i=Object(u.a)(a,2),r=i[0],o=i[1],l=Object(s.useState)(!0),d=Object(u.a)(l,2),b=d[0],p=d[1],h=new URLSearchParams(Object(j.h)().search).get("search");function O(t){e.play(t)}function m(){e.stop()}return console.log(h),Object(s.useEffect)((function(){h&&(o([]),p(!0),me.searchQ(h).then((function(e){return o(e)})).finally((function(){return p(!1)})))}),[h]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(de.a,{children:Object(c.jsx)("title",{children:h+" \u2022 Moosax"})}),Object(c.jsx)("div",{id:"home",className:"main",children:Object(c.jsx)("div",{className:"music-content-container",id:"home-musics",children:Object(c.jsx)("div",{className:"music-box",children:Object(c.jsxs)("div",{className:"user-musics",children:[r&&r.map((function(t,n){return Object(c.jsx)(s.Fragment,{children:Object(c.jsx)(W,{name:t,play:O,stop:m,uID:t.userID,pfp:t.pfpURL,user:t.artist,audio:e.audio})},n)})),b?Object(c.jsx)("div",{className:"loader",children:Object(c.jsx)(w.a,{type:"TailSpin",color:"#fff"})}):function(){if(0==r.length)return Object(c.jsx)("span",{children:"No Results"})}]})})})})]})};n(149),new v;var xe=function(e){var t,n=Object(s.useState)(),a=Object(u.a)(n,2),i=a[0],r=a[1],o=Object(s.useState)(),l=Object(u.a)(o,2),d=l[0],j=l[1],b=Object(s.useState)(),p=Object(u.a)(b,2),h=p[0],O=p[1],m=Object(s.useState)(),f=Object(u.a)(m,2),x=f[0],v=f[1],g=Object(s.useState)(!1),N=Object(u.a)(g,2),y=N[0],k=N[1],w=Object(s.useState)(),S=Object(u.a)(w,2),C=S[0],L=S[1],E=Object(s.useContext)(I);return Object(s.useEffect)((function(){e.nowPlaying||(Array.isArray(e.tracks)?E.playlistIncludes(E.getCurrentSong())?r(E.getCurrentSong()):r(e.tracks[0]):r(e.tracks))}),[e]),Object(s.useEffect)((function(){i&&(j(i.info.title),O(i.src.imageURL),v(i.info.artist),L(i.info.description),E.audio.src==i.src.aduioURL&&0==E.audio.paused?k(!0):k(!1))}),[i,null===(t=E.audio)||void 0===t?void 0:t.src,null===i||void 0===i?void 0:i.src.aduioURL,E.audio.paused]),Object(c.jsx)("div",{className:e.top||"top",children:Object(c.jsxs)("div",{className:"top-container",children:[Object(c.jsx)("div",{className:"bg-blur",style:{backgroundImage:'linear-gradient(to bottom, rgba(0, 0, 0, 0), var(--dark-secondary)), url("'.concat(h,'")')}}),Object(c.jsxs)("div",{className:"top-contents",children:[Object(c.jsx)("div",{className:"top-albumCover-wrapper",children:Object(c.jsx)("div",{className:"top-albumCover",style:{backgroundImage:'url("'.concat(h,'")')}})}),Object(c.jsxs)("div",{className:"top-info",children:[Object(c.jsx)("div",{className:"top-title",children:Object(c.jsx)("h2",{children:d})}),Object(c.jsx)("div",{className:"top-description",children:Object(c.jsx)("span",{children:C})}),Object(c.jsx)("div",{className:"top-artist-name",children:Object(c.jsx)("span",{children:x})})]}),Object(c.jsxs)("div",{className:"top-buttons",children:[Object(c.jsx)("div",{className:"top-play-botton",children:y?Object(c.jsx)("button",{onClick:function(){E.stop(),k(!1)},children:"pause"}):Object(c.jsx)("button",{onClick:function(){E.playSong(i),k(!0)},children:"play"})}),Object(c.jsx)("div",{className:"top-more-button"})]})]})]})})},ve=function(){function e(t){Object(O.a)(this,e),this.audio=new Audio,this.songArray=[],this.i=-1,this.areViewsUpdated=!1}return Object(m.a)(e,[{key:"setMetaData",value:function(){var e,t,n,c,s,a,i,r;"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:null===(e=this.song)||void 0===e?void 0:e.info.title,artist:null===(t=this.song)||void 0===t?void 0:t.info.artist,artwork:[{src:null===(n=this.song)||void 0===n?void 0:n.src.imageURL,sizes:"96x96",type:"image/png"},{src:null===(c=this.song)||void 0===c?void 0:c.src.imageURL,sizes:"128x128",type:"image/png"},{src:null===(s=this.song)||void 0===s?void 0:s.src.imageURL,sizes:"192x192",type:"image/png"},{src:null===(a=this.song)||void 0===a?void 0:a.src.imageURL,sizes:"256x256",type:"image/png"},{src:null===(i=this.song)||void 0===i?void 0:i.src.imageURL,sizes:"384x384",type:"image/png"},{src:null===(r=this.song)||void 0===r?void 0:r.src.imageURL,sizes:"512x512",type:"image/png"}]}))}},{key:"play",value:function(){var e,t,n,c=this;this.song&&(this.setMetaData(),console.log("playing"),this.audio.play(),this.i=this.songArray.indexOf(this.song),this.audio.addEventListener("timeupdate",(function(e){if(c.audio.currentTime==c.audio.duration&&c.i>-1&&c.i<c.songArray.length){console.log(c.i);var t=c.getNextSong();t&&c.playSong(t)}})),-1==this.i&&(this.songArray=[],this.songArray.push(this.song),this.i++),console.log(this.songArray),this.audio.addEventListener("play",(function(e){t=c.audio.currentTime,c.areViewsUpdatedareViewsUpdated||(n=setTimeout((function(){c.updateViews(t,c.audio.currentTime),c.areViewsUpdated=!0}),3e4-c.audio.currentTime))})),this.audio.addEventListener("pause",(function(s){e=c.audio.currentTime,c.updateViews(t,e),clearTimeout(n)})),this.audio.addEventListener("ended",(function(s){e=c.audio.currentTime,c.updateViews(t,e),clearTimeout(n)})))}},{key:"stop",value:function(){this.audio.pause()}},{key:"removeSongs",value:function(e){var t=this.songArray.filter((function(t){return t!=e}));this.songArray=t}},{key:"getNextSong",value:function(){return this.songArray&&this.i>-1&&this.i<this.songArray.length?this.songArray[this.i+1]:null}},{key:"playNext",value:function(){var e=this.getNextSong();e&&this.playSong(e)}},{key:"playPrevious",value:function(){var e=this.getPreviousSong();e&&this.playSong(e)}},{key:"getPreviousSong",value:function(){if(this.songArray&&this.i>0&&this.i<this.songArray.length){var e=this.songArray[this.i-1];return console.log(e),e}return null}},{key:"playSong",value:function(e){this.song=e,this.audio.src=e.src.aduioURL,this.play(e)}},{key:"loadSongs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"song";"playlist"===t?this.songArray=e:"song"===t&&this.songArray.push(e)}},{key:"like",value:function(e){var t={likedBy:e,likedOf:this.song.info.uid,song_name:this.song.info.songID||this.song.info.title,song:this.song};this.postData("/api/music/like/send",t)}},{key:"updateViews",value:function(e,t){if(t-e>28){var n={info:{initialTime:e,finalTime:t},track:this.song};this.postData("/api/music/views/update",n)}}},{key:"createPlaylists",value:function(e){this.songArray=[],this.loadSongs(e.songs,"playlist")}},{key:"volumeHandler",value:function(e){this.audio.volume=e}},{key:"getCurrentSong",value:function(){return this.song}},{key:"getDuration",value:function(){return this.audio.duration?Math.floor(this.audio.duration/60).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+Math.floor(this.audio.duration%60).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}):"00:00"}},{key:"getCurrentTime",value:function(){return this.audio.currentTime?Math.floor(this.audio.currentTime/60).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+Math.floor(this.audio.currentTime%60).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}):"00:00"}},{key:"isPaused",value:function(){return this.audio.paused}},{key:"playlistIncludes",value:function(e){return this.songArray.includes(e)}},{key:"showPlaylists",value:function(){return this.songArray}},{key:"isQued",value:function(e){var t=!1;if(this.songArray)for(var n=0;n<this.songArray.length;n++){if((null===e||void 0===e?void 0:e.sid)==this.songArray[n].info.songID){t=!0;break}t=!1}return t}},{key:"isPlaying",value:function(e){return!this.audio.paused&&e.src.aduioURL===this.audio.src||this.audio.src===e.src.aduioURL&&!this.audio.paused&&void 0}},{key:"postData",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n,c,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:{},e.next=4,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"CSRF-Token":x.a.get("XSRF-TOKEN"),"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 4:return c=e.sent,e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ge=function(){function e(t,n){Object(O.a)(this,e),this.songs=n||[],this.playlistName=t}return Object(m.a)(e,[{key:"createNewPlaylist",value:function(e,t){this.playlistName=e,this.songs=t}},{key:"addSong",value:function(e){this.songs.push(e)}},{key:"removeSong",value:function(e){var t=this.songs.filter((function(t){return t!==e}));this.songs=t}},{key:"getSongs",value:function(){return this.songs}}]),e}();n(150);var Ne=function(e){var t=e.tracks;return Object(c.jsx)("section",{id:"playlist-wrapper",children:Object(c.jsx)("div",{className:"playlist-box",children:Object(c.jsx)("div",{className:"playlist-container",children:e.isLoading?Object(c.jsx)("div",{className:"loader",children:Object(c.jsx)(w.a,{type:"TailSpin",color:"#fff"})}):t&&t.map((function(e,n){return Object(c.jsx)(be,{track:e,load:t})}))})})})},ye=new v;var ke=function(e){Object(s.useContext)(I),new y;var t=Object(s.useState)(null),n=Object(u.a)(t,2),a=n[0],i=n[1],r=Object(s.useState)(null),o=Object(u.a)(r,2),l=(o[0],o[1],Object(s.useState)(!0)),d=Object(u.a)(l,2),j=d[0],b=d[1];return Object(s.useEffect)((function(){ye.getUserLikes().then((function(e){console.log(e),i(e)})).finally((function(){b(!1)}))}),[]),Object(c.jsxs)("div",{id:"userLikes",className:"main",children:[Object(c.jsx)(de.a,{children:Object(c.jsx)("title",{children:"Liked Songs \u2022 Moosax"})}),Object(c.jsx)("div",{className:"music-content-container",id:"userLikes-music",children:Object(c.jsxs)("div",{className:"music-box",id:"userLikes-box",children:[Object(c.jsx)(xe,{tracks:a,nowPlaying:null,play:e.play,audio:e.audio,stop:e.stop}),Object(c.jsx)(Ne,{tracks:a,isLoading:j})]})})]})},we=(n(151),new v);var Se=function(e){var t=new URLSearchParams(Object(j.h)().search),n=Object(s.useState)(null),a=Object(u.a)(n,2),i=a[0],r=a[1],o=t.get("m"),l=t.get("uid");return Object(s.useEffect)((function(){t&&we.getSongsById(l,o).then((function(e){r(e)}))}),[o]),Object(c.jsxs)("div",{id:"listen",className:"main",children:[Object(c.jsx)(de.a,{children:Object(c.jsx)("title",{children:i&&i.info.title+" \u2022 Moosax"})}),Object(c.jsx)("div",{className:"music-content-container",id:"listen-music",children:Object(c.jsx)("div",{className:"music-box",id:"listen-box",children:Object(c.jsx)(xe,{tracks:i,nowPlaying:null,play:e.play,audio:e.audio,stop:e.stop,top:"top-listen"})})})]})},Ce=new Audio,Ie=new ve;new ge;var Le=function(){var e,t=Object(s.useState)(!0),n=Object(u.a)(t,2),a=n[0],i=n[1],r=Object(j.g)(),b=Object(s.useReducer)((function(e){return e+1}),0),p=Object(u.a)(b,2),h=(p[0],p[1]),O=new y,m=Object(s.useState)("0%"),f=Object(u.a)(m,2),x=f[0],v=(f[1],Object(s.useState)()),k=Object(u.a)(v,2),S=k[0],L=(k[1],Object(s.useState)(null)),E=Object(u.a)(L,2),U=E[0],R=(E[1],Object(s.useState)()),D=Object(u.a)(R,2);function _(e){Ie.audio.src===e.src.aduioURL?(Ie.play(),e.title):(Ie.playSong(e),e.info.songID||e.info.title)}function A(e){Ie.stop()}return D[0],D[1],d.a.database(),Object(s.useEffect)((function(){O.isloggedIn().then((function(e){})).finally((function(){i(!1)})),Ie.audio.addEventListener("play",(function(e){Ie.audio.paused||h()})),Ie.audio.addEventListener("pause",(function(e){Ie.audio.paused&&h()}))}),[r]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(N.a,{children:Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{path:"/login",exact:!0,component:ce}),Object(c.jsx)(j.b,{path:"/Signup",exact:!0,component:re}),Object(c.jsx)("div",{className:"dark",id:"main-render",children:a?Object(c.jsx)(w.a,{type:"TailSpin",color:"#fff"}):Object(c.jsx)(C.Provider,{value:U,children:Object(c.jsxs)(I.Provider,{value:Ie,children:[Object(c.jsx)(j.b,{exact:!0,path:"/about",render:function(e){return Object(c.jsx)(H,Object(l.a)({},e))}}),Object(c.jsx)(j.b,{path:"/upload",component:ue}),Object(c.jsx)(j.b,{exact:!0,path:"/account/edit",component:g}),Object(c.jsx)(j.b,{path:"/u/:uID",render:function(e){return Object(c.jsx)(Oe,Object(l.a)(Object(l.a)({},e),{},{play:_,stop:A,audio:Ce}))}}),Object(c.jsx)(j.b,(e={exact:!0,path:"/"},Object(o.a)(e,"exact",!0),Object(o.a)(e,"render",(function(e){return Object(c.jsx)(te,Object(l.a)(Object(l.a)({},e),{},{play:_,stop:A,audio:Ce}))})),e)),Object(c.jsx)(j.b,{path:"/results",exact:!0,render:function(e){return Object(c.jsx)(fe,Object(l.a)(Object(l.a)({},e),{},{play:_,stop:A,audio:Ce}))}}),Object(c.jsx)(j.b,{path:"/listen",exact:!0,render:function(e){return Object(c.jsx)(Se,Object(l.a)(Object(l.a)({},e),{},{play:_,stop:A,audio:Ce}))}}),Object(c.jsx)(j.b,{path:"/liked",exact:!0,render:function(e){return Object(c.jsx)(ke,Object(l.a)(Object(l.a)({},e),{},{play:_,stop:A,audio:Ce}))}}),Object(c.jsx)(F,{progVal:x,stop:A,playAudio:function(){Ie.play()},audio:Ce,volumeHandler:function(e){Ce.volume=e},AudioInfo:S,next:function(){var e=Ie.getNextSong();e&&Ie.playSong(e)},previous:function(){var e=Ie.getPreviousSong();e&&Ie.playSong(e)}}),Object(c.jsx)(z,{}),Object(c.jsx)(T,{})]})})})]})})})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,153)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(Le,{})}),document.getElementById("root")),Ee()},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},86:function(e,t,n){}},[[152,1,2]]]);
//# sourceMappingURL=main.ff456463.chunk.js.map