(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},53:function(e,t,c){},55:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c(3),n=c.n(a),i=c(31),r=c.n(i),l=(c(40),c(19)),o=c(21),u=c(4),d=(c(41),c(42),c(43),c(44),c(45),c(46),c(47),c(48),c(49),c(6));var j=function(e,t,c){return e+30.4*t+365*c},b=(c(53),c(10)),p=c.n(b),h=c(14),m=c(32),O=c(33),f=function(){function e(t){Object(m.a)(this,e),this.uid=t}return Object(O.a)(e,[{key:"getPopular",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/home/popular",{mode:"cors"});case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTrending",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/home/trending",{mode:"cors"});case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getRecommend",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/home/recomended?uid="+t);case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserSongs",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/u/musics?uid="+t);case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserData",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/u/data?uid="+t);case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchQ",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==t||null==t){e.next=8;break}return e.next=3,fetch("/api/home/result?search="+t,{mode:"cors"});case 3:return c=e.sent,e.next=6,c.json();case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkName",value:function(e){if(null!=e||""!=e)return this.postData("/api/profile/checkname",{name:e})}},{key:"update_profile",value:function(e){this.url&&(e.data.pfp.url=this.url),console.log(e);this.postData("/api/profile/update",{update:e})}},{key:"update_profile_pic",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var c,s=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.a.storage(),e.next=3,c.ref("/users/profile/pfp").child(t.name).put(t).then((function(e){return e.ref.getDownloadURL()})).then((function(e){return s.url=e})).then((function(){return console.log("completed")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendLike",value:function(e,t,c,s){var a={likedBy:e,likedOf:t,song_name:c,song:s};this.postData("/api/music/like/send",a)}},{key:"postData",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,c,s,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",c=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(c)});case 4:return s=e.sent,e.abrupt("return",s.json());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();var x=function(){var e;d.a.auth().onAuthStateChanged((function(t){e=t.uid}));var t=new f(e);document.title="Edit Profile";var c=Object(a.useState)(),n=Object(u.a)(c,2),i=n[0],r=n[1],l=Object(a.useState)(50),o=Object(u.a)(l,2),j=o[0],b=o[1],p=Object(a.useState)(50),h=Object(u.a)(p,2),m=h[0],O=h[1],x=Object(a.useState)(0),v=Object(u.a)(x,2),g=v[0],N=v[1],y=Object(a.useState)(null),w=Object(u.a)(y,2),k=w[0],S=w[1],C=Object(a.useState)(null),U=Object(u.a)(C,2),I=U[0],L=U[1],D=Object(a.useState)(null),_=Object(u.a)(D,2),E=_[0],R=_[1],B=Object(a.useState)(null),A=Object(u.a)(B,2),F=A[0],T=A[1],P=Object(a.useState)(null),M=Object(u.a)(P,2),z=M[0],H=M[1];return Object(s.jsx)("div",{id:"edit-profile",className:"main",children:Object(s.jsx)("div",{className:"edit-profile-container",children:Object(s.jsxs)("div",{className:"edit-profile-box",children:[Object(s.jsxs)("div",{className:"edit-head-wrapper",children:[Object(s.jsx)("div",{className:"edit-head",children:Object(s.jsx)("span",{children:"Edit Your Profile"})}),Object(s.jsx)("div",{className:"line",id:"edit-line"})]}),Object(s.jsxs)("div",{className:"profile-form-container",children:[Object(s.jsxs)("div",{className:"pfp-preview",children:[Object(s.jsxs)("div",{className:"pfp-preview-box",children:[Object(s.jsxs)("div",{className:"crop-container",children:[Object(s.jsx)("div",{className:"crop"}),Object(s.jsx)("img",{src:z,alt:"image-preview",id:"preview",style:{transform:"translate(".concat(j-50,"px, ").concat(m-50,"px) scale(").concat(parseInt(g)/100+1,")")}})]}),Object(s.jsxs)("div",{className:"upload-pfp",children:[Object(s.jsx)("input",{type:"file",id:"upload-pfp-btn",hidden:!0,onChange:function(e){return t=e.target.files,r(t[0]),void H(URL.createObjectURL(t[0]));var t}}),Object(s.jsx)("label",{htmlFor:"upload-pfp-btn",children:Object(s.jsx)("span",{children:"Upload file"})})]})]}),Object(s.jsx)("div",{className:"sliders",children:Object(s.jsxs)("div",{className:"slider-box",children:[Object(s.jsx)("div",{className:"slider-x",children:Object(s.jsx)("input",{type:"range",value:j,onChange:function(e){return b(e.target.value)}})}),Object(s.jsx)("div",{className:"slider-y",children:Object(s.jsx)("input",{type:"range",value:m,onChange:function(e){return O(e.target.value)}})}),Object(s.jsx)("div",{className:"slider-zoom",children:Object(s.jsx)("input",{type:"range",value:g,onChange:function(e){return N(e.target.value)}})})]})})]}),Object(s.jsxs)("div",{className:"profile-form",children:[Object(s.jsxs)("div",{className:"display-name",children:[Object(s.jsx)("div",{className:"form-label",children:Object(s.jsx)("span",{children:"Display Name"})}),Object(s.jsx)("div",{className:"display-name-input",children:Object(s.jsx)("input",{className:"-input-form",type:"text",placeholder:"Name...",onKeyUp:function(e){return S(e.target.value)}})})]}),Object(s.jsxs)("div",{className:"first Name",children:[Object(s.jsx)("div",{className:"form-label",children:Object(s.jsx)("span",{children:"First Name"})}),Object(s.jsx)("div",{className:"first-name-input",children:Object(s.jsx)("input",{className:"-input-form",type:"text",placeholder:"First Name...",onKeyUp:function(e){return L(e.target.value)}})})]}),Object(s.jsxs)("div",{className:"last Name",children:[Object(s.jsx)("div",{className:"form-label",children:Object(s.jsx)("span",{children:"Last Name"})}),Object(s.jsx)("div",{className:"last-name-input",children:Object(s.jsx)("input",{className:"-input-form",type:"text",placeholder:"Last Name...",onKeyUp:function(e){return R(e.target.value)}})})]}),Object(s.jsxs)("div",{className:"bio",children:[Object(s.jsx)("div",{className:"form-label",children:Object(s.jsx)("span",{children:"Bio"})}),Object(s.jsx)("div",{className:"bio-input",children:Object(s.jsx)("textarea",{className:"-input-form",type:"text",placeholder:"describe yourself...",onKeyUp:function(e){return T(e.target.value)}})})]})]}),Object(s.jsxs)("div",{className:"save-cancel",children:[Object(s.jsx)("div",{className:"cancel",children:Object(s.jsx)("button",{onClick:function(){},children:"Cancel"})}),Object(s.jsx)("div",{className:"save",children:Object(s.jsx)("button",{onClick:function(){var c={data:{info:{name:k,firstName:I,lastName:E,bio:F},pfp:{url:"",x:j,y:m,zoom:g}},temp:{userId:e}};i?t.update_profile_pic(i).then((function(){t.update_profile(c)})):t.update_profile(c)},children:"Save"})})]})]})]})})})},v=c(7);c(55);var g=function(e){var t=Object(a.useState)(),c=Object(u.a)(t,2),n=(c[0],c[1]);return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"dropdown-wrapper",children:Object(s.jsx)("div",{className:"dropdown",children:Object(s.jsx)("div",{className:"dropdown-box",children:Object(s.jsx)("div",{className:"dropdown-lists",children:Object(s.jsxs)("ul",{children:[Object(s.jsx)(v.b,{to:"/u/"+e.uid+"/music",children:Object(s.jsx)("li",{children:"Profile"})}),Object(s.jsx)("li",{children:"#"}),Object(s.jsx)("li",{children:"#"}),Object(s.jsx)("li",{children:"#"}),Object(s.jsx)("li",{onClick:function(){return n("dark")},children:"Dark Mode"}),Object(s.jsx)("li",{children:"Sign Out"})]})})})})})})},N=c(11),y=new f;var w=function(e){var t=Object(a.useState)(!0),c=Object(u.a)(t,2),n=c[0],i=c[1],r=Object(a.useState)(null),l=Object(u.a)(r,2),o=l[0],j=l[1],b=Object(a.useState)(null),p=Object(u.a)(b,2),h=p[0],m=(p[1],Object(a.useState)(null)),O=Object(u.a)(m,2),f=O[0],x=O[1],w=Object(N.g)(),k=Object(a.useState)([]),S=Object(u.a)(k,2),C=(S[0],S[1]),U=Object(a.useState)(!0),I=Object(u.a)(U,2),L=I[0],D=I[1],_=Object(a.useState)(),E=Object(u.a)(_,2),R=E[0],B=E[1];function A(e){F(e.target.getAttribute("data-name"))}function F(e){D(!0),""!=e&&w.push("/results?search="+e)}return d.a.auth().onAuthStateChanged((function(e){e?x(e.uid):w.push("/login")})),window.onclick=function(e){"searchBar"!==e.target.id&&D(!0),"profile-drop"==e.target.id&&n?i(!1):("profile-drop"!==e.target.id||"profile-drop"==e.target.id&&0==n)&&i(!0)},Object(a.useEffect)((function(){fetch("/api/home/popular",{mode:"cors"}).then((function(e){return e.json()})).then((function(e){C(e)}))}),[]),Object(a.useEffect)((function(){""!=o?(D(!1),y.searchQ(o).then((function(e){return B(e)}))):D(!0)}),[o]),Object(s.jsx)("header",{children:Object(s.jsxs)("div",{id:"hd-container",children:[Object(s.jsx)("div",{id:"logo-contain",children:Object(s.jsx)(v.b,{to:"/",children:Object(s.jsx)("h1",{})})}),Object(s.jsxs)("div",{id:"search",children:[Object(s.jsx)("div",{className:"bar",children:Object(s.jsx)("input",{id:"searchBar",placeholder:"search",autoComplete:"off",onKeyUp:function(e){return"Enter"==e.key?F(o):null},onChange:function(e){j(e.target.value.toLocaleLowerCase())}})}),Object(s.jsx)("div",{className:"searchBtn",children:Object(s.jsx)("span",{id:"srhBtn",className:"material-icons",onClick:function(){return F(o)},children:"search"})}),L?null:Object(s.jsx)("div",{className:"searchList-wrapper",children:Object(s.jsx)("div",{className:"searchList-holder",children:Object(s.jsx)("ul",{children:R&&R.map((function(e,t){return Object(s.jsx)("li",{className:"lists",children:Object(s.jsx)("div",{className:"search-list",children:Object(s.jsxs)("span",{onClick:A,"data-name":e.info.title,id:"autolist",children:[" ",e.info.title]})})},t)}))})})})]}),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{id:"buttons",children:Object(s.jsx)("div",{className:"profile",children:Object(s.jsx)("img",{src:h,height:"40",width:"40",alt:"",id:"profile-drop"})})}),n?null:Object(s.jsx)(g,{uid:f})]})]})})};c(63),d.a.initializeApp({apiKey:"AIzaSyBHl1g2tLiLoDJIoKaWCsrdJG_T5xaoj_E",authDomain:"music-app-2a7e7.firebaseapp.com",databaseURL:"https://music-app-2a7e7.firebaseio.com",projectId:"music-app-2a7e7",storageBucket:"music-app-2a7e7.appspot.com",messagingSenderId:"4335188008",appId:"1:4335188008:web:b38bfddbe8feae83dfdd1d"});var k=function(e){Object(a.useRef)().current;var t=Object(a.useState)(),c=Object(u.a)(t,2),n=(c[0],c[1],Object(a.useState)(0)),i=Object(u.a)(n,2),r=i[0],l=i[1],o=Object(a.useState)(1),d=Object(u.a)(o,2),j=d[0],b=d[1];return e.play,Object(a.useEffect)((function(){l(e.progVal)}),[e.progVal]),Object(a.useEffect)((function(){e.volumeHandler(j)}),[j]),Object(s.jsx)("div",{className:"audio-wrapper",children:Object(s.jsx)("div",{className:"audio-container",children:Object(s.jsxs)("div",{className:"audio-box",children:[Object(s.jsx)("div",{className:"play_btn-container",children:e.audio.paused?Object(s.jsx)("span",{onClick:function(){e.playAudio()},id:"play_btn",className:"material-icons",children:"play_arrow"}):Object(s.jsx)("span",{onClick:function(t){e.stop()},id:"play_btn",className:"material-icons",children:"pause"})}),Object(s.jsx)("div",{className:"progress_div",children:Object(s.jsx)("div",{class:"progress_holder",id:"prog_holder",children:Object(s.jsx)("div",{id:"progress_meter",style:{width:r+"%"}})})}),Object(s.jsxs)("div",{className:"volume",children:[Object(s.jsx)("div",{className:"volume-i",children:Object(s.jsx)("span",{class:"material-icons",children:"volume_up"})}),Object(s.jsx)("div",{className:"volume_slider",children:Object(s.jsx)("input",{type:"range",onChange:function(e){return b(e.target.value/100)},value:100*j})})]})]})})})};var S=function(){var e,t=Object(N.g)();return d.a.auth().onAuthStateChanged((function(t){e=t})),Object(s.jsx)("div",{id:"nav",children:Object(s.jsx)("nav",{children:Object(s.jsxs)("ul",{children:[Object(s.jsx)(v.b,{to:"/",exact:!0,activeClassName:"btn-active",children:Object(s.jsx)("li",{className:"btn",children:Object(s.jsx)("span",{class:"material-icons",children:"home"})})}),Object(s.jsx)(v.b,{to:"/explore",children:Object(s.jsx)("li",{className:"btn",children:Object(s.jsx)("span",{class:"material-icons",children:"explore"})})}),Object(s.jsx)(v.b,{to:"/upload",exact:!0,activeClassName:"btn-active",children:Object(s.jsx)("li",{className:"btn",children:Object(s.jsx)("span",{class:"material-icons",children:"upload"})})}),Object(s.jsx)(v.b,{to:"/about",exact:!0,activeClassName:"btn-active",children:Object(s.jsx)("li",{className:"btn",id:"ab",children:Object(s.jsx)("span",{class:"material-icons",children:"priority_high"})})}),Object(s.jsx)("div",{className:"signout",onClick:function(){e?(console.log("yes"),d.a.auth().signOut(),t.push("/login")):(console.log("signout"),t.push("/login"))},children:Object(s.jsx)("span",{className:"material-icons",children:"login"})})]})})})};var C=function(e){return console.log(e),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{id:"about",className:"main",children:Object(s.jsx)("div",{className:"headingCont",children:Object(s.jsx)("h1",{children:"This is About"})})})})},U=new f;var I=function(e){var t,c=e.uID,n=e.music;d.a.auth().currentUser&&(t=d.a.auth().currentUser.uid);var i=e.name,r=e.userName,l=Object(a.useState)(n.stats.likes),o=Object(u.a)(l,2),j=o[0],b=o[1],p=Object(a.useState)(),h=Object(u.a)(p,2),m=h[0],O=h[1],f=Object(a.useState)(),x=Object(u.a)(f,2),v=(x[0],x[1],n.widgetInfo&&void 0!=n.widgetInfo.likes[t]);return Object(a.useEffect)((function(){O(!!v)}),[r]),Object(s.jsxs)("div",{class:"like",children:[Object(s.jsx)("i",{class:"material-icons",onClick:function(){U.sendLike(t,c,i,n),m?(b(j-1),O(!1)):(O(!0),b(j+1))},children:m?Object(s.jsx)("p",{children:"favorite"}):Object(s.jsx)("p",{children:"favorite_border"})}),Object(s.jsx)("span",{children:j})]})},L=c.p+"static/media/Hover1.01e40da2.mp3";var D=function(e){var t=Object(a.useRef)(),c=Object(a.useState)(!0),n=Object(u.a)(c,2),i=n[0],r=n[1],l=e.name,o=(e.uID,e.userName),d=e.audio;return Object(a.useEffect)((function(){(d.src!=l.src.aduioURL||d.paused)&&r(!0),d.src!=l.src.aduioURL||d.paused||r(!1)}),[d.src,l.src.aduioURL,d.paused]),Object(s.jsxs)("div",{className:"music-preview-box",children:[Object(s.jsx)("audio",{id:"sfx",src:L,ref:t,type:"audio/mpeg"}),Object(s.jsx)(v.b,{to:"/listen?m=".concat("idk","&uid=","idk"),children:Object(s.jsx)("div",{className:"user-musics-content",style:{backgroundImage:'url("'.concat(l.src.imageURL,'")')}})}),Object(s.jsx)("div",{className:"-button",children:i?Object(s.jsx)("i",{className:"material-icons",onClick:function(t){r(!1),e.play(l)},value:l.info.title,id:"play_hover",children:"play_arrow"}):Object(s.jsx)("i",{onClick:function(t){r(!0),e.stop(t)},className:"material-icons",children:"pause"})}),Object(s.jsxs)("div",{id:"user-song-info",children:[Object(s.jsx)("div",{class:"user-song-title",children:Object(s.jsxs)("span",{children:[l.info.artist," - ",l.info.title]})}),Object(s.jsxs)("div",{class:"user-song-user",children:[Object(s.jsx)("div",{class:"mini-pfp",children:Object(s.jsx)("img",{src:e.pfp,width:"30",height:"30"})}),Object(s.jsx)(v.b,{to:"/u/"+l.info.userID+"/music",children:Object(s.jsx)("span",{children:l.info.uploader})})]}),Object(s.jsxs)("div",{className:"stats",children:[Object(s.jsxs)("div",{class:"views",children:[Object(s.jsx)("i",{class:"material-icons",children:"play_arrow"}),Object(s.jsx)("span",{children:l.stats.views})]}),Object(s.jsx)(I,{name:l.info.title,uID:l.info.userID,userName:o,music:l})]})]})]})},_=0;var E=function(e){var t=new f,c=Object(a.useState)([]),n=Object(u.a)(c,2),i=n[0],r=n[1],l=Object(a.useState)(_),o=Object(u.a)(l,2),d=o[0],j=o[1];function b(t){e.play(t)}function p(){e.stop()}return Object(a.useEffect)((function(){t.getPopular().then((function(e){return r(e)}))}),[]),Object(s.jsxs)("div",{id:"popular-container",className:"home-music-container ",children:[Object(s.jsxs)("div",{className:"musics-texts",children:[Object(s.jsx)("div",{className:"musics-title",children:Object(s.jsx)("h4",{children:"Popular musics"})}),Object(s.jsx)("div",{className:"musics-subtext",children:Object(s.jsx)("span",{children:"Most popular musics for you"})})]}),Object(s.jsx)("div",{className:"line"}),Object(s.jsx)("div",{className:"preview-box-container",style:{transform:"translate(".concat(d,"px, ",85,"px)")},children:i&&i.map((function(t,c){return Object(s.jsx)(a.Fragment,{children:Object(s.jsx)(D,{name:t,play:b,userName:e.userName,stop:p,audio:e.audio})},c)}))}),Object(s.jsxs)("div",{className:"content-slider",children:[Object(s.jsx)("div",{id:"next",className:"slider",onClick:function(){j(_-=225)},children:Object(s.jsx)("span",{className:"material-icons",children:"keyboard_arrow_right"})}),Object(s.jsx)("div",{id:"previous",className:"slider",onClick:function(){j(_+=225)},children:Object(s.jsx)("span",{className:"material-icons",children:"keyboard_arrow_left"})})]})]})},R=0;var B=function(e){var t=new f,c=Object(a.useState)(),n=Object(u.a)(c,2),i=n[0],r=n[1],l=Object(a.useState)(R),o=Object(u.a)(l,2),j=o[0],b=o[1];function p(t){e.play(t)}function h(){e.stop()}return Object(a.useEffect)((function(){if(d.a.auth().currentUser){var e=d.a.auth().currentUser.uid;t.getRecommend(e).then((function(e){return r(e)}))}}),[d.a.auth().currentUser]),document.onscroll=function(){document.documentElement.scrollTop+window.innerHeight==document.documentElement.scrollHeight&&console.log("scrolled")},Object(s.jsxs)("div",{id:"recomend-container",className:"home-music-container ",children:[Object(s.jsxs)("div",{className:"musics-texts",children:[Object(s.jsx)("div",{className:"musics-title",children:Object(s.jsx)("h4",{children:"Recommended musics"})}),Object(s.jsx)("div",{className:"musics-subtext",children:Object(s.jsx)("span",{children:"Most recomended musics for you"})})]}),Object(s.jsx)("div",{className:"line"}),Object(s.jsx)("div",{className:"preview-box-container",id:"recomend-box-container",style:{transform:"translate(".concat(j,"px, ",85,"px)")},children:i&&i.map((function(t,c){return Object(s.jsx)(a.Fragment,{children:Object(s.jsx)(D,{name:t,play:p,userName:e.userName,stop:h,audio:e.audio})},c)}))}),Object(s.jsxs)("div",{className:"content-slider",children:[Object(s.jsx)("div",{id:"next",className:"slider",onClick:function(){b(R-=225)},children:Object(s.jsx)("span",{class:"material-icons",children:"keyboard_arrow_right"})}),Object(s.jsx)("div",{id:"previous",className:"slider",onClick:function(){R+=225,console.log(R),b(R)},children:Object(s.jsx)("span",{class:"material-icons",children:"keyboard_arrow_left"})})]})]})},A=0;var F=function(e){var t=Object(a.useState)(),c=Object(u.a)(t,2),n=c[0],i=c[1],r=Object(a.useState)(A),l=Object(u.a)(r,2),o=l[0],d=l[1],j=new f;function b(t){e.play(t)}function p(){e.stop()}return Object(a.useEffect)((function(){j.getTrending().then((function(e){return i(e)}))}),[]),Object(s.jsxs)("div",{id:"trending-container",className:"home-music-container ",children:[Object(s.jsxs)("div",{className:"musics-texts",children:[Object(s.jsx)("div",{className:"musics-title",children:Object(s.jsx)("h4",{children:"Trending musics"})}),Object(s.jsx)("div",{className:"musics-subtext",children:Object(s.jsx)("span",{children:"Most trending musics for you"})})]}),Object(s.jsx)("div",{className:"line"}),Object(s.jsx)("div",{className:"preview-box-container",id:"trending-box-container",style:{transform:"translate(".concat(o,"px, ",85,"px)")},children:n&&n.map((function(t,c){return Object(s.jsx)(a.Fragment,{children:Object(s.jsx)(D,{name:t,play:b,userName:e.userName,stop:p,audio:e.audio})},c)}))}),Object(s.jsxs)("div",{className:"content-slider",children:[Object(s.jsx)("div",{id:"next",className:"slider",onClick:function(){d(A-=225)},children:Object(s.jsx)("span",{className:"material-icons",children:"keyboard_arrow_right"})}),Object(s.jsx)("div",{id:"previous",className:"slider",onClick:function(){A+=225,console.log(A),d(A)},children:Object(s.jsx)("span",{class:"material-icons",children:"keyboard_arrow_left"})})]})]})};new Audio;var T=function(e){document.title="Moosix",d.a.database();var t=Object(a.useState)(),c=Object(u.a)(t,2),n=c[0],i=c[1],r=Object(a.useState)("0%"),l=Object(u.a)(r,2),o=(l[0],l[1],d.a.auth());function j(t){e.play(t)}function b(t){e.stop()}return Object(a.useEffect)((function(){o.onAuthStateChanged((function(e){e&&d.a.database().ref("users/"+e.uid+"/private/login credentials").on("value",(function(e){i(e.val().userName)}))}))}),[]),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{id:"home",className:"main",children:Object(s.jsx)("div",{className:"music-content-container",id:"home-musics",children:Object(s.jsxs)("div",{className:"music-box",id:"home-box",children:[Object(s.jsx)(E,{play:j,stop:b,userName:n,audio:e.audio}),Object(s.jsx)(F,{play:j,stop:b,userName:n,audio:e.audio}),Object(s.jsx)(B,{play:j,stop:b,userName:n,audio:e.audio})]})})})})},P=c(18);var M=function(e){var t,c,n=Object(N.g)(),i=Object(a.useState)(),r=Object(u.a)(i,2),l=r[0],o=r[1];return Object(s.jsx)("div",{id:"login",className:"main-login",children:Object(s.jsx)("div",{className:"form-box",children:Object(s.jsxs)("div",{className:"form-container",children:[Object(s.jsxs)("div",{className:"inputHolder",children:[Object(s.jsx)("div",{className:"logo-form",children:Object(s.jsx)("h1",{children:"Logo"})}),Object(s.jsxs)("div",{className:"input-container",children:[Object(s.jsx)("div",{className:"email-holder",children:Object(s.jsx)("input",{placeholder:"email adress",id:"email",className:"-input"})}),Object(s.jsx)("div",{className:"password-holder",children:Object(s.jsx)("input",{placeholder:"password",id:"password",type:"password",className:"-input"})}),Object(s.jsx)("div",{className:"btn-holder",children:Object(s.jsx)("button",{onClick:function(e){function s(){return(s=Object(h.a)(p.a.mark((function e(t,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.auth().signInWithEmailAndPassword(t,c).then((function(){P.a.auth().currentUser.uid,n.push("/")})).catch((function(e){console.log("incorrect"),o(e.message)}));case 2:P.a.auth().onAuthStateChanged((function(e){e?console.log(e):console.log("nop")}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t=document.getElementById("email").value,c=document.getElementById("password").value,function(e,t){s.apply(this,arguments)}(t,c)},children:Object(s.jsx)("span",{children:Object(s.jsx)("b",{children:"Login"})})})})]})]}),Object(s.jsxs)("div",{class:"link-signup",children:[Object(s.jsx)("p",{children:l}),Object(s.jsxs)("p",{children:["Havent created account? plz ",Object(s.jsx)(v.b,{to:"./signup",children:" click here"})]})]})]})})})};var z,H,K,G,J=function(){var e=Object(N.g)();return Object(s.jsx)("div",{id:"signUp",className:"main-login",children:Object(s.jsx)("div",{className:"form-box",children:Object(s.jsxs)("div",{className:"form-container",children:[Object(s.jsx)("div",{class:"logo-form",children:Object(s.jsx)("h1",{children:"Logo"})}),Object(s.jsxs)("div",{className:"input-container",children:[Object(s.jsx)("div",{className:"email-holder",children:Object(s.jsx)("input",{id:"email",placeholder:"email",className:"-input"})}),Object(s.jsx)("div",{className:"password-holder",children:Object(s.jsx)("input",{id:"password",placeholder:"password",className:"-input",type:"password"})}),Object(s.jsx)("div",{className:"username-holder",children:Object(s.jsx)("input",{id:"userName",placeholder:"username",className:"-input"})}),Object(s.jsx)("div",{class:"btn-holder",children:Object(s.jsx)("button",{onClick:function(){var t=document.getElementById("email").value,c=document.getElementById("password").value,s=document.getElementById("userName").value;function a(){return(a=Object(h.a)(p.a.mark((function t(c,a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.auth().createUserWithEmailAndPassword(c,a).then((function(){console.log("successfull");var e=P.a.auth().currentUser.uid;console.log(e),P.a.database().ref("users/"+e+"/private/login credentials").set({userName:s,userId:e,userLog:!0}).then(P.a.database().ref("users/"+e+"/public/profile").set({info:{bio:"",firstName:s,lastName:s,name:s},pfp:{url:"",x:50,y:50,zoom:1}}))}));case 2:e.push("./login");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(e,t){a.apply(this,arguments)}(t,c)},children:"Next"})})]}),Object(s.jsx)("div",{class:"link-signup",children:Object(s.jsxs)("p",{children:["Already have an account? plz ",Object(s.jsx)(v.b,{to:"./login",children:" click here"})]})})]})})})},V=new Date,Q=V.getUTCMonth()+1,W=V.getUTCDate(),Y=V.getUTCFullYear();function q(){console.log(d.a);var e=Object(a.useState)(),t=Object(u.a)(e,2),c=t[0],n=t[1];return Object(s.jsx)("div",{className:"edit-upload",children:Object(s.jsx)("div",{className:"edit-upload-box",children:Object(s.jsxs)("div",{className:"edit-upload-main",children:[Object(s.jsxs)("div",{className:"pic-wrapper",children:[Object(s.jsx)("div",{className:"pic-holder",children:Object(s.jsx)("img",{src:c,width:"260",height:"260",alt:"aimge-preview",id:"prev"})}),Object(s.jsxs)("div",{className:"album-cover",children:[Object(s.jsx)("input",{type:"file",id:"album-btn",hidden:!0,onChange:function(e){console.log(e.target),z=document.getElementById("album-btn").files[0],n(URL.createObjectURL(e.target.files[0]))},accept:"image/jpeg, image/png"}),Object(s.jsx)("label",{for:"album-btn",children:Object(s.jsx)("span",{children:"Upload image"})})]})]}),Object(s.jsxs)("div",{className:"song-form",children:[Object(s.jsxs)("div",{className:"song-title",children:[Object(s.jsx)("span",{children:"Title"}),Object(s.jsx)("div",{className:"input-title",children:Object(s.jsx)("input",{id:"title",placeholder:"Name of your song...",className:"-input-form",defaultValue:H.name,autoComplete:"off"})})]}),Object(s.jsxs)("div",{className:"artist",children:[Object(s.jsx)("span",{children:"Artist"}),Object(s.jsx)("div",{className:"input-artist",children:Object(s.jsx)("input",{id:"artist",placeholder:"Name of the artist...",className:"-input-form",autoComplete:"off"})})]}),Object(s.jsxs)("div",{className:"Genre",children:[Object(s.jsx)("span",{children:"Genre"}),Object(s.jsx)("div",{className:"input-gerne",children:Object(s.jsx)("input",{id:"genre",placeholder:"Name of your genre...",className:"-input-form",autoComplete:"off"})})]}),Object(s.jsxs)("div",{className:"Description",children:[Object(s.jsx)("span",{children:"Description"}),Object(s.jsx)("div",{className:"input-gerne",children:Object(s.jsx)("input",{id:"description",placeholder:"Describe your track..",className:"-input-form",autoComplete:"off"})})]}),Object(s.jsxs)("div",{className:"Tags",children:[Object(s.jsx)("span",{children:"Tags"}),Object(s.jsx)("div",{className:"input-tags",children:Object(s.jsx)("input",{id:"tags",placeholder:"add tags",className:"-input-form",autoComplete:"off"})})]}),Object(s.jsxs)("div",{className:"privateOpt",children:[Object(s.jsx)("span",{children:"Privacy?:"}),Object(s.jsxs)("div",{className:"input-privacy",children:[Object(s.jsxs)("div",{className:"public",children:[Object(s.jsx)("input",{type:"radio",id:"publicRad",name:"radio1",value:"public"}),Object(s.jsx)("label",{for:"publicRad",children:"Public"})]}),Object(s.jsxs)("div",{className:"private",children:[Object(s.jsx)("input",{type:"radio",id:"privateRad",name:"radio1",value:"private"}),Object(s.jsx)("label",{for:"privateRad",children:"Private"})]})]})]}),Object(s.jsxs)("div",{className:"save-cancel",children:[Object(s.jsx)("div",{className:"cancel",children:Object(s.jsx)("button",{onClick:function(){K.push("/")},children:"Cancel"})}),Object(s.jsx)("div",{className:"save",children:Object(s.jsx)("button",{onClick:function(e){console.log(e),e.target.disabled=!0;var t=d.a.auth().currentUser.uid,c=document.getElementById("title").value,s=document.getElementById("artist").value,a=document.getElementById("genre").value,n=document.getElementById("description").value,i=document.getElementById("tags").value,r=document.getElementById("publicRad").checked;d.a.storage().ref("users"+t+"/public/songs");var l,o,u=new Date+"-"+H.name,b=new Date+"-"+z.name;if(d.a.database().ref("users/"+t+"/public/profile/pic").on("value",(function(e){l=e.val().pfpUrl})),c.indexOf(".")>-1||c.indexOf("#")>-1||c.indexOf("/")>-1||c.indexOf("[")>-1||c.indexOf("]")>-1)console.log("cannot use special charecter");else if(!0===r){console.log("1st stage success");var p=d.a.storage().ref("public/songs/"+a+"/"+c).child(u).put(H);d.a.storage().ref("public/songs/"+a+"/"+c).child(b).put(z).then((function(e){return e.ref.getDownloadURL()})).then((function(e){console.log(e),o=e,console.log("2nd stage success")})).then((function(){console.log("3000000000nd stage success"),p.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100,c=Math.floor(t);console.log("Upload is "+c+"% done")})),p.then((function(e){return e.ref.getDownloadURL()})).then((function(e){console.log(e),d.a.storage().ref("preview").child(b).delete(z),d.a.database().ref("users/"+t+"/public/songs/"+c).set({info:{userID:t,title:c,artist:s,genre:a,tags:i,description:n,uploader:G},src:{aduioURL:e,imageURL:o,pfpURL:l},stats:{views:0},recomend:{byGenre:0,similarity:0,mood:0}}).then((function(){d.a.database().ref("users/"+t+"/public/songs/"+c+"/date").set({month:Q,day:W,year:Y,totalDate:j(W,Q,Y)}),d.a.database().ref("public/songs//"+c).set({info:{userID:t,title:c,artist:s,genre:a,tags:i,description:n,uploader:G},src:{aduioURL:e,imageURL:o,pfpURL:l},stats:{views:0},recomend:{byGenre:0,similarity:0,mood:0}})})).then((function(){K.push("/")}))}))}))}else{var h,m=d.a.storage().ref("users/"+t+"/private/songs/").child(u).put(H);d.a.storage().ref("public/songs/"+a+"/"+c).child(b).put(z).then((function(e){return e.ref.getDownloadURL()})).then((function(e){console.log(e),h=e})),m.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100,c=Math.floor(t);console.log("Upload is "+c+"% done")})),m.then((function(e){return e.ref.getDownloadURL()})).then((function(e){d.a.database().ref("users/"+t+"/public/songs/"+c).set({userID:t,title:c,artist:s,genre:a,tags:i,description:n,aduioURL:e,imageURL:h})}))}},children:"Save"})})]})]})]})})})}var X=function(){var e,t;K=Object(N.g)(),console.log(d.a.auth().currentUser),d.a.auth().onAuthStateChanged((function(e){e?(t=e.uid,d.a.database().ref("users/"+t+"/private/login credentials").on("value",(function(e){G=e.val().userName}))):K.push("/login")}));var c=n.a.useState(!0),i=Object(u.a)(c,2),r=(i[0],i[1],n.a.useState(!1)),o=Object(u.a)(r,2);function j(){return H=document.getElementById("actual-btn").files[0],K.push("/upload/info"),Object(s.jsx)(N.a,{to:"/upload/info"})}return o[0],o[1],Object(a.useEffect)((function(){}),[]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(S,{}),Object(s.jsxs)(N.d,{children:[Object(s.jsx)(N.b,{exact:!0,path:"/upload",children:Object(s.jsx)("div",{className:"main",id:"upload-main",children:Object(s.jsx)("div",{className:"upload-container",id:"uc",children:Object(s.jsx)("div",{className:"upload-box",onDrop:j,children:Object(s.jsxs)("div",{className:"upload-main",children:[Object(s.jsx)("h2",{children:"Choose a song you want to upload"}),Object(s.jsxs)("div",{className:"upload-button",children:[Object(s.jsx)("input",{type:"file",id:"actual-btn",hidden:!0,onChange:j,accept:"audio/wav, audio/mp3"}),Object(s.jsx)("label",{for:"actual-btn",children:Object(s.jsx)("span",{children:"Upload file"})})]})]})})})})}),Object(s.jsx)(N.b,(e={exact:!0,path:"/upload/info"},Object(l.a)(e,"exact",!0),Object(l.a)(e,"component",q),e))]})]})};var Z=function(e){var t=e.musics,c=(e.name,e.uID),n=e.userName,i=e.pfp,r=e.user;function l(t){e.play(t)}function o(){console.log("yes stop"),e.stop()}return Object(s.jsx)("div",{class:"music-content-container",children:Object(s.jsx)("div",{class:"music-box",children:Object(s.jsx)("div",{class:"user-musics",children:t&&t.map((function(t,u){return Object(s.jsx)(a.Fragment,{children:Object(s.jsx)(D,{name:t,play:l,uID:c,userName:n,pfp:i,user:r,stop:o,audio:e.audio})},u)}))})})})},$=(new Audio,new f),ee=function(e){var t=Object(a.useState)(),c=Object(u.a)(t,2),n=c[0],i=c[1],r=Object(a.useState)(),l=Object(u.a)(r,2),o=l[0],j=l[1],b=Object(a.useState)(),p=Object(u.a)(b,2),h=p[0],m=p[1],O=Object(a.useState)(),f=Object(u.a)(O,2),x=f[0],g=f[1],y=Object(a.useState)([]),w=Object(u.a)(y,2),k=w[0],S=w[1],C=Object(a.useState)(null),U=Object(u.a)(C,2),I=U[0],L=U[1],D=Object(a.useState)(null),_=Object(u.a)(D,2),E=_[0],R=_[1],B=Object(a.useState)(),A=Object(u.a)(B,2),F=A[0],T=A[1],P=e.match.params.uID,M=(d.a.database().ref("users/"+P+"/public/profile"),Object(a.useState)("0%")),z=Object(u.a)(M,2);z[0],z[1];return Object(a.useEffect)((function(){$.getUserSongs(P).then((function(e){return S(e)})),$.getUserData(P).then((function(e){return g(e)})),d.a.auth().onAuthStateChanged((function(e){$.getUserData(e.uid).then((function(e){return T(e.public.profile.info.name)}))}))}),[P]),Object(a.useEffect)((function(){x&&(L(x.public.profile.info.name),R(x.public.profile.pfp.url),i(x.public.profile.pfp.x),j(x.public.profile.pfp.y),m(x.public.profile.pfp.zoom))}),[x]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{id:"profile",className:"main",children:[Object(s.jsxs)("div",{class:"profile-container",children:[Object(s.jsxs)("div",{className:"cover-pic",children:[Object(s.jsx)("img",{src:""}),Object(s.jsx)("div",{className:"User-Name",children:Object(s.jsx)("h1",{children:I})})]}),Object(s.jsx)("div",{className:"pfp",children:Object(s.jsx)("div",{className:"pfp-container",children:Object(s.jsx)("pfp",{className:"pfp-box",children:Object(s.jsx)("img",{src:E,style:{transform:"translate(".concat(n-50,"px, ").concat(o-50,"px) scale(").concat(parseInt(h)/100+1,")")}})})})}),Object(s.jsx)("div",{class:"tabsContainer",children:Object(s.jsxs)("div",{class:"tabs-holder",children:[Object(s.jsx)(v.b,{to:"/u/"+P+"/music",activeClassName:"Music-Nav-Active",children:Object(s.jsx)("button",{children:Object(s.jsx)("span",{children:"Music"})})}),Object(s.jsx)(v.b,{to:"/u/"+P+"/playlist",activeClassName:"PlayList-Nav-Active",children:Object(s.jsx)("button",{children:Object(s.jsx)("span",{children:"Playlist"})})}),Object(s.jsx)("button",{children:Object(s.jsx)("span",{children:"About"})})]})})]}),Object(s.jsx)(N.a,{to:"/u/"+P+"/music"}),Object(s.jsxs)(N.d,{children:[Object(s.jsx)(N.b,{exact:!0,path:"/u/"+P+"/music",children:Object(s.jsx)(Z,{musics:k,play:function(t){console.log(e),e.play(t)},uID:P,userName:F,pfp:E,user:I,stop:function(){e.stop()},audio:e.audio})}),Object(s.jsx)(N.b,{exact:!0,path:"/u/"+P+"/playlist"})]})]})})},te=new f;var ce=function(e){var t=Object(a.useState)(),c=Object(u.a)(t,2),n=c[0],i=c[1],r=(Object(a.useRef)().current,Object(a.useState)(null)),l=Object(u.a)(r,2),o=(l[0],l[1],Object(a.useState)([])),j=Object(u.a)(o,2),b=j[0],p=j[1],h=Object(a.useState)("0%"),m=Object(u.a)(h,2),O=(m[0],m[1],Object(N.g)(),Object(a.useState)()),f=Object(u.a)(O,2);f[0],f[1];var x=new URLSearchParams(Object(N.h)().search).get("search");function v(t){e.play(t)}function g(){e.stop()}return console.log(x),Object(a.useEffect)((function(){d.a.auth().onAuthStateChanged((function(e){d.a.database().ref("users/"+e.uid+"/praivate/login credentials").on("value",(function(e){e.val()&&i(e.val().userName)}))}))}),[]),Object(a.useEffect)((function(){te.searchQ(x).then((function(e){return p(e)}))}),[x]),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{id:"home",className:"main",children:Object(s.jsx)("div",{className:"music-content-container",id:"home-musics",children:Object(s.jsx)("div",{className:"music-box",children:Object(s.jsxs)("div",{className:"user-musics",children:[b&&b.map((function(t,c){return Object(s.jsx)(a.Fragment,{children:Object(s.jsx)(D,{name:t,play:v,stop:g,uID:t.userID,userName:n,pfp:t.pfpURL,user:t.artist,audio:e.audio})},c)})),0==b.length?Object(s.jsx)("span",{children:"no results found"}):null]})})})})})},se=new Audio;var ae=function(){var e,t,c=Object(a.useState)("0%"),n=Object(u.a)(c,2),i=n[0],r=n[1],j=d.a.database(),b=0;function p(e){se.src===e.src.aduioURL?(se.play(),t=e.title):(se.src=e.src.aduioURL,se.play(),t=e.info.title),se&&se.addEventListener("timeupdate",(function(){if(t){b=se.currentTime/se.duration*100,r(b);var c,s,a=se.currentTime;if(a>30&&a<30.2)console.log(3e3),j.ref("users/"+e.info.userID+"/public/songs/"+t+"/stats").once("value").then((function(e){c=e.val().views,s=c+1})).then((function(){j.ref("users/"+e.info.userID+"/public/songs/"+t+"/stats").update({views:s}).then((function(){j.ref("public/songs/"+t).update({views:s})}))}))}}))}function h(e){se.pause()}return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(v.a,{children:Object(s.jsxs)(N.d,{children:[Object(s.jsx)(N.b,{path:"/login",exact:!0,component:M}),Object(s.jsx)(N.b,{path:"/Signup",exact:!0,component:J}),Object(s.jsxs)("div",{className:"dark",id:"main-render",children:[Object(s.jsx)(N.b,{exact:!0,path:"/about",render:function(e){return Object(s.jsx)(C,Object(o.a)({},e))}}),Object(s.jsx)(N.b,{path:"/upload",component:X}),Object(s.jsx)(N.b,{exact:!0,path:"/account/edit",component:x}),Object(s.jsx)(N.b,{path:"/u/:uID",render:function(e){return Object(s.jsx)(ee,Object(o.a)(Object(o.a)({},e),{},{play:p,stop:h,audio:se}))}}),Object(s.jsx)(N.b,(e={exact:!0,path:"/"},Object(l.a)(e,"exact",!0),Object(l.a)(e,"render",(function(e){return Object(s.jsx)(T,Object(o.a)(Object(o.a)({},e),{},{play:p,stop:h,audio:se}))})),e)),Object(s.jsx)(N.b,{path:"/results",exact:!0,render:function(e){return Object(s.jsx)(ce,Object(o.a)(Object(o.a)({},e),{},{play:p,stop:h,audio:se}))}}),Object(s.jsx)(S,{}),Object(s.jsx)(w,{}),Object(s.jsx)(k,{progVal:i,stop:h,playAudio:function(){se.play()},audio:se,volumeHandler:function(e){se.volume=e}})]})]})})})},ne=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,65)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),s(e),a(e),n(e),i(e)}))};r.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(ae,{})}),document.getElementById("root")),ne()}},[[64,1,2]]]);
//# sourceMappingURL=main.153f31a2.chunk.js.map