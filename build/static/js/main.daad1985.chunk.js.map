{"version":3,"sources":["component/functions/dayFunc.js","component/functions/mossix-api.js","component/editProfile.js","component/sub-com/dropdownProfile.js","component/functions/notification.js","context/uid.js","context/songContext.js","component/notification/notification-contents.js","component/notification/notification.js","component/header.js","component/audioComp/audioPreview.js","component/audioplayer.js","component/nav-comp/navDiv1.js","component/nav-comp/navDiv2.js","component/nav.js","component/about.js","component/widgets/like.js","component/widgets/Hover1.mp3","component/widgets/musicPreview.js","component/sub-home/Popular.js","component/sub-home/Recomend.js","component/sub-home/Trending.js","component/home.js","component/firebase.js","component/functions/moosax-auth.js","component/login.js","component/Signup.js","component/Upload.js","component/musicContent.js","component/music.js","component/result.js","component/pages/comp/top.js","component/classes/song.js","component/pages/userLikes.js","component/pages/listen.js","App.js","reportWebVitals.js","index.js"],"names":["dayFunc","Moosix","uid","this","fetch","mode","res","json","response","userId","userid","song_id","search","name","postData","data","url","pfp","console","log","rawData","st","firebase","storage","ref","genre","title","child","image","put","then","snapshot","getDownloadURL","imageURL","file","audioURL","pic","liker_uid","u_uid","music","likedBy","likedOf","songID","song","method","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","EditProfile","auth","onAuthStateChanged","user","app","document","useState","setFile","x","setX","y","setY","zoom","setZoom","setName","firstName","setFirstName","lastName","setLastName","bio","setBio","imgSrc","setImgSrc","id","className","src","alt","style","transform","parseInt","type","hidden","onChange","event","target","files","URL","createObjectURL","htmlFor","value","placeholder","onKeyUp","onClick","info","temp","update_profile_pic","update_profile","DropDown","props","setTheme","to","Notification","socket","setSocket","useEffect","newSocket","io","transport","query","close","uidContext","createContext","songContext","NotficationContents","notfication","notification","didWhat","setDidWhat","user_data","setUser_data","userName","setUserName","activity","setActivity","setPfp","getUserData","public","profile","useContext","setNotification","getNotifications","slice","reverse","map","index","Header","isHidden3","setIsHidden3","isHidden2","setIsHidden2","searchTerm","setSearchTerm","userID","setUserID","history","useHistory","newNotification","setNewNotification","isHidden","setIsHidden","list","setList","autoSearch","Search","getAttribute","s","push","on","window","onclick","searchQ","autoComplete","key","toLocaleLowerCase","val","data-name","height","width","AudioPreview","track","setTrack","getCurrentSong","backgroundImage","artist","AudioPlayer","progVal","setProgVal","volume","setVolume","getCurrentTime","currentTime","setCurrentTime","audio","addEventListener","e","duration","AudioInfo","volumeHandler","paused","playAudio","stop","previous","next","class","onMouseDown","preventDefault","rect","srcElement","getBoundingClientRect","percent","clientX","left","documentElement","offsetWidth","onMouseUp","getDuration","NavDiv1","exact","activeClassName","NavDiv2","Nav","signOut","about","Like","cUID","uID","currentUser","stats","likes","likeNumber","setLikeNumber","like","setLike","hasLiked","widgetInfo","undefined","sendLike","MusicPreview","sfxRef","useRef","btn_hidden","setBtn_hidden","currentUserName","aduioURL","Hover1","play","uploader","views","sliderVal1","Popular","popular","setPopular","slider1","setSlider1","getPopular","i","sliderVal2","Recomend","recomend","setRecomend","slider2","setSlider2","getRecommend","onscroll","scrollTop","innerHeight","scrollHeight","Trending","trending","setTrending","getTrending","Home","database","setCurrrentUserName","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","MoosaxAuth","email","password","signInWithEmailAndPassword","getIdToken","idToken","Cookies","get","Login","errorMessage","getElementById","login","Signup","uEmail","uPassword","a","createUserWithEmailAndPassword","set","send","Date","Edit","imagePreview","setImagePreview","accept","for","defaultValue","disabled","description","tags","publicRad","checked","indexOf","upload","Upload","fileUpload","path","onDrop","MusicContent","musics","Music","setMusics","setUser","match","params","getUserSongs","Result","search_query","URLSearchParams","useLocation","pfpURL","length","Top","setTitle","setImage","setArtist","isSameSrc","setIsSameSrc","setDescription","nowPlaying","Array","isArray","tracks","playlistIncludes","top","Song","song_data","Audio","songArray","nextSong","getNextSong","playSong","pause","playlist_song","song_name","initialTime","finalTime","playlist_obj","loadSongs","songs","Math","floor","toLocaleString","minimumIntegerDigits","useGrouping","includes","Playlist","song_array","playlistName","newPlaylist","filter","item","UserLikes","setTracks","tempArr","getUserLikes","forEach","getSongsById","playlist","createNewPlaylist","createPlaylists","showPlaylists","Listen","App","name1","forceUpdate","setValue","useForceUpdate","setUid","db","totalViews","once","update","component","Provider","render","previousSong","getPreviousSong","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"yTAMeA,I,wCCwJAC,E,WA1JX,WAAYC,GAAK,oBACbC,KAAKD,IAAMA,E,2LAKOE,MAAM,oBAAqB,CAAEC,KAAM,S,cAA/CC,E,gBACiBA,EAAIC,O,cAArBC,E,yBACCA,G,uQAKWJ,MAAM,qBAAsB,CAAEC,KAAM,S,cAAhDC,E,gBACiBA,EAAIC,O,cAArBC,E,yBACCA,G,6KAIQC,G,yFAEGL,MAAM,4BAA4BK,G,cAA9CH,E,gBACiBA,EAAIC,O,cAArBC,E,yBACCA,G,8KAGQC,G,yFAEGL,MAAO,qBAAqBK,G,cAAxCH,E,gBACiBA,EAAIC,O,cAArBC,E,yBACCA,G,8KAGQE,EAAQC,G,yFAELP,MAAO,mBAAmBM,EAAO,SAASC,G,cAAtDL,E,gBACiBA,EAAIC,O,cAArBC,E,yBACCA,G,+KAGOC,G,yFAEIL,MAAM,mBAAmBK,G,cAArCH,E,gBACiBA,EAAIC,O,cAArBC,E,yBACCA,G,yKAMGI,G,4EAEG,IAAVA,GAA0B,MAAVA,E,gCAEGR,MAAM,2BAA2BQ,EAAQ,CAACP,KAAM,S,cAA5DC,E,gBACiBA,EAAIC,O,cAArBC,E,yBACCA,G,kLAIQN,G,6EAEhBA,E,gCACmBE,MAAM,2BAA2BF,EAAK,CAACG,KAAM,S,cAAzDC,E,gBACiBA,EAAIC,O,cAArBC,E,yBACCA,G,kIAILK,GAGN,GAAW,MAARA,GAAwB,IAARA,EACf,OAAOV,KAAKW,SAFJ,yBAEkB,CAAC,KAAQD,M,qCAI5BE,GAERZ,KAAKa,MACJD,EAAKA,KAAKE,IAAID,IAAMb,KAAKa,KAE7BE,QAAQC,IAAIJ,GAEZZ,KAAKW,SADO,sBACO,CAAC,OAAUC,M,sEAGrBA,G,gFAEHK,EAAUL,EACVM,EAAKC,IAASC,UACR,oBACMF,EAAGG,IAAI,gBAAmBT,EAAKU,MAAM,IAAIV,EAAKW,OAAOC,MAAMZ,EAAKa,MAAMf,MAAMgB,IAAId,EAAKa,OAC7FE,MAAK,SAAAC,GAAQ,OAAEA,EAASP,IAAIQ,oBAAkBF,MAAK,SAAAd,GACzDE,QAAQC,IAAIH,GACZI,EAAQa,SAAWjB,KAENK,EAAGG,IAAI,gBAAmBT,EAAKU,MAAM,IAAIV,EAAKW,OAAOC,MAAMZ,EAAKmB,KAAKrB,MAAMgB,IAAId,EAAKmB,MAC5FJ,MAAK,SAAAC,GAAQ,OAAEA,EAASP,IAAIQ,oBAAkBF,MAAK,SAAAd,GAAG,OAAEI,EAAQe,SAAWnB,KAAKc,MAAK,kBAAK,EAAKhB,SAP5F,oBAO0GM,M,8KAIvGlB,G,yFAEGE,MAAM,uBAAuBF,G,cAAzCI,E,gBACiBA,EAAIC,O,cAArBC,E,yBACCA,G,oLAGc4B,G,qFAEff,EAAKC,IAASC,U,SACdF,EAAGG,IAAI,sBAAsBG,MAAMS,EAAIvB,MAAMgB,IAAIO,GAC9CN,MAAK,SAACC,GAAD,OAAYA,EAASP,IAAIQ,oBAC9BF,MAAK,SAAAd,GAAG,OAAE,EAAKA,IAAMA,KACrBc,MAAK,kBAAIZ,QAAQC,IAAI,gB,iIAKzBkB,EAAWC,EAAO3B,EAAS4B,GAEhC,IACMxB,EACN,CACIyB,QAASH,EACTI,QAASH,EACTI,OAAQ/B,EACRgC,KAAMJ,GAEVpC,KAAKW,SARO,uBAQOC,K,wKAOPC,E,+BAAM,GAAID,E,+BAAO,G,SAENX,MAAMY,EAAK,CAChC4B,OAAQ,OACRvC,KAAM,OACNwC,MAAO,WACPC,YAAa,cACbC,QAAS,CACP,eAAgB,oBAElBC,SAAU,SACVC,eAAgB,cAChBC,KAAMC,KAAKC,UAAUrC,K,cAVjBP,E,yBAYCA,EAASD,Q,wGCuCT8C,MAzLf,WACI,IAAI5C,EACJa,IAASgC,OAAOC,oBAAmB,SAACC,GACjC/C,EAAS+C,EAAKtD,OAGjB,IAAMuD,EAAM,IAAIxD,EAAOQ,GACvBiD,SAAShC,MAAQ,eAPC,MAQMiC,qBARN,mBAQXzB,EARW,KAQL0B,EARK,OAUAD,mBAAS,IAVT,mBAUXE,EAVW,KAURC,EAVQ,OAWAH,mBAAS,IAXT,mBAWXI,EAXW,KAWRC,EAXQ,OAYML,mBAAS,GAZf,mBAYXM,EAZW,KAYLC,EAZK,OAaMP,mBAAS,MAbf,mBAaX9C,EAbW,KAaLsD,EAbK,OAcgBR,mBAAS,MAdzB,mBAcXS,EAdW,KAcAC,EAdA,OAecV,mBAAS,MAfvB,mBAeXW,EAfW,KAeDC,EAfC,OAgBIZ,mBAAS,MAhBb,mBAgBXa,EAhBW,KAgBNC,EAhBM,OAiBUd,mBAAS,MAjBnB,mBAiBXe,EAjBW,KAiBHC,EAjBG,KAmElB,OACI,qBAAKC,GAAK,eAAeC,UAAY,OAArC,SACI,qBAAKA,UAAY,yBAAjB,SACI,sBAAKA,UAAY,mBAAjB,UACI,sBAAKA,UAAY,oBAAjB,UACI,qBAAKA,UAAY,YAAjB,SACI,uDAEJ,qBAAKA,UAAY,OAAOD,GAAK,iBAEjC,sBAAKC,UAAY,yBAAjB,UACI,sBAAKA,UAAY,cAAjB,UACI,sBAAKA,UAAY,kBAAjB,UACI,sBAAKA,UAAY,iBAAjB,UACI,qBAAKA,UAAY,SAEjB,qBACAC,IAAOJ,EACPK,IAAM,gBACNH,GAAK,UACLI,MAEI,CACIC,UAAU,aAAD,OAAepB,EAAE,GAAjB,eAA0BE,EAAE,GAA5B,qBAA4CmB,SAASjB,GAAM,IAAO,EAAlE,WAOrB,sBAAKY,UAAY,aAAjB,UACQ,uBAAOM,KAAO,OAAOP,GAAI,iBAAiBQ,QAAM,EAAEC,SAAY,SAACC,GAAD,OA9E3E1D,EA8EkG0D,EAAMC,OAAOC,MA7ElI5B,EAAQhC,EAAM,SACd+C,EAAUc,IAAIC,gBAAgB9D,EAAM,KAFxC,IAAuBA,KA+Ea,uBAAO+D,QAAQ,iBAAf,SAAgC,uDAI5C,qBAAKd,UAAY,UAAjB,SACQ,sBAAKA,UAAY,aAAjB,UACI,qBAAKA,UAAY,WAAjB,SACI,uBAAOM,KAAO,QAAQS,MAAS/B,EAAGwB,SAAY,SAACC,GAAD,OAASxB,EAAKwB,EAAMC,OAAOK,YAE7E,qBAAKf,UAAY,WAAjB,SACI,uBAAOM,KAAO,QAAQS,MAAS7B,EAAGsB,SAAY,SAACC,GAAD,OAAStB,EAAKsB,EAAMC,OAAOK,YAE7E,qBAAKf,UAAY,cAAjB,SACI,uBAAOM,KAAO,QAAQS,MAAS3B,EAAMoB,SAAY,SAACC,GAAD,OAASpB,EAAQoB,EAAMC,OAAOK,oBAMnG,sBAAKf,UAAY,eAAjB,UACI,sBAAKA,UAAY,eAAjB,UACI,qBAAKA,UAAY,aAAjB,SACI,kDAEJ,qBAAKA,UAAY,qBAAjB,SACI,uBACAA,UAAY,cACZM,KAAO,OACPU,YAAc,UACdC,QAAW,SAACR,GAAD,OAASnB,EAAQmB,EAAMC,OAAOK,eAKjD,sBAAKf,UAAY,aAAjB,UACI,qBAAKA,UAAY,aAAjB,SACI,gDAEJ,qBAAKA,UAAY,mBAAjB,SACI,uBACAA,UAAY,cACZM,KAAO,OACPU,YAAc,gBACdC,QAAW,SAACR,GAAD,OAASjB,EAAaiB,EAAMC,OAAOK,eAGtD,sBAAKf,UAAY,YAAjB,UACI,qBAAKA,UAAY,aAAjB,SACI,+CAEJ,qBAAKA,UAAY,kBAAjB,SACI,uBACAA,UAAY,cACZM,KAAO,OACPU,YAAc,eACdC,QAAW,SAACR,GAAD,OAASf,EAAYe,EAAMC,OAAOK,eAGrD,sBAAKf,UAAY,MAAjB,UACI,qBAAKA,UAAY,aAAjB,SACI,yCAEJ,qBAAKA,UAAY,YAAjB,SACI,0BACAA,UAAY,cACZM,KAAO,OACPU,YAAc,uBACdC,QAAW,SAACR,GAAD,OAASb,EAAOa,EAAMC,OAAOK,kBAIpD,sBAAKf,UAAY,cAAjB,UACI,qBAAKA,UAAY,SAAjB,SACI,wBAAQkB,QA5GpC,aA4G4B,sBAEJ,qBAAKlB,UAAY,OAAjB,SACI,wBAAQkB,QAnJpC,WACI,IAAMhF,EACN,CACIA,KAAK,CACDiF,KACA,CACInF,KAAMA,EACNuD,UAAWA,EACXE,SAAUA,EACVE,IAAKA,GAGTvD,IAAK,CACDD,IAAK,GACL6C,EAAGA,EACHE,EAAGA,EACHE,KAAMA,IAGdgC,KAAM,CACFxF,OAAQA,IAIbyB,EAECuB,EAAIyC,mBAAmBhE,GAAMJ,MAAK,WAC9B2B,EAAI0C,eAAepF,MAIvB0C,EAAI0C,eAAepF,IAoHC,kC,aCxJjBqF,MA5Bf,SAAkBC,GAAO,IAAD,EACM1C,qBADN,mBACN2C,GADM,WAIpB,OACI,mCACI,qBAAKzB,UAAY,mBAAjB,SACI,qBAAKA,UAAY,WAAjB,SACI,qBAAKA,UAAY,eAAjB,SACI,qBAAKA,UAAY,iBAAjB,SACI,+BACI,cAAC,IAAD,CAAS0B,GAAM,MAAMF,EAAMnG,IAAI,SAA/B,SACI,2CAEJ,mCACA,mCACA,mCACA,oBAAI6F,QAAW,kBAAIO,EAAS,SAA5B,uBACA,wD,yBCHjBE,MAhBf,SAAsB5B,GAAI,IAAD,EACOjB,qBADP,mBACd8C,EADc,KACNC,EADM,KAcrB,OAZAC,qBAAU,WACN,GAAG/B,EAAG,CACF,IAAMgC,EAAYC,IAAG,yBAA0B,CAC3CC,UAAY,CAAC,aACbC,MAAO,CACH,GAAMnC,KAId,OADA8B,EAAUE,GACJ,kBAAIA,EAAUI,YAEzB,CAACpC,IACG6B,GChBEQ,EAAaC,wBAAc,MCA3BC,EAAcD,wBAAc,MCGnCzD,EAAM,IAAIxD,EAwFDmH,MAvFf,SAA6Bf,GAGzB,IAAMgB,EAAchB,EAAMiB,aAF9B,EAGkC3D,qBAHlC,mBAGW4D,EAHX,KAGoBC,EAHpB,OAIsB7D,qBAJtB,mBAIWE,EAJX,KAIcC,EAJd,OAKsBH,qBALtB,mBAKWI,EALX,KAKcC,EALd,OAM4BL,qBAN5B,mBAMWM,EANX,KAMiBC,EANjB,OAOsCP,qBAPtC,mBAOW8D,EAPX,KAOsBC,EAPtB,OAQoC/D,qBARpC,mBAQWgE,EARX,KAQqBC,EARrB,OASoCjE,qBATpC,mBASWkE,EATX,KASqBC,EATrB,OAU0BnE,mBAAS,MAVnC,mBAUW1C,EAVX,KAUgB8G,EAVhB,KA+CI,OApCApB,qBAAU,WACHU,IACC5D,EAAIuE,YAAYX,EAAY7E,SAASV,MAAK,SAAAf,GACtC2G,EAAa3G,MAGjBG,QAAQC,IAAIkG,EAAYlC,MACD,QAApBkC,EAAYlC,MACXqC,EAAW,cACXM,EAAY,QAAUT,EAAY3F,QAEV,WAApB2F,EAAYlC,KAChBqC,EAAW,aAEa,YAApBH,EAAYlC,MAChBqC,EAAW,mBAIrB,CAACH,IAIHV,qBAAU,WACHc,IACCG,EAAYH,EAAUQ,OAAOC,QAAQlC,KAAKnF,MAC1CkH,EAAON,EAAUQ,OAAOC,QAAQjH,IAAID,KACpC8C,EAAK2D,EAAUQ,OAAOC,QAAQjH,IAAI4C,GAClCG,EAAKyD,EAAUQ,OAAOC,QAAQjH,IAAI8C,GAClCG,EAAQuD,EAAUQ,OAAOC,QAAQjH,IAAIgD,MACrC/C,QAAQC,IAAIsG,MAEjB,CAACA,IAKA,sBAAK5C,UAAY,qBAAjB,UACI,qBAAKA,UAAY,uBAAjB,SACK,qBAAKA,UAAU,MAAMD,GAAK,kBAA1B,SACO,qBAAKC,UAAY,gBAAgBD,GAAK,4BAAtC,SACI,qBAAKC,UAAY,UAAUD,GAAK,sBAAhC,SACI,qBAAKA,GAAI,sBACTE,IAAK7D,EACL+D,MAEI,CACIC,UAAU,aAAD,OAAepB,EAAE,GAAjB,eAA0BE,EAAE,GAA5B,qBAA4CmB,SAASjB,GAAM,IAAO,EAAlE,gBASrC,sBAAKY,UAAY,oBAAjB,UACI,qBAAKA,UAAY,wBAAjB,SACK8C,IAGL,qBAAK9C,UAAY,mBAAjB,SACI,+BAAO0C,MAGX,qBAAK1C,UAAY,wBAAjB,SACI,+BAAOgD,aC9ErBpE,G,OAAM,IAAIxD,GA6BDuG,MA5Bf,SAAsBH,GAElB,IAAMnG,EAAMiI,qBAAWlB,GAFE,EAGetD,mBAAS,MAHxB,mBAGlB2D,EAHkB,KAGJc,EAHI,KASzB,OALAzB,qBAAU,WACNlD,EAAI4E,iBAAiBnI,GAAK4B,MAAK,SAAAwF,GAAY,OAAIc,EAAgBd,QAChE,CAACpH,IAIA,qBAAK0E,GAAG,eAAR,SACI,qBAAKC,UAAU,yBAAf,SACI,sBAAKA,UAAU,mBAAf,UACI,qBAAKA,UAAU,qBAAf,SACI,mDAEJ,qBAAKA,UAAU,wBAAf,SACKyC,GAAgBA,EAAagB,MAAM,GAAGC,UAAUC,KAAI,SAACzH,EAAM0H,GAAP,OAAiB,cAAC,EAAD,CAAiCnB,aAAcvG,GAArB0H,gBCZlHhF,EAAM,IAAIxD,EAwJDyI,MAvJf,SAAgBrC,GAAO,IAAD,EAGgB1C,oBAAS,GAHzB,mBAGXgF,EAHW,KAGAC,EAHA,OAIoBjF,oBAAS,GAJ7B,mBAIPkF,EAJO,KAIIC,EAJJ,OAKsBnF,mBAAS,MAL/B,mBAKPoF,EALO,KAKKC,EALL,OAMQrF,mBAAS,MANjB,mBAMP1C,EANO,aAOc0C,mBAAS,OAPvB,mBAOPsF,EAPO,KAOCC,EAPD,KAQRC,EAAUC,cARF,EASgCzF,oBAAS,GATzC,mBASP0F,EATO,KASUC,EATV,OAUkB3F,oBAAS,GAV3B,mBAUP4F,EAVO,KAUGC,EAVH,OAWU7F,qBAXV,mBAWP8F,EAXO,KAWDC,EAXC,KAYRxJ,EAAMiI,qBAAWlB,GAEjBR,GADO0B,qBAAWhB,GACRN,EAAG3G,IA+DnB,SAASyJ,EAAWrE,GAChBsE,EAAOtE,EAAMC,OAAOsE,aAAa,cAErC,SAASD,EAAOE,GACZN,GAAY,GACJ,IAALM,GACCX,EAAQY,KAAK,mBAAmBD,GAKxC,OAvEAnD,qBAAU,WACHF,GACCA,EAAOuD,GAAG,gBAAgB,SAAAjJ,GACnBA,GACCuI,EAAmBvI,EAAKsI,sBAIrC,CAACnJ,EAAKuG,IAETnF,IAASgC,OAAOC,oBAAmB,SAACC,GAC7BA,EACA0F,EAAU1F,EAAKtD,KAEdiJ,EAAQY,KAAK,aAGrBE,OAAOC,QAAU,SAAC5E,GACU,cAArBA,EAAMC,OAAOX,IACZ4E,GAAY,GAEM,gBAAnBlE,EAAMC,OAAOX,IAAwBiE,EACpCC,GAAa,IAEW,iBAApBxD,EAAMC,OAAOX,IAGM,gBAAnBU,EAAMC,OAAOX,IAAqC,GAAbiE,IAFzCC,GAAa,GAMK,uBAAnBxD,EAAMC,OAAOX,IAA+B+D,GAC3CW,GAAmB,GACnBV,GAAa,IAEU,uBAAnBtD,EAAMC,OAAOX,IAA6C,GAAb+D,EACjDC,GAAa,GAEiB,oBAA1BtD,EAAMC,OAAOV,UAClB2E,GAAY,GAGXZ,GAAa,IASrBjC,qBAAU,WACW,IAAdoC,GACCS,GAAY,GACZ/F,EAAI0G,QAAQpB,GAAYjH,MAAK,SAAC2H,GAAD,OAASC,EAAQD,OAE9CD,GAAY,KAEjB,CAACT,IAcA,iCACI,sBAAKnE,GAAK,eAAV,UACI,qBAAKA,GAAK,eAAV,SACI,cAAC,IAAD,CAAS2B,GAAK,IAAd,SAAkB,2BAEtB,sBAAK3B,GAAI,SAAT,UACI,qBAAKC,UAAY,MAAjB,SACI,uBACID,GAAK,YACLiB,YAAc,SACduE,aAAe,MACftE,QAAW,SAAAR,GAAK,MAAe,SAAbA,EAAM+E,IAAeT,EAAOb,GAAY,MAC1D1D,SAAY,SAAAC,GACR0D,EAAc1D,EAAMC,OAAOK,MAAM0E,0BAI7C,qBAAKzF,UAAY,YAAjB,SACI,sBAAMD,GAAK,SAASC,UAAY,iBAAiBkB,QAAW,kBAAI6D,EAAOb,IAAvE,sBAEHQ,EAAS,KACV,qBAAK1E,UAAY,qBAAjB,SACI,qBAAKA,UAAY,oBAAjB,SACI,6BAEQ4E,GAAQA,EAAKjB,KAAI,SAAC+B,EAAKF,GACvB,OACI,oBAAIxF,UAAY,QAAhB,SACI,qBAAKA,UAAY,cAAjB,SACI,uBAAMkB,QAAW4D,EAAYa,YAAaD,EAAIvE,KAAKtE,MAAOkD,GAAK,WAA/D,cAA4E2F,EAAIvE,KAAKtE,YAF9D2I,eAevD,qCACI,sBAAKzF,GAAK,UAAV,UACI,qBAAKC,UAAY,UAAjB,SACQ,qBAAKC,IAAO7D,EAAKwJ,OAAS,KAAKC,MAAQ,KAAK3F,IAAM,GAAGH,GAAK,mBAElE,qBAAKC,UAAY,sBAAjB,SACKwE,EAAiB,sBAAMzE,GAAK,sBAAsBC,UAAU,iBAA3C,kCAAyF,sBAAMD,GAAK,sBAAsBC,UAAU,iBAA3C,gCAGlH8D,EAAU,KAAO,cAAC,EAAD,IAGlBE,EAAW,KAAO,cAAC,EAAD,CAAU3I,IAAO+I,aChH5C0B,MAxCf,WAEI,IAAMhI,EAAOwF,qBAAWhB,GAD5B,EAE8BxD,qBAF9B,mBAEWiH,EAFX,KAEkBC,EAFlB,KAOI,OAJAlE,qBAAU,WACNkE,EAASlI,EAAKmI,oBACf,CAACnI,EAAKmI,mBAGL,qBAAKlG,GAAK,gBAAV,SACI,qBAAKC,UAAY,0BAAjB,SACI,qBAAKA,UAAY,oBAAjB,SACI,sBAAKA,UAAY,yBAAjB,UACI,qBAAKA,UAAY,sBAAjB,SACI,qBAAKA,UAAY,QACjBG,MAEI,CACI+F,gBAAgB,QAAD,OAAUH,EAAMA,EAAM9F,IAAI7C,SAAS,KAAnC,WAO3B,sBAAK4C,UAAY,wBAAjB,UACI,qBAAKA,UAAY,sBAAjB,SACI,+BAAO+F,EAAMA,EAAM5E,KAAKtE,MAAM,cAElC,qBAAKmD,UAAY,uBAAjB,SACI,+BAAO+F,EAAMA,EAAM5E,KAAKgF,OAAO,2BCiFhDC,MA7Gf,SAAqB5E,GACjB,IAAM1D,EAAOwF,qBAAWhB,GADD,EAEOxD,mBAAS,GAFhB,mBAEhBuH,EAFgB,KAEPC,EAFO,OAGMxH,mBAAS,GAHf,mBAGhByH,EAHgB,KAGRC,EAHQ,OAIe1H,mBAAShB,EAAK2I,kBAJ7B,mBAIhBC,EAJgB,KAIHC,EAJG,KAyDvB,OAhDA7E,qBAAU,WACNhE,EAAK8I,MAAMC,iBAAiB,cAAc,SAACC,GACvC,IAAMC,EAAYjJ,EAAK8I,MAAMF,YAAY5I,EAAK8I,MAAMG,SAAU,IAC9DJ,EAAe7I,EAAK2I,kBACpBH,EAAWS,QAEhB,CAACvF,EAAMwF,YAmCVlF,qBAAU,WACNhE,EAAKmJ,cAAcV,KACpB,CAACA,IAMI,qBAAKvG,UAAY,gBAAjB,SACI,qBAAKA,UAAY,kBAAjB,SACI,sBAAKA,UAAY,YAAjB,UACI,cAAC,EAAD,CAAc4G,MAASpF,EAAMwF,YAC7B,sBAAKhH,UAAY,2BAAjB,UACI,sBAAKA,UAAY,qBAAjB,UACI,qBAAKA,UAAY,iBAAjB,SAEQlC,EAAK8I,MAAMM,OACX,sBAAMhG,QA7C1C,WACIM,EAAM2F,aA4CiDpH,GAAK,WAAWC,UAAY,iBAAnD,wBAEA,sBAAMkB,QAnD1C,SAAc4F,GACVtF,EAAM4F,QAkDiDrH,GAAK,WAAWC,UAAY,iBAAnD,qBAIR,sBAAMA,UAAU,iBAAiBD,GAAK,cAAemB,QAAW,kBAAIM,EAAM6F,YAA1E,2BAGA,sBAAMrH,UAAU,iBAAiBD,GAAK,eAAemB,QAAW,kBAAIM,EAAM8F,QAA1E,0BAKJ,qBAAKtH,UAAY,eAAjB,SACI,qBAAKuH,MAAQ,kBAAkBxH,GAAI,cAAayH,YAxD5E,SAAcV,GAEVA,EAAEW,iBACF,IACAC,GADeZ,EAAEpG,QAAUoG,EAAEa,YACfC,wBAERC,GADIf,EAAEgB,QAAUJ,EAAKK,MACFlJ,SAASmJ,gBAAgBC,YAClD5L,QAAQC,IAAIuL,GACZ/J,EAAK8I,MAAMF,YAAcmB,EAAU/J,EAAK8I,MAAMG,SAAW,KAgDoCmB,UA7CjG,SAAcpB,GACVA,EAAEW,iBACF,IACAC,GADeZ,EAAEpG,QAAUoG,EAAEa,YACfC,wBAERC,GADIf,EAAEgB,QAAUJ,EAAKK,MACFlJ,SAASmJ,gBAAgBC,YAClD5L,QAAQC,IAAIuL,GACZ/J,EAAK8I,MAAMF,YAAcmB,EAAU/J,EAAK8I,MAAMG,SAAW,KAsCjC,SACI,qBAAKhH,GAAK,iBAAiBI,MAAS,CAAC0F,MAAOQ,EAAU,WAG9D,qBAAKrG,UAAY,UAAjB,SACI,+BAAO0G,MAEX,qBAAK1G,UAAY,WAAjB,SACI,+BAAOlC,EAAKqK,kBAEhB,sBAAKnI,UAAY,SAAjB,UACI,qBAAKA,UAAY,WAAjB,SACI,sBAAMuH,MAAM,iBAAZ,yBAIJ,qBAAKvH,UAAY,gBAAjB,SACI,uBAAOM,KAAO,QAAQE,SAAY,SAACC,GAAD,OAAS+F,EAAU/F,EAAMC,OAAOK,MAAM,MAAMA,MAAgB,IAAPwF,oBCxD5G6B,MA5Cf,WAEI,OACQ,sBAAKpI,UAAY,WAAjB,UACI,sBAAMA,UAAY,cAAlB,wBACA,+BACI,cAAC,IAAD,CAAS0B,GAAG,IAAI2G,OAAK,EAACC,gBAAgB,aAAtC,SACI,qBAAItI,UAAU,MAAd,UACI,sBAAMuH,MAAM,iBAAZ,kBAGA,0CAGR,cAAC,IAAD,CAAS7F,GAAG,WAAZ,SACI,qBAAI1B,UAAU,MAAd,UACI,sBAAMuH,MAAM,iBAAZ,qBAGA,6CAGR,cAAC,IAAD,CAAS7F,GAAG,UAAU2G,OAAK,EAACC,gBAAgB,aAA5C,SACI,qBAAItI,UAAU,MAAd,UACI,sBAAMuH,MAAM,qCAAZ,oBAGA,4CAGR,cAAC,IAAD,CAAS7F,GAAG,gBAAgB2G,OAAK,EAACC,gBAAgB,aAAlD,SACI,qBAAItI,UAAU,MAAMD,GAAG,KAAvB,UACI,sBAAMwH,MAAM,iBAAZ,2BAGA,iDCCbgB,MApCf,WAEI,IAAMlN,EAAMiI,qBAAWlB,GACvB,OACQ,sBAAKpC,UAAY,WAAjB,UACI,sBAAMA,UAAY,cAAlB,qBACA,+BACI,cAAC,IAAD,CAAS0B,GAAG,WAAW2G,OAAK,EAACC,gBAAgB,aAA7C,SACI,qBAAItI,UAAU,MAAd,UACI,sBAAMuH,MAAM,iBAAZ,qBAGA,6CAGR,cAAC,IAAD,CAAS7F,GAAG,SAAS2G,OAAK,EAACC,gBAAgB,aAA3C,SACI,qBAAItI,UAAU,MAAd,UACI,sBAAMuH,MAAM,iBAAZ,sBAGA,2CAGR,cAAC,IAAD,CAAS7F,GAAI,MAAMrG,EAAI,SAAUgN,OAAK,EAACC,gBAAgB,aAAvD,SACI,qBAAItI,UAAU,MAAd,UACI,sBAAMuH,MAAM,qCAAZ,mBAGA,uDCDbiB,MA1Bf,WAKI,OAHA/L,IAASgC,OAAOC,oBAAmB,SAACC,GACxBA,KAGR,qBAAKoB,GAAG,MAAR,SACI,gCACI,qBAAKC,UAAY,cAAjB,SACI,0CAEA,sBAAKA,UAAY,WAAjB,UACI,cAAC,EAAD,IACA,cAAC,EAAD,IACJ,qBAAKA,UAAY,OAAOD,GAAK,gBAEjC,sBAAKC,UAAU,UAAUkB,QAAS,kBAAIzE,IAASgC,OAAOgK,WAAtD,UACQ,sBAAMzI,UAAU,iBAAhB,mBAGA,iDCVT0I,MAdf,SAAelH,GAEX,OADAnF,QAAQC,IAAIkF,GAER,mCAEA,qBAAKzB,GAAK,QAAQC,UAAY,OAA9B,SACI,qBAAKA,UAAY,cAAjB,SACI,sDCHVpB,EAAM,IAAIxD,EA0CDuN,MAzCf,SAAcnH,GACV,IAAIoH,EACEC,EAAMrH,EAAMqH,IACdnL,EAAQ8D,EAAM9D,MACfjB,IAASgC,OAAOqK,cACfF,EAAKnM,IAASgC,OAAOqK,YAAYzN,KAEzBmG,EAAMxF,KAAlB,IACI8G,EAAWtB,EAAMsB,SARL,EASoBhE,mBAASpB,EAAMqL,MAAMC,OATzC,mBASTC,EATS,KASGC,EATH,OAUQpK,qBAVR,mBAUTqK,EAVS,KAUHC,EAVG,KAWVC,EAAW3L,EAAM4L,iBAA8CC,GAAhC7L,EAAM4L,WAAWN,MAAMJ,GAsB5D,OArBI9G,qBAAU,WAIFsH,IADDC,KAKJ,CAACvG,IAcJ,sBAAKyE,MAAQ,OAAb,UACI,mBAAGA,MAAM,iBAAiBrG,QAb9B,WACItC,EAAI4K,SAASZ,EAAMC,EAAKnL,EAAMyD,KAAKtD,OAAQH,GAExCyL,GACCD,EAAcD,EAAa,GAC3BG,GAAQ,KAERA,GAAQ,GACRF,EAAcD,EAAY,KAK9B,SAAiDE,EAAO,yCAAkB,kDAC3E,+BAAOF,QC1CH,MAA0B,mCCuE1BQ,MAhEf,SAAsBjI,GAClB,IAAMkI,EAASC,mBADS,EAEY7K,oBAAS,GAFrB,mBAEjB8K,EAFiB,KAELC,EAFK,KAGlB/L,EAAOwF,qBAAWhB,GACpBtG,EAAOwF,EAAMxF,KACb8N,EAAkBtI,EAAMsB,SAmB5B,OAlBAhB,qBAAU,YACHhE,EAAK8I,MAAM3G,KAAOjE,EAAKiE,IAAI8J,UAAYjM,EAAK8I,MAAMM,SACjD2C,GAAc,GAEf/L,EAAK8I,MAAM3G,KAAOjE,EAAKiE,IAAI8J,UAAajM,EAAK8I,MAAMM,QAClD2C,GAAc,KAEnB,CAAC/L,EAAK8I,MAAM3G,IAAKjE,EAAKiE,IAAI8J,SAAUjM,EAAK8I,MAAMM,SAY7C,sBAAKlH,UAAY,oBAAjB,UACG,uBAAOD,GAAK,MAAME,IAAO+J,EAAQrN,IAAO+M,EAAQpJ,KAAK,eACrD,cAAC,IAAD,CAASoB,GAAE,oBAAiB1F,EAAKmF,KAAKtD,QAAQ7B,EAAKmF,KAAKtE,MAA7C,gBAA0Db,EAAKmF,KAAKiD,QAA/E,SACI,qBAAKpE,UAAY,sBAAsBG,MAAS,CAAE+F,gBAAgB,QAAD,OAAUlK,EAAKiE,IAAI7C,SAAnB,WAEtE,qBAAM4C,UAAY,UAAlB,SACU4J,EACD,mBAAG5J,UAAU,iBAAgBkB,QAjB7C,SAAcT,GACVoJ,GAAc,GACdrI,EAAMyI,KAAKjO,IAe+C+E,MAAS/E,EAAKmF,KAAKtE,MAAOkD,GAAK,aAA7E,wBAGA,mBAAGmB,QAhBnB,SAAcT,GACVoJ,GAAc,GACdrI,EAAM4F,KAAK3G,IAcqBT,UAAY,iBAAhC,qBAGR,sBAAKD,GAAK,iBAAV,UACA,qBAAKwH,MAAQ,kBAAb,SACQ,iCAAOvL,EAAKmF,KAAKgF,OAAjB,MAA4BnK,EAAKmF,KAAKtE,WAE1C,sBAAK0K,MAAQ,iBAAb,UACI,qBAAKA,MAAQ,WAAb,SACI,qBAAKtH,IAAOuB,EAAMpF,IAAKyJ,MAAQ,KAAKD,OAAS,SAEjD,cAAC,IAAD,CAASlE,GAAK,MAAM1F,EAAKmF,KAAKiD,OAAO,SAArC,SAA+C,+BAAOpI,EAAKmF,KAAK+I,gBAGpE,sBAAKlK,UAAY,QAAjB,UACI,sBAAKuH,MAAQ,QAAb,UACI,mBAAGA,MAAM,iBAAT,wBAGA,+BAAOvL,EAAK+M,MAAMoB,WAEtB,cAAC,EAAD,CAAMnO,KAAQA,EAAKmF,KAAKtE,MAAOgM,IAAO7M,EAAKmF,KAAKiD,OAAQtB,SAAYgH,EAAiBpM,MAAS1B,cC5D9GoO,EAAa,EAyEFC,MArEf,SAAiB7I,GACb,IAAM5C,EAAM,IAAIxD,EADG,EAEW0D,mBAAS,IAFpB,mBAEZwL,EAFY,KAEHC,EAFG,OAGWzL,mBAASsL,GAHpB,mBAGZI,EAHY,KAGHC,EAHG,KASnB,SAASR,EAAKhK,GACVuB,EAAMyI,KAAKhK,GAGf,SAASmH,IACL5F,EAAM4F,OAGV,OAZAtF,qBAAU,WACNlD,EAAI8L,aAAazN,MAAK,SAAAf,GAAI,OAAEqO,EAAWrO,QACxC,IAWC,sBAAK6D,GAAG,oBAAoBC,UAAU,wBAAtC,UACI,sBAAKA,UAAU,eAAf,UACI,qBAAKA,UAAU,eAAf,SACI,kDAEJ,qBAAKA,UAAU,iBAAf,SACI,oEAIR,qBAAKA,UAAY,SAEjB,qBAAKA,UAAU,wBAAyBG,MAAS,CAAEC,UAAU,aAAD,OAAeoK,EAAf,OAA6B,GAA7B,QAA5D,SACKF,GACDA,EAAQ3G,KAAI,SAAC3H,EAAM2O,GACf,OACA,cAAC,WAAD,UACI,cAAC,EAAD,CACA3O,KAAMA,EACNiO,KAAMA,EACNnH,SAAUtB,EAAMsB,SAChBsE,KAAQA,EACRR,MAASpF,EAAMoF,SANJ+D,QAavB,sBAAK3K,UAAY,iBAAjB,UACI,qBAAMD,GAAK,OAAOC,UAAY,SAASkB,QAAW,WAE9CuJ,EADAL,GAAc,MADlB,SAII,sBAAMpK,UAAU,iBAAhB,oCAIJ,qBAAKD,GAAK,WAAWC,UAAY,SAASkB,QAAW,WAEjDuJ,EADAL,GAAyB,MAD7B,SAII,sBAAMpK,UAAU,iBAAhB,0CC9DhB4K,EAAa,EAgFFC,MA5Ef,SAAkBrJ,GACd,IAAMnG,EAAMiI,qBAAWlB,GACjBxD,EAAM,IAAIxD,EAFI,EAGY0D,qBAHZ,mBAGbgM,EAHa,KAGHC,EAHG,OAIUjM,mBAAS8L,GAJnB,mBAIbI,EAJa,KAIJC,EAJI,KAkBpB,SAAShB,EAAKhK,GACVuB,EAAMyI,KAAKhK,GAEf,SAASmH,IACL5F,EAAM4F,OAGV,OAnBAtF,qBAAU,WACNlD,EAAIsM,aAAa7P,GAAK4B,MAAK,SAACf,GAAD,OAAQ6O,EAAY7O,QAChD,CAACb,IAGJwD,SAASsM,SAAW,WACbtM,SAASmJ,gBAAgBoD,UAAYhG,OAAOiG,aAAexM,SAASmJ,gBAAgBsD,cAEnFjP,QAAQC,IAAI,aAYhB,sBAAKyD,GAAG,qBAAqBC,UAAU,wBAAvC,UACA,sBAAKA,UAAU,eAAf,UACI,qBAAKA,UAAU,eAAf,SACI,sDAEJ,qBAAKA,UAAU,iBAAf,SACI,uEAGR,qBAAKA,UAAY,SACjB,qBAAKA,UAAU,wBAAwBD,GAAK,yBAAyBI,MAAS,CAAEC,UAAU,aAAD,OAAe4K,EAAf,OAA6B,GAA7B,QAAzF,SACKF,GACDA,EAASnH,KAAI,SAAC3H,EAAM2O,GAChB,OACA,cAAC,WAAD,UACI,cAAC,EAAD,CACA3O,KAAMA,EACNiO,KAAMA,EACNnH,SAAUtB,EAAMsB,SAChBsE,KAAQA,EACRR,MAASpF,EAAMoF,SANJ+D,QAYvB,sBAAK3K,UAAY,iBAAjB,UACQ,qBAAMD,GAAK,OAAOC,UAAY,SAASkB,QAAW,WAEhD+J,EADAL,GAAc,MADhB,SAII,sBAAMrD,MAAM,iBAAZ,oCAIJ,qBAAKxH,GAAK,WAAWC,UAAY,SAASkB,QAAW,WACjD0J,GAAyB,IACzBvO,QAAQC,IAAIsO,GACZK,EAAWL,IAHf,SAKI,sBAAMrD,MAAM,iBAAZ,0CCxEhBqD,EAAa,EA0EFW,MAvEf,SAAkB/J,GAAO,IAAD,EACW1C,qBADX,mBACd0M,EADc,KACJC,EADI,OAEU3M,mBAAS8L,GAFnB,mBAEbI,EAFa,KAEJC,EAFI,KAGdrM,EAAM,IAAIxD,EAKhB,SAAS6O,EAAKhK,GACVuB,EAAMyI,KAAKhK,GAEf,SAASmH,IACL5F,EAAM4F,OAGV,OAXAtF,qBAAU,WACRlD,EAAI8M,cAAczO,MAAK,SAAAf,GAAI,OAAIuP,EAAYvP,QAC1C,IAWC,sBAAK6D,GAAG,qBAAqBC,UAAU,wBAAvC,UACI,sBAAKA,UAAU,eAAf,UACI,qBAAKA,UAAU,eAAf,SACI,mDAEJ,qBAAKA,UAAU,iBAAf,SACI,qEAIR,qBAAKA,UAAY,SAEjB,qBAAKA,UAAU,wBAAwBD,GAAK,yBAAyBI,MAAS,CAAEC,UAAU,aAAD,OAAe4K,EAAf,OAA6B,GAA7B,QAAzF,SACKQ,GACDA,EAAS7H,KAAI,SAAC3H,EAAM2O,GAChB,OACA,cAAC,WAAD,UACI,cAAC,EAAD,CACA3O,KAAMA,EACNiO,KAAMA,EACNnH,SAAUtB,EAAMsB,SAChBsE,KAAQA,EACRR,MAASpF,EAAMoF,SANJ+D,QAYvB,sBAAK3K,UAAY,iBAAjB,UACQ,qBAAMD,GAAK,OAAOC,UAAY,SAASkB,QAAW,WAElD+J,EADAL,GAAc,MADd,SAII,sBAAM5K,UAAU,iBAAhB,oCAKJ,qBAAKD,GAAK,WAAWC,UAAY,SAASkB,QAAW,WACjD0J,GAAyB,IACzBvO,QAAQC,IAAIsO,GACZK,EAAWL,IAHf,SAKI,sBAAMrD,MAAM,iBAAZ,0CCYToE,MA/Df,SAAcnK,GAGV3C,SAAShC,MAAQ,SACjB,IAAMxB,EAAMiI,qBAAWlB,GAJN,GAWN3F,IAASmP,WAC2B9M,sBAZ9B,mBAYVgL,EAZU,KAYO+B,EAZP,OAaa/M,mBAAS,MAbtB,mBAuCjB,SAASmL,EAAKhK,GACVuB,EAAMyI,KAAKhK,GAIf,SAASmH,EAAK3G,GACXe,EAAM4F,OAIT,OAjDiB,UAcJ3K,IAASgC,OAGtBqD,qBAAU,WACHzG,GAECoB,IACCmP,WACAjP,IAAI,SAAUtB,EAAM,8BACpB8J,GAAG,SAAS,SAACjI,GACVb,QAAQC,IAAIY,GACZ2O,EAAoB3O,EAASwI,MAAM5C,eAG5C,CAACzH,IAsBA,mCACI,qBAAK0E,GAAG,OAAOC,UAAU,OAAzB,SACI,qBAAKA,UAAU,0BAA0BD,GAAG,cAA5C,SACI,sBAAKC,UAAU,YAAYD,GAAK,WAAhC,UACI,cAAC,EAAD,CAASkK,KAAQA,EAAM7C,KAAQA,EAAMtE,SAAYgH,EAAiBlD,MAASpF,EAAMoF,QACjF,cAAC,EAAD,CAAUqD,KAAQA,EAAM7C,KAAQA,EAAMtE,SAAYgH,EAAiBlD,MAASpF,EAAMoF,QAClF,cAAC,EAAD,CAAWqD,KAAQA,EAAM7C,KAAQA,EAAMtE,SAAYgH,EAAiBlD,MAASpF,EAAMoF,kB,kBC3D5FnK,IAASqP,cAVH,CACjBC,OAAQ,0CACRC,WAAY,kCACZC,YAAa,yCACbC,UAAW,kBACXC,cAAe,8BACfC,kBAAmB,aACnBC,MAAO,4C,gBCPLC,E,uIAEUC,EAAOC,G,4FAGT/P,IAASgC,OAAOgO,2BAA2BF,EAAOC,GACvDvP,MAAK,YACF,OADY,EAAR0B,KACQ+N,aAAazP,MAAK,SAAA0P,GAC1B,EAAK1Q,SAAS,aAAc,CAAC0Q,kB,4QAIzBxQ,E,+BAAM,GAAID,E,+BAAO,G,SAENX,MAAMY,EAAK,CAChC4B,OAAQ,OACRvC,KAAM,OACNwC,MAAO,WACPC,YAAa,cACbC,QAAS,CACP,eAAgB,mBAChB,aAAc0O,IAAQC,IAAI,eAE5B1O,SAAU,SACVC,eAAgB,cAChBC,KAAMC,KAAKC,UAAUrC,K,cAXjBP,E,yBAaCA,EAASD,Q,wGCgCToR,OArDf,SAAetL,GACX,IACG+K,EACAC,EAFG/N,EAAO,IAAI6N,EAIXhI,EAAUC,cALC,EAMuBzF,qBANvB,mBAMViO,EANU,KAiBjB,OAjBiB,KAmBb,qBAAKhN,GAAK,QAAQC,UAAW,aAA7B,SAEI,qBAAKA,UAAY,WAAjB,SACI,sBAAKA,UAAY,iBAAjB,UACI,sBAAKA,UAAY,cAAjB,UACI,qBAAKA,UAAY,YAAjB,SACI,wCAEJ,sBAAKA,UAAY,kBAAjB,UAEI,qBAAKA,UAAY,eAAjB,SACI,uBAAOgB,YAAc,eAAejB,GAAK,QACzCC,UAAY,aAEhB,qBAAKA,UAAY,kBAAjB,SACI,uBAAOgB,YAAc,WAAYjB,GAAK,WAAWO,KAAO,WAAWN,UAAY,aAEnF,qBAAKA,UAAY,aAAjB,SACI,wBAAQkB,QA9BpC,SAAgBM,GACZ+K,EAAQ1N,SAASmO,eAAe,SAASjM,MACzCyL,EAAW3N,SAASmO,eAAe,YAAYjM,MAE/CtC,EAAKwO,MAAMV,EAAOC,GACjBvP,MAAK,WACFqH,EAAQY,KAAK,SAwBO,SAA2B,+BAAM,kDAK7C,sBAAKqC,MAAQ,cAAb,UACI,4BAAIwF,IACJ,6DAA+B,cAAC,IAAD,CAASrL,GAAK,WAAd,uCCuBxCwL,ICrEXnQ,GACAM,GACAiH,GDmEW4I,GArEf,WACI,IAAM5I,EAAUC,cAmChB,OACI,qBAAKxE,GAAK,SAASC,UAAY,aAA/B,SACI,qBAAKA,UAAY,WAAjB,SACI,sBAAKA,UAAY,iBAAjB,UACI,qBAAKuH,MAAQ,YAAb,SACI,wCAEJ,sBAAKvH,UAAY,kBAAjB,UACI,qBAAKA,UAAY,eAAjB,SACI,uBAAOD,GAAK,QAAQiB,YAAc,QAAQhB,UAAY,aAE1D,qBAAKA,UAAY,kBAAjB,SACI,uBAAOD,GAAK,WAAWiB,YAAc,WAAWhB,UAAW,SAASM,KAAO,eAE/E,qBAAKN,UAAY,kBAAjB,SACI,uBAAOD,GAAK,WAAWiB,YAAc,WAAWhB,UAAY,aAGhE,qBAAKuH,MAAQ,aAAb,SACI,wBAAQrG,QArDhC,WACI,IAAIiM,EAAStO,SAASmO,eAAe,SAASjM,MAC1CqM,EAAYvO,SAASmO,eAAe,YAAYjM,MAChD+B,EAAWjE,SAASmO,eAAe,YAAYjM,MAHtC,4CAIb,WAAoBwL,EAAOC,GAA3B,SAAAa,EAAA,sEACU5Q,IAASgC,OAAO6O,+BAA+Bf,EAAOC,GAAUvP,MAAK,WACvEZ,QAAQC,IAAI,eACZ,IAAI8H,EAAS3H,IAASgC,OAAOqK,YAAYzN,IACzCgB,QAAQC,IAAI8H,GACZ3H,IAASmP,WAAWjP,IAAI,SAASyH,EAAO,8BAA8BmJ,IAAI,CACtE,SAAYzK,EACZ,OAAUsB,EACV,SAAW,IACZnH,KACCR,IAASmP,WAAWjP,IAAI,SAASyH,EAAO,mBAAmBmJ,IAAI,CAC/D,KAAQ,CACJ,IAAO,GACP,UAAazK,EACb,SAAYA,EACZ,KAAQA,GAEZ,IAAM,CACF,IAAM,GACN,EAAK,GACL,EAAK,GACL,KAAQ,SArBxB,OA0BIwB,EAAQY,KAAK,WA1BjB,4CAJa,6DAgCbsI,CAAKL,EAAQC,IAqBO,uBAIR,qBAAK7F,MAAM,cAAX,SACI,8DAAgC,cAAC,IAAD,CAAS7F,GAAK,UAAd,sCCxDlD9C,IADQ,IAAI6O,KACN,IAAIrS,GAmEhB,SAASsS,KAAO,IAAD,EAE6B5O,qBAF7B,mBAEJ6O,EAFI,KAEUC,EAFV,KA4CX,OACI,qBAAK5N,UAAY,cAAjB,SACA,qBAAKA,UAAY,kBAAjB,SACI,sBAAKA,UAAY,mBAAjB,UACI,sBAAKA,UAAY,cAAjB,UACI,qBAAKA,UAAY,aAAjB,SACI,qBAAKC,IAAO0N,EAAc9H,MAAQ,MAAMD,OAAS,MAAM1F,IAAI,gBAAgBH,GAAK,WAEpF,sBAAKC,UAAY,cAAjB,UACI,uBAAOM,KAAO,OAAOP,GAAI,YAAYQ,QAAM,EAACC,SAdhE,SAAqBC,GACjBpE,QAAQC,IAAImE,EAAMC,QAClB3D,GAAQ8B,SAASmO,eAAe,aAAarM,MAAM,GACnDiN,EAAgBhN,IAAIC,gBAAgBJ,EAAMC,OAAOC,MAAM,MAW8BkN,OAAS,0BAC9E,uBAAOC,IAAI,YAAX,SAAuB,wDAG/B,sBAAK9N,UAAY,YAAjB,UACI,sBAAKA,UAAY,aAAjB,UACI,yCACA,qBAAKA,UAAY,cAAjB,SACI,uBAAOD,GAAK,QAAQiB,YAAc,uBAAuBhB,UAAY,cAAc+N,aAAgB1Q,GAAKrB,KAAMuJ,aAAe,aAGrI,sBAAKvF,UAAY,SAAjB,UACI,0CACA,qBAAKA,UAAY,eAAjB,SACI,uBAAOD,GAAK,SAASiB,YAAc,wBAAwBhB,UAAY,cAAcuF,aAAe,aAG5G,sBAAKvF,UAAY,QAAjB,UACI,yCACA,qBAAKA,UAAY,cAAjB,SACI,uBAAOD,GAAK,QAAQiB,YAAc,wBAAwBhB,UAAY,cAAcuF,aAAe,aAG3G,sBAAKvF,UAAY,cAAjB,UACI,+CACA,qBAAKA,UAAY,cAAjB,SACI,uBAAOD,GAAK,cAAciB,YAAc,wBAAwBhB,UAAY,cAAcuF,aAAe,aAGjH,sBAAKvF,UAAY,OAAjB,UACI,wCACA,qBAAKA,UAAY,aAAjB,SACI,uBAAOD,GAAK,OAAOiB,YAAc,WAAWhB,UAAY,cAAeuF,aAAe,aAG9F,sBAAKvF,UAAY,aAAjB,UACI,6CACA,sBAAKA,UAAY,gBAAjB,UACI,sBAAKA,UAAY,SAAjB,UACI,uBAAOM,KAAO,QAAQP,GAAK,YAAY/D,KAAO,SAAS+E,MAAQ,WAC/D,uBAAO+M,IAAM,YAAb,uBAEJ,sBAAK9N,UAAY,UAAjB,UACI,uBAAOM,KAAO,QAAQP,GAAK,aAAa/D,KAAO,SAAS+E,MAAQ,YAChE,uBAAO+M,IAAM,aAAb,8BAIZ,sBAAK9N,UAAY,cAAjB,UACI,qBAAKA,UAAY,SAAjB,SACI,wBAAQkB,QAnEhC,WACIoD,GAAQY,KAAK,MAkEO,sBAEJ,qBAAKlF,UAAY,OAAjB,SACI,wBAAQkB,QAvGhC,SAAkBT,GACdpE,QAAQC,IAAImE,GACZA,EAAMC,OAAOsN,UAAW,EACxB,IAAI5J,EAAS3H,IAASgC,OAAOqK,YAAYzN,IACrCwB,EAAQgC,SAASmO,eAAe,SAASjM,MACzCoF,EAAStH,SAASmO,eAAe,UAAUjM,MAC3CnE,EAAQiC,SAASmO,eAAe,SAASjM,MACzCkN,EAAcpP,SAASmO,eAAe,eAAejM,MACrDmN,EAAOrP,SAASmO,eAAe,QAAQjM,MACvCoN,EAAYtP,SAASmO,eAAe,aAAaoB,QAIrD,GAAIvR,EAAMwR,QAAQ,MAAQ,GAAKxR,EAAMwR,QAAQ,MAAQ,GAAKxR,EAAMwR,QAAQ,MAAQ,GAAKxR,EAAMwR,QAAQ,MAAQ,GAAKxR,EAAMwR,QAAQ,MAAQ,EAClIhS,QAAQC,IAAI,qCAEZ,IAAkB,IAAd6R,EAAmB,CACnB,IAAMjS,EAAM,CACRkI,SACAvH,QACAsJ,SACAvJ,QACAqR,cACAC,OACAnR,SACAM,SAEJuB,GAAI0P,OAAOpS,KA4EC,iCAWbqS,OArLf,WAAkB,IAAD,EAGTlT,EAcJ,SAASmT,IAIL,OAHAnR,GAAOwB,SAASmO,eAAe,cAAcrM,MAAM,GAEnD2D,GAAQY,KAAK,gBAET,cAAC,IAAD,CAAUxD,GAAK,iBASvB,OA9BA4C,GAAUC,cACVlI,QAAQC,IAAIG,IAASgC,OAAOqK,aAI5BrM,IAASgC,OAAOC,oBAAmB,SAACC,GAC7BA,GACAtD,EAAMsD,EAAKtD,IACXoB,IAASmP,WAAWjP,IAAI,SAAUtB,EAAM,8BAA8B8J,GAAG,SAAS,SAAAjI,GACnEA,EAASwI,MAAM5C,aAG7BwB,GAAQY,KAAK,aAarBpD,qBAAU,cAEP,IAIC,qCACI,cAAC,EAAD,IAOQ,eAAC,IAAD,WACI,cAAC,IAAD,CAAQuG,OAAK,EAACoG,KAAO,UAArB,SACA,qBAAKzO,UAAY,OAAOD,GAAK,cAA7B,SACA,qBAAKC,UAAY,mBAAmBD,GAAK,KAAzC,SACI,qBAAKC,UAAY,aAAc0O,OAAUF,EAAzC,SACI,sBAAKxO,UAAY,cAAjB,UACI,kEACA,sBAAKA,UAAY,gBAAjB,UACI,uBAAOM,KAAO,OAAOP,GAAI,aAAaQ,QAAM,EAACC,SAAYgO,EAAYX,OAAS,yBAC9E,uBAAOC,IAAI,aAAX,SAAwB,+DAOxC,cAAC,KAAD,GAAQzF,OAAK,EAACoG,KAAQ,gBAAtB,oDAAyDf,IAAzD,WC1BTiB,OAxCf,SAAsBnN,GAClB,IAAIoN,EAASpN,EAAMoN,OACf/F,EAAMrH,EAAMqH,IACZiB,EAAkBtI,EAAMsB,SACxB1G,EAAMoF,EAAMpF,IACZuC,EAAO6C,EAAM7C,KACjB,SAASsL,EAAKhK,GACVuB,EAAMyI,KAAKhK,GAEf,SAASmH,IACL/K,QAAQC,IAAI,YACZkF,EAAM4F,OAGV,OACY,qBAAKG,MAAQ,0BAAb,SACI,qBAAKA,MAAQ,YAAb,SACI,qBAAKA,MAAQ,cAAb,SACSqH,GAAUA,EAAOjL,KAAI,SAAC3H,EAAM2O,GACzB,OACI,cAAC,WAAD,UACQ,cAAC,EAAD,CACI3O,KAAQA,EACRiO,KAAQA,EACRpB,IAAOA,EACP/F,SAAYgH,EACZ1N,IAAMA,EACNuC,KAAQA,EACRyI,KAAQA,EACRR,MAASpF,EAAMoF,SATV+D,aCZnD/L,GAAM,IAAIxD,EA+GDyT,GA9GD,SAACrN,GAAW,IAAD,EACH1C,qBADG,mBACdE,EADc,KACXC,EADW,OAEHH,qBAFG,mBAEdI,EAFc,KAEXC,EAFW,OAGGL,qBAHH,mBAGdM,EAHc,KAGRC,EAHQ,OAIaP,qBAJb,mBAId8D,EAJc,KAIHC,EAJG,OAKO/D,mBAAS,IALhB,mBAKd8P,EALc,KAKNE,EALM,OAMGhQ,mBAAS,MANZ,mBAMdH,EANc,KAMRoQ,EANQ,OAOCjQ,mBAAS,MAPV,mBAOd1C,EAPc,KAOT8G,EAPS,OAQ0BpE,qBAR1B,mBAQdgL,EARc,KAQG+B,EARH,KASHhD,EAAUrH,EAAMwN,MAA1BC,OAAUpG,IAuClB,OApCA/G,qBAAU,WACNlD,GAAIsQ,aAAarG,GAAK5L,MAAK,SAACa,GAAD,OAAQgR,EAAUhR,MAC7Cc,GAAIuE,YAAY0F,GAAK5L,MAAK,SAACf,GAAD,OAAQ2G,EAAa3G,MAC/CO,IAASgC,OAAOC,oBAAmB,SAACoK,GAChClK,GAAIuE,YAAa2F,EAAYzN,KAAK4B,MAAK,SAAAf,GAAI,OAAE2P,EAAoB3P,EAAKkH,OAAOC,QAAQlC,KAAKnF,cAE/F,CAAC6M,IACJ/G,qBAAU,WACCc,IACCmM,EAAQnM,EAAUQ,OAAOC,QAAQlC,KAAKnF,MACtCkH,EAAON,EAAUQ,OAAOC,QAAQjH,IAAID,KACpC8C,EAAK2D,EAAUQ,OAAOC,QAAQjH,IAAI4C,GAClCG,EAAKyD,EAAUQ,OAAOC,QAAQjH,IAAI8C,GAClCG,EAAQuD,EAAUQ,OAAOC,QAAQjH,IAAIgD,SAE9C,CAACwD,IAsBA,mCAEI,sBAAK7C,GAAG,UAAUC,UAAU,OAA5B,UACI,sBAAKuH,MAAM,oBAAX,UACI,sBAAKvH,UAAU,YAAf,UACI,qBAAKC,IAAI,KAET,qBAAKD,UAAU,YAAf,SACI,6BAAKrB,SAGb,qBAAKqB,UAAU,MAAf,SACI,qBAAKA,UAAY,gBAAjB,SACI,qBAAKA,UAAY,UAAjB,SACI,qBACAC,IAAK7D,EACL+D,MAEI,CACIC,UAAU,aAAD,OAAepB,EAAE,GAAjB,eAA0BE,EAAE,GAA5B,qBAA4CmB,SAASjB,GAAM,IAAO,EAAlE,cAS7B,qBAAKmI,MAAM,gBAAX,SACI,sBAAKA,MAAM,cAAX,UACI,cAAC,IAAD,CAAS7F,GAAI,MAAQmH,EAAM,SAAUP,gBAAgB,mBAArD,SACI,iCAAQ,6CAEZ,cAAC,IAAD,CAAS5G,GAAI,MAAQmH,EAAM,YAAaP,gBAAgB,sBAAxD,SACI,iCAAQ,gDAEZ,iCAAQ,mDAIpB,cAAC,IAAD,CAAU5G,GAAM,MAAQmH,EAAM,WAC9B,eAAC,IAAD,WACI,cAAC,IAAD,CAAOR,OAAK,EAACoG,KAAM,MAAQ5F,EAAM,SAAjC,SACI,cAAC,GAAD,CACI+F,OAAQA,EACR3E,KA5DxB,SAAchK,GACV5D,QAAQC,IAAIkF,GACZA,EAAMyI,KAAKhK,IA2DS4I,IAAKA,EACL/F,SAAUgH,EACV1N,IAAKA,EACLuC,KAAMA,EACNyI,KAxDxB,WACI5F,EAAM4F,QAwDcR,MAASpF,EAAMoF,UAGvB,cAAC,IAAD,CAAOyB,OAAK,EAACoG,KAAM,MAAQ5F,EAAM,uBC5G/CjK,GAAM,IAAIxD,EA6ED+T,OA5Ef,SAAgB3N,GAAO,IAAD,EAC6B1C,qBAD7B,mBACXgL,EADW,KACM+B,EADN,OAGU/M,mBAAS,IAHnB,mBAGX8P,EAHW,KAGHE,EAHG,KAWZM,EAFK,IAAIC,gBAAgBC,cAAcvT,QAElB8Q,IAAI,UAiB/B,SAAS5C,EAAKjO,GACVwF,EAAMyI,KAAKjO,GAGf,SAASoL,IACL5F,EAAM4F,OAKV,OAzBA/K,QAAQC,IAAI8S,GACZtN,qBAAU,WACNrF,IAASgC,OAAOC,oBAAmB,SAACoK,GAChCrM,IAASmP,WAAWjP,IAAI,SAASmM,EAAYzN,IAAI,+BAA+B8J,GAAG,SAAS,SAACjI,GACtFA,EAASwI,OACRmG,EAAoB3O,EAASwI,MAAM5C,kBAIhD,IAEHhB,qBAAU,WACNlD,GAAI0G,QAAQ8J,GAAcnS,MAAK,SAAC2R,GAAD,OAAUE,EAAUF,QACpD,CAACQ,IAaA,mCAEA,qBAAKrP,GAAK,OAAOC,UAAW,OAA5B,SACI,qBAAKA,UAAY,0BAA0BD,GAAK,cAAhD,SACI,qBAAKC,UAAY,YAAjB,SACI,sBAAKA,UAAY,cAAjB,UACK4O,GAAUA,EAAOjL,KAAI,SAAC3H,EAAM2O,GACzB,OACI,cAAC,WAAD,UACI,cAAC,EAAD,CACI3O,KAAQA,EACRiO,KAAQA,EACR7C,KAAQA,EACRyB,IAAO7M,EAAKoI,OACZtB,SAAYgH,EACZ1N,IAAMJ,EAAKuT,OACX5Q,KAAQ3C,EAAKmK,OACbS,MAASpF,EAAMoF,SATN+D,MAeJ,GAAjBiE,EAAOY,OAEP,oDAEA,iB,OCtEhB,IAAIpU,EA2FDqU,OAzFf,SAAajO,GACZ,IAAD,EAC8B1C,qBAD9B,mBACWiH,EADX,KACkBC,EADlB,OAE8BlH,qBAF9B,mBAEWjC,EAFX,KAEkB6S,EAFlB,OAG8B5Q,qBAH9B,mBAGW/B,EAHX,KAGkB4S,EAHlB,OAIgC7Q,qBAJhC,mBAIWqH,EAJX,KAImByJ,EAJnB,OAKsC9Q,oBAAS,GAL/C,mBAKW+Q,EALX,KAKsBC,EALtB,OAM0ChR,qBAN1C,mBAMWmP,EANX,KAMwB8B,EANxB,KAOUjS,EAAOwF,qBAAWhB,GA6CxB,OA5CAR,qBAAU,WAEHN,EAAMwO,aAGDC,MAAMC,QAAQ1O,EAAM2O,QACrBrS,EAAKsS,iBAAiBtS,EAAKmI,kBAC1BD,EAASlI,EAAKmI,kBAEfD,EAASxE,EAAM2O,OAAO,IAKzBnK,EAASxE,EAAM2O,WAEpB,CAAC3O,IAcJM,qBAAU,WACHiE,IACC2J,EAAS3J,EAAM5E,KAAKtE,OACpB8S,EAAS5J,EAAM9F,IAAI7C,UACnBwS,EAAU7J,EAAM5E,KAAKgF,QACrB4J,EAAehK,EAAM5E,KAAK8M,aACvBnQ,EAAK8I,MAAM3G,KAAO8F,EAAM9F,IAAI8J,UAAiC,GAArBjM,EAAK8I,MAAMM,OAClD4I,GAAa,GAEbA,GAAa,MAGtB,CAAC/J,IAGA,qBAAK/F,UAAawB,EAAM6O,KAAK,MAA7B,SACI,sBAAKrQ,UAAY,gBAAjB,UACI,qBAAKA,UAAY,UAAUG,MAAS,CAAC+F,gBAAgB,6EAAD,OAA+EnJ,EAA/E,SACpD,sBAAKiD,UAAY,eAAjB,UACI,qBAAKA,UAAY,yBAAjB,SACI,qBAAKA,UAAY,iBACjBG,MAAS,CAAC+F,gBAAgB,QAAD,OAAUnJ,EAAV,WAG7B,sBAAKiD,UAAY,WAAjB,UACI,qBAAKA,UAAY,YAAjB,SACI,6BAAKnD,MAET,qBAAKmD,UAAY,kBAAjB,SACI,+BAAOiO,MAEX,qBAAKjO,UAAY,kBAAjB,SACI,+BAAOmG,SAGf,sBAAKnG,UAAY,cAAjB,UACI,qBAAKA,UAAY,kBAAjB,SACK6P,EAAU,wBAAQ3O,QA3C3C,WAEIM,EAAM4F,OACN0I,GAAa,IAwCkB,mBAAwC,wBAAQ5O,QAjDnF,WAEIM,EAAMyI,KAAKlE,GACX+J,GAAa,IA8C0D,oBAGvD,qBAAK9P,UAAY,gCCrFnCsQ,G,WAEF,WAAYC,GACX,oBACGjV,KAAKsL,MAAQ,IAAI4J,MACjBlV,KAAKmV,UAAY,GACjBnV,KAAKqP,GAAK,E,mDAGb,IAAD,OACIrP,KAAKsL,MAAMqD,OACX3O,KAAKqP,EAAIrP,KAAKmV,UAAUpC,QAAQ/S,KAAKwC,MACrCxC,KAAKsL,MAAMC,iBAAiB,SAAS,SAACC,GAC9B,GAAG,EAAK6D,GAAK,GAAK,EAAKA,EAAE,EAAK8F,UAAUjB,OAAO,CAC3C,IAAMkB,EAAW,EAAKC,cACnBD,GACC,EAAKE,SAASF,OAO9BpV,KAAKsL,MAAMC,iBAAiB,QAAQ,SAACC,GAChB,EAAKF,MAAMF,eAEhCpL,KAAKsL,MAAMC,iBAAiB,SAAS,SAACC,GAClB,EAAKF,MAAMF,eAG/BpL,KAAKsL,MAAMC,iBAAiB,SAAS,SAACC,GAClB,EAAKF,MAAMF,eAG/BpL,KAAKsL,MAAMC,iBAAiB,cAAc,SAACC,GACvB,EAAKF,MAAMF,iB,6BAS/BpL,KAAKsL,MAAMiK,U,gCAGL/S,GACT,IADegT,EAChB,uDADgC,OAEP,aAAlBA,EACCxV,KAAKmV,UAAY3S,EACM,SAAlBgT,GACLxV,KAAKmV,UAAUvL,KAAKpH,K,oCAMxB,OAAGxC,KAAKmV,WAAanV,KAAKqP,GAAK,GAAKrP,KAAKqP,EAAErP,KAAKmV,UAAUjB,OACrClU,KAAKmV,UAAUnV,KAAKqP,EAAE,GAIhC,O,wCAMX,OAAGrP,KAAKmV,WAAanV,KAAKqP,EAAI,GAAKrP,KAAKqP,EAAErP,KAAKmV,UAAUjB,OACpClU,KAAKmV,UAAUnV,KAAKqP,EAAE,GAIhC,O,+BAMN7M,GAELxC,KAAKwC,KAAOA,EACZxC,KAAKsL,MAAM3G,IAAMnC,EAAKmC,IAAI8J,SAC1BzO,KAAK2O,KAAKnM,K,2BAGTN,GAED,IACMtB,EACN,CACIyB,QAASH,EACTI,QAAStC,KAAKwC,KAAKqD,KAAK9F,IACxB0V,UAAWzV,KAAKwC,KAAKqD,KAAKtD,QAAUvC,KAAKwC,KAAKqD,KAAKtE,MACnDiB,KAAMxC,KAAKwC,MAEfxC,KAAKW,SARO,uBAQOC,K,qCAItB,IAESA,EACN,CACI8U,YAJR,EADaA,YAMLC,UALR,EAD0BA,UAOlBpT,OAAQvC,KAAKwC,KAAKqD,KAAKtD,QAAUvC,KAAKwC,KAAKqD,KAAKtE,MAChDxB,IAAKC,KAAKwC,KAAKqD,KAAK9F,KAExBC,KAAKW,SARO,0BAQOC,K,sCAGPgV,GAEZ5V,KAAKmV,UAAY,GACjBnV,KAAK6V,UAAUD,EAAaE,MAAO,c,oCAGzB1L,GAEVpK,KAAKsL,MAAML,OAASb,I,uCAIpB,OAAOpK,KAAKwC,O,oCAIZ,OAAGxC,KAAKsL,MAAMG,SACiBsK,KAAKC,MAAMhW,KAAKsL,MAAMG,SAAS,IACfwK,eAAe,QAAS,CAC/DC,qBAAsB,EACtBC,aAAa,IAOQ,IALDJ,KAAKC,MAAMhW,KAAKsL,MAAMG,SAAS,IAClBwK,eAAe,QAAS,CACzDC,qBAAsB,EACtBC,aAAa,IAIV,U,uCAIX,OAAGnW,KAAKsL,MAAMF,YACoB2K,KAAKC,MAAMhW,KAAKsL,MAAMF,YAAY,IACnB6K,eAAe,QAAS,CAC7DC,qBAAsB,EACtBC,aAAa,IAOO,IALDJ,KAAKC,MAAMhW,KAAKsL,MAAMF,YAAY,IACtB6K,eAAe,QAAS,CACvDC,qBAAsB,EACtBC,aAAa,IAIV,U,iCAKf,OAAOnW,KAAKsL,MAAMM,S,uCAELpJ,GAEb,OAAOxC,KAAKmV,UAAUiB,SAAS5T,K,sCAI/B,OAAOxC,KAAKmV,Y,wKAEAtU,E,+BAAM,GAAID,E,+BAAO,G,SAENX,MAAMY,EAAK,CAChC4B,OAAQ,OACRvC,KAAM,OACNwC,MAAO,WACPC,YAAa,cACbC,QAAS,CACP,eAAgB,oBAElBC,SAAU,SACVC,eAAgB,cAChBC,KAAMC,KAAKC,UAAUrC,K,cAVjBP,E,yBAYCA,EAASD,Q,wGAUlBiW,G,WAEF,WAAY3V,EAAM4V,GACjB,oBACGtW,KAAK8V,MAAQQ,GAAY,GACzBtW,KAAKuW,aAAe7V,E,8DAENA,EAAM4V,GAEpBtW,KAAKuW,aAAe7V,EACpBV,KAAK8V,MAAQQ,I,8BAET9T,GAEJxC,KAAK8V,MAAMlM,KAAKpH,K,iCAETA,GAEP,IAAMgU,EAAcxW,KAAK8V,MAAMW,QAAO,SAAAC,GAAI,OAAEA,IAASlU,KACrDxC,KAAK8V,MAAQU,I,iCAIb,OAAOxW,KAAK8V,U,KCtNdxS,GAAM,IAAIxD,EA6CD6W,OA3Cf,SAAmBzQ,GAEf,IAAM1D,EAAOwF,qBAAWhB,GAD5B,EAGgCxD,mBAAS,MAHzC,mBAGW8P,EAHX,KAGmBE,EAHnB,OAIgChQ,mBAAS,MAJzC,mBAIWqR,EAJX,KAImB+B,EAJnB,OAKwCpT,mBAAS,MALjD,mBAMUzD,GANV,UAMgBiI,qBAAWlB,IAsBvB,OArBAN,qBAAU,WAEN,GAAGzG,EAAI,CACH,IAAI8W,EAAS,GACbvT,GAAIwT,aAAa/W,GAAK4B,MAAK,SAAAf,GAAI,OAAEA,KAAMe,MAAK,SAAA+B,GACxCA,EAAEqT,SAAQ,SAAAnW,GACN0C,GAAI0T,aAAapW,EAAK6D,GAAI7D,EAAI,SAAae,MAAK,SAAAiC,GAAC,OAAEiT,EAAQjN,KAAKhG,MAAIjC,MAAK,kBAAI6R,EAAUqD,eAIpG,CAAC9W,IAEJyG,qBAAU,WACN,GAAG8M,EAAO,CACN,IAAM2D,EAAW,IAAIZ,GACrBY,EAASC,kBAAkB,QAAS5D,GACpC9Q,EAAK2U,gBAAgBF,GACrBlW,QAAQC,IAAIwB,EAAK4U,iBACjBR,EAAUpU,EAAK4U,oBAEpB,CAAC9D,IAEA,qBAAK7O,GAAK,YAAYC,UAAY,OAAlC,SACI,qBAAKA,UAAY,0BAA0BD,GAAK,kBAAhD,SACI,qBAAKC,UAAY,YAAYD,GAAK,gBAAlC,SACI,cAAC,GAAD,CAAKoQ,OAAUA,EAAQH,WAAc,KAAM/F,KAAOzI,EAAMyI,KAAMrD,MAASpF,EAAMoF,MAAOQ,KAAQ5F,EAAM4F,cCrChHxI,I,OAAM,IAAIxD,GA2BDuX,OA1Bf,SAAgBnR,GAEZ,IAAIU,EAGO,IAAImN,gBAAgBC,cAAcvT,QAJjD,EAEgC+C,mBAAS,MAFzC,mBAEW8P,EAFX,KAEmBE,EAFnB,KAMUpR,EAAQwE,EAAM2K,IAAI,KAClBxR,EAAM6G,EAAM2K,IAAI,OAQtB,OAPA/K,qBAAU,WACHI,GACCtD,GAAI0T,aAAajX,EAAKqC,GAAOT,MAAK,SAAAkT,GAC9BrB,EAAUqB,QAGnB,CAACzS,IAEA,qBAAKqC,GAAK,SAASC,UAAY,OAA/B,SACI,qBAAKA,UAAY,0BAA0BD,GAAK,eAAhD,SACI,qBAAKC,UAAY,YAAYD,GAAK,aAAlC,SACI,cAAC,GAAD,CAAKoQ,OAAUvB,EAAQoB,WAAc,KAAM/F,KAAOzI,EAAMyI,KAAMrD,MAASpF,EAAMoF,MAAOQ,KAAQ5F,EAAM4F,KAAMiJ,IAAM,sBCK5HzJ,GAAQ,IAAI4J,MACZ1S,GAAO,IAAIwS,GAGA,IAAIqB,GAwJNiB,OAhJf,WAAgB,IAAD,EACTC,EACEC,EAPR,WAA0B,IAAD,EACGhU,mBAAS,GADZ,mBACTiU,GADS,WAEvB,OAAO,kBAAMA,GAAS,SAAAhS,GAAK,OAAIA,EAAQ,MAKnBiS,GAFP,EAGiBlU,mBAAS,MAH1B,mBAGNuH,EAHM,aAI2BvH,sBAJ3B,mBAINgH,EAJM,aAKShH,mBAAS,OALlB,mBAKNzD,EALM,KAKD4X,EALC,OAMkBnU,qBANlB,6BAObrC,IAASgC,OAAOC,oBAAmB,SAAAC,GAAI,OAAEsU,EAAOtU,EAAKtD,QACrD,IAAM6X,EAAKzW,IAASmP,WASpB,SAAS3B,EAAKhK,GACTnC,GAAK8I,MAAM3G,MAAQA,EAAIA,IAAI8J,UAC1BjM,GAAKmM,OACL4I,EAAQ5S,EAAIpD,QAEZiB,GAAK8S,SAAS3Q,GACd4S,EAAQ5S,EAAIkB,KAAKtD,QAAQoC,EAAIkB,KAAKtE,OAInC+J,IACCA,GAAMC,iBAAiB,cAAc,WACjC,GAAGgM,EAAM,CACL,IAIQ1I,EACAgJ,EALJzM,EAAcE,GAAMF,YAExB,GAAIA,EAAc,IAAMA,EAAc,KAClCrK,QAAQC,IAAI,KAGZ4W,EAAGvW,IAAI,SAAWsD,EAAIkB,KAAKiD,OAApB,iBAAqDyO,EAAO,UAAUO,KAAK,SAASnW,MAAK,SAACC,GAC7FiN,EAAQjN,EAASwI,MAAMyE,MACvBgJ,EAAahJ,EAAQ,KACtBlN,MAAK,WACJiW,EAAGvW,IAAI,SAAWsD,EAAIkB,KAAKiD,OAApB,iBAAqDyO,EAAO,UAAUQ,OAAO,CAChF,MAASF,IACVlW,MAAK,WACRiW,EAAGvW,IAAI,gBAAkBkW,GAAOQ,OAAO,CAC/B,MAASF,cAUzC,SAAS/L,EAAK3G,GACZqS,IACAhV,GAAKsJ,OA4BL,OACE,mCACE,cAAC,IAAD,UACE,eAAC,IAAD,WAEI,cAAC,IAAD,CAAOqH,KAAK,SAASpG,OAAK,EAACiL,UAAaxG,KACxC,cAAC,IAAD,CAAO2B,KAAO,UAAUpG,OAAK,EAACiL,UAAapG,KACzC,qBAAKlN,UAAY,OAAOD,GAAK,cAA7B,SACE,cAACqC,EAAWmR,SAAZ,CAAqBxS,MAAS1F,EAA9B,SACI,eAACiH,EAAYiR,SAAb,CAAsBxS,MAASjD,GAA/B,UACE,cAAC,IAAD,CAAOuK,OAAK,EAACoG,KAAK,SAAS+E,OAAU,SAAChS,GAAD,OACjC,cAAC,EAAD,eAAWA,OAEb,cAAC,IAAD,CAAOiN,KAAK,UAAU6E,UAAW/E,KACjC,cAAC,IAAD,CAAOlG,OAAK,EAACoG,KAAO,gBAAiB6E,UAAa9U,IAElD,cAAC,IAAD,CAAOiQ,KAAK,UAAU+E,OAAU,SAAChS,GAAD,OAC9B,cAAC,GAAD,2BAAWA,GAAX,IAAkByI,KAAQA,EAAM7C,KAAQA,EAAMR,MAASA,SAGzD,cAAC,KAAD,GAAOyB,OAAK,EAACoG,KAAK,KAAlB,kDAAqC,SAACjN,GAAD,OACnC,cAAC,EAAD,2BAAUA,GAAV,IAAiByI,KAAQA,EAAM7C,KAAQA,EAAMR,MAASA,SADxD,IAIA,cAAC,IAAD,CAAO6H,KAAO,WAAUpG,OAAK,EAACmL,OAAU,SAAChS,GAAD,OACtC,cAAC,GAAD,2BAAYA,GAAZ,IAAmByI,KAAQA,EAAM7C,KAAQA,EAAMR,MAASA,SAGzD,cAAC,IAAD,CAAO6H,KAAO,UAASpG,OAAK,EAACmL,OAAU,SAAChS,GAAD,OACtC,cAAC,GAAD,2BAAYA,GAAZ,IAAmByI,KAAQA,EAAM7C,KAAQA,EAAMR,MAASA,SAGzD,cAAC,IAAD,CAAO6H,KAAO,SAASpG,OAAK,EAACmL,OAAU,SAAChS,GAAD,OACpC,cAAC,GAAD,2BAAeA,GAAf,IAAsByI,KAAQA,EAAM7C,KAAQA,EAAMR,MAASA,SAE7D,cAAC,EAAD,IACF,cAAC,EAAD,IAEA,cAAC,EAAD,CACAP,QAASA,EACTe,KAAMA,EACND,UAlExB,WACE2L,IACAhV,GAAKmM,QAiEiBrD,MAASA,GACTK,cApHtB,SAAuBV,GACrBK,GAAML,OAASA,GAoHKS,UAAalB,EACbwB,KAjExB,WACEwL,IACA,IAAMpC,EAAW5S,GAAK6S,cACnBD,GAED5S,GAAK8S,SAASF,IA6DMrJ,SAzDxB,WACEyL,IACA,IAAMW,EAAe3V,GAAK4V,kBACvBD,GAED3V,GAAK8S,SAAS6C,qBC7GHE,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB5W,MAAK,YAAkD,IAA/C6W,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASX,OACP,cAAC,IAAMY,WAAP,UACE,cAAC,GAAD,MAEFvV,SAASmO,eAAe,SAM1B2G,M","file":"static/js/main.daad1985.chunk.js","sourcesContent":["function dayFunc(day, month, year){\r\n    let month_day = month * 30.4\r\n    let year1 = year * 365\r\n    let total = day + month_day + year1\r\n    return total\r\n}\r\nexport default dayFunc\r\n\r\n\r\n\r\n","import firebase from \"firebase\"\r\n\r\nclass Moosix\r\n{\r\n    constructor(uid){\r\n        this.uid = uid\r\n    }\r\n\r\n    async getPopular()\r\n    {\r\n        const res = await fetch(\"/api/home/popular\", { mode: \"cors\" })\r\n        const response = await res.json()\r\n        return response\r\n    }\r\n\r\n    async getTrending()\r\n    {\r\n        const res = await fetch(\"/api/home/trending\", { mode: \"cors\" })\r\n        const response = await res.json()\r\n        return response\r\n        \r\n    }\r\n\r\n    async getRecommend(userId)\r\n    {\r\n        const res = await fetch(\"/api/home/recomended?uid=\"+userId)\r\n        const response = await res.json()\r\n        return response\r\n    }\r\n\r\n    async getUserSongs(userId)\r\n    {\r\n        const res = await fetch (\"/api/u/musics?uid=\"+userId)\r\n        const response = await res.json()\r\n        return response\r\n    }\r\n\r\n    async getSongsById(userid, song_id)\r\n    {\r\n        const res = await fetch (\"/api/listen?uid=\"+userid+\"&song=\"+song_id)\r\n        const response = await res.json()\r\n        return response\r\n    }\r\n\r\n    async getUserData(userId)\r\n    {\r\n        const res = await fetch(\"/api/u/data?uid=\"+userId)\r\n        const response = await res.json()\r\n        return response\r\n    }\r\n\r\n    \r\n\r\n\r\n    async searchQ(search)\r\n    {\r\n        if(search != \"\" && search != null)\r\n        {\r\n            const res = await fetch(\"/api/home/result?search=\"+search, {mode: 'cors'})\r\n            const response = await res.json()\r\n            return response\r\n        }\r\n    }\r\n\r\n    async getNotifications(uid)\r\n    {\r\n        if(uid){\r\n            const res = await fetch(\"/api/u/notification?uid=\"+uid, {mode: 'cors'})\r\n            const response = await res.json()\r\n            return response\r\n        }\r\n    }\r\n\r\n    checkName(name)\r\n    {\r\n        const url = \"/api/profile/checkname\"\r\n        if(name != null || name != \"\"){\r\n            return this.postData(url, {\"name\": name})\r\n        }\r\n    }\r\n\r\n    update_profile(data)\r\n    {\r\n        if(this.url){\r\n            data.data.pfp.url = this.url\r\n        }\r\n        console.log(data)\r\n        const url = \"/api/profile/update\"\r\n        this.postData(url, {\"update\": data})\r\n    }\r\n\r\n    async upload(data)\r\n    {\r\n        const rawData = data\r\n        const st = firebase.storage()\r\n        const url = \"/api/music/upload\"\r\n        const imageTask = st.ref(\"public/\"+\"songs/\"+data.genre+\"/\"+data.title).child(data.image.name).put(data.image)\r\n        imageTask.then(snapshot=>snapshot.ref.getDownloadURL()).then(url=>{\r\n            console.log(url)\r\n            rawData.imageURL = url\r\n        })\r\n        const songTask = st.ref(\"public/\"+\"songs/\"+data.genre+\"/\"+data.title).child(data.file.name).put(data.file)\r\n        songTask.then(snapshot=>snapshot.ref.getDownloadURL()).then(url=>rawData.audioURL = url).then(()=> this.postData(url, rawData))\r\n       \r\n    }\r\n\r\n    async getUserLikes(uid)\r\n    {\r\n        const res = await fetch(\"/api/home/liked?uid=\"+uid)\r\n        const response = await res.json()\r\n        return response\r\n    }\r\n\r\n    async update_profile_pic(pic)\r\n    {\r\n        const st = firebase.storage()\r\n        await st.ref(\"/users/profile/pfp\").child(pic.name).put(pic)\r\n                .then((snapshot)=>snapshot.ref.getDownloadURL())\r\n                .then(url=>this.url = url)\r\n                .then(()=>console.log(\"completed\"))\r\n    }\r\n\r\n    \r\n    \r\n    sendLike(liker_uid, u_uid, song_id, music)\r\n    {\r\n        const url = \"/api/music/like/send\"\r\n        const data = \r\n        {\r\n            likedBy: liker_uid,\r\n            likedOf: u_uid,\r\n            songID: song_id,\r\n            song: music\r\n        }\r\n        this.postData(url, data)\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    async  postData(url = '', data = {}) {\r\n        // Default options are marked with *\r\n        const response = await fetch(url, {\r\n          method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n          mode: 'cors', // no-cors, *cors, same-origin\r\n          cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n          credentials: 'same-origin', // include, *same-origin, omit\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          redirect: 'follow', // manual, *follow, error\r\n          referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n          body: JSON.stringify(data) // body data type must match \"Content-Type\" header\r\n        });\r\n        return response.json(); // parses JSON response into native JavaScript objects\r\n    }\r\n}\r\nexport default Moosix","import React, { useEffect, useState } from \"react\";\r\nimport firebase from \"firebase\";\r\nimport dayFunc from \"./functions/dayFunc.js\";\r\nimport { Route, BrowserRouter as Router, Switch, useHistory, Redirect } from 'react-router-dom';\r\nimport \"../styles/editProf.css\"\r\nimport Moosix from \"./functions/mossix-api\"\r\n\r\n\r\n\r\nfunction EditProfile(){\r\n    let userId;\r\n    firebase.auth().onAuthStateChanged((user)=>{\r\n       userId = user.uid\r\n    })\r\n\r\n    const app = new Moosix(userId)\r\n    document.title = \"Edit Profile\"\r\n    const [file, setFile] = useState()\r\n\r\n    const [x, setX] = useState(50)\r\n    const [y, setY] = useState(50)\r\n    const [zoom, setZoom] = useState(0)\r\n    const [name, setName] = useState(null)\r\n    const [firstName, setFirstName] = useState(null)\r\n    const [lastName, setLastName] = useState(null)\r\n    const [bio, setBio] = useState(null)\r\n    const [imgSrc, setImgSrc] = useState(null)\r\n\r\n\r\n    function image_handler(image){\r\n        setFile(image[0])\r\n        setImgSrc(URL.createObjectURL(image[0]))\r\n    }\r\n    // useEffect(()=>{\r\n    //     app.checkName(name)\r\n    // }, [name])\r\n\r\n    function save(){\r\n        const data = \r\n        {   \r\n            data:{\r\n                info:\r\n                {\r\n                    name: name,\r\n                    firstName: firstName,\r\n                    lastName: lastName,\r\n                    bio: bio,\r\n                },\r\n              \r\n                pfp: {\r\n                    url: \"\",\r\n                    x: x,\r\n                    y: y,\r\n                    zoom: zoom\r\n                }\r\n            },\r\n            temp: {\r\n                userId: userId\r\n            } \r\n        }\r\n       \r\n        if(file)\r\n        {\r\n            app.update_profile_pic(file).then(()=>{\r\n                app.update_profile(data)\r\n            })\r\n            \r\n        }else{\r\n            app.update_profile(data)\r\n        }\r\n        \r\n        \r\n    }\r\n    function cancel(){\r\n\r\n    }\r\n    return(\r\n        <div id = \"edit-profile\" className = \"main\">\r\n            <div className = \"edit-profile-container\">\r\n                <div className = \"edit-profile-box\">\r\n                    <div className = \"edit-head-wrapper\">\r\n                        <div className = \"edit-head\">\r\n                            <span>Edit Your Profile</span>\r\n                        </div>\r\n                        <div className = \"line\" id = \"edit-line\" />\r\n                    </div>\r\n                    <div className = \"profile-form-container\">\r\n                        <div className = \"pfp-preview\">\r\n                            <div className = \"pfp-preview-box\">\r\n                                <div className = \"crop-container\">\r\n                                    <div className = \"crop\">\r\n                                    </div>\r\n                                    <img \r\n                                    src = {imgSrc} \r\n                                    alt = \"image-preview\" \r\n                                    id = \"preview\"\r\n                                    style = \r\n                                    {\r\n                                        {\r\n                                            transform: `translate(${x-50}px, ${y-50}px) scale(${(parseInt(zoom)/100) + 1 })`,\r\n                                           \r\n                                        }\r\n                                    }\r\n                                    />\r\n                                </div>\r\n                               \r\n                                <div className = \"upload-pfp\">\r\n                                        <input type = \"file\" id =\"upload-pfp-btn\" hidden  onChange = {(event)=>image_handler(event.target.files)}></input>\r\n                                        <label htmlFor=\"upload-pfp-btn\"><span>Upload file</span></label>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className = \"sliders\">\r\n                                    <div className = \"slider-box\">\r\n                                        <div className = \"slider-x\">\r\n                                            <input type = \"range\" value = {x} onChange = {(event)=>setX(event.target.value)}/>\r\n                                        </div>\r\n                                        <div className = \"slider-y\">\r\n                                            <input type = \"range\" value = {y} onChange = {(event)=>setY(event.target.value)}/>\r\n                                        </div>\r\n                                        <div className = \"slider-zoom\">\r\n                                            <input type = \"range\" value = {zoom} onChange = {(event)=>setZoom(event.target.value)}/>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                        </div>\r\n\r\n                        <div className = \"profile-form\">\r\n                            <div className = \"display-name\">\r\n                                <div className = \"form-label\">\r\n                                    <span>Display Name</span>\r\n                                </div>\r\n                                <div className = \"display-name-input\">\r\n                                    <input \r\n                                    className = \"-input-form\" \r\n                                    type = \"text\" \r\n                                    placeholder = \"Name...\" \r\n                                    onKeyUp = {(event)=>setName(event.target.value)} \r\n                                    />\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div className = \"first Name\">\r\n                                <div className = \"form-label\">\r\n                                    <span>First Name</span>\r\n                                </div>\r\n                                <div className = \"first-name-input\">\r\n                                    <input \r\n                                    className = \"-input-form\" \r\n                                    type = \"text\"  \r\n                                    placeholder = \"First Name...\" \r\n                                    onKeyUp = {(event)=>setFirstName(event.target.value)} />\r\n                                </div>\r\n                            </div>\r\n                            <div className = \"last Name\">\r\n                                <div className = \"form-label\">\r\n                                    <span>Last Name</span>\r\n                                </div>\r\n                                <div className = \"last-name-input\">\r\n                                    <input \r\n                                    className = \"-input-form\" \r\n                                    type = \"text\"  \r\n                                    placeholder = \"Last Name...\" \r\n                                    onKeyUp = {(event)=>setLastName(event.target.value)} />\r\n                                </div>\r\n                            </div>\r\n                            <div className = \"bio\">\r\n                                <div className = \"form-label\">\r\n                                    <span>Bio</span>\r\n                                </div>\r\n                                <div className = \"bio-input\">\r\n                                    <textarea \r\n                                    className = \"-input-form\" \r\n                                    type = \"text\"  \r\n                                    placeholder = \"describe yourself...\" \r\n                                    onKeyUp = {(event)=>setBio(event.target.value)} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className = \"save-cancel\">\r\n                            <div className = \"cancel\">\r\n                                <button onClick = {cancel}>Cancel</button>\r\n                            </div>\r\n                            <div className = \"save\">\r\n                                <button onClick = {save}>Save</button>\r\n                            </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProfile","import React from \"react\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useState } from \"react\"\r\nimport \"../../styles/dropdown.css\"\r\nfunction DropDown(props){\r\n    const [theme, setTheme] = useState()\r\n    // const fb = firebase\r\n    // const db = fb.database()\r\n    return(\r\n        <>\r\n            <div className = \"dropdown-wrapper\">\r\n                <div className = \"dropdown\">\r\n                    <div className = \"dropdown-box\">\r\n                        <div className = \"dropdown-lists\">\r\n                            <ul>\r\n                                <NavLink to = {\"/u/\"+props.uid+\"/music\"}>\r\n                                    <li>Profile</li>\r\n                                </NavLink>\r\n                                <li>#</li>\r\n                                <li>#</li>\r\n                                <li>#</li>\r\n                                <li onClick = {()=>setTheme(\"dark\")}>Dark Mode</li>\r\n                                <li>Sign Out</li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DropDown","import io from \"socket.io-client\"\r\nimport React, {useEffect, useState} from\"react\"\r\n\r\nfunction Notification(id){\r\n    const [socket, setSocket] = useState()\r\n    useEffect(()=>{\r\n        if(id){\r\n            const newSocket = io(\"http://localhost:3000/\", { \r\n                transport : ['websocket'], \r\n                query: {\r\n                    \"id\": id\r\n                }\r\n            });\r\n            setSocket(newSocket)\r\n            return()=>newSocket.close()\r\n        }\r\n    }, [id])\r\n    return socket\r\n}\r\nexport default Notification","import {createContext} from \"react\"\r\nexport const uidContext = createContext(null)\r\n\r\n","import {createContext} from \"react\"\r\nexport const songContext = createContext(null)\r\nexport const playlistContext = createContext(null)","import React, {useState, useEffect, useContext} from \"react\"\r\nimport Moosix from \"../functions/mossix-api.js\"\r\nimport {uidContext} from \"../../context/uid.js\"\r\n\r\nconst app = new Moosix()\r\nfunction NotficationContents(props)\r\n{\r\n    // const [notification, setNotification]\r\n    const notfication = props.notification\r\n    const [didWhat, setDidWhat] = useState()\r\n    const [x, setX] = useState()\r\n    const [y, setY] = useState()\r\n    const [zoom, setZoom] = useState()\r\n    const [user_data, setUser_data] = useState()\r\n    const [userName, setUserName] = useState()\r\n    const [activity, setActivity] = useState()\r\n    const [pfp, setPfp] = useState(null)\r\n    useEffect(()=>{\r\n        if(notfication){\r\n            app.getUserData(notfication.likedBy).then(data=>{\r\n                setUser_data(data)\r\n            })\r\n\r\n            console.log(notfication.type)\r\n            if(notfication.type == \"like\"){\r\n                setDidWhat(\"liked your\")\r\n                setActivity(\"song \" + notfication.title)\r\n            }\r\n            else if(notfication.type == \"comment\"){\r\n                setDidWhat(\"commented\")\r\n            }\r\n            else if(notfication.type == \"followed\"){\r\n                setDidWhat(\"followed you\")\r\n            }\r\n\r\n        } \r\n    },[notfication])\r\n  \r\n   \r\n\r\n    useEffect(()=>{\r\n        if(user_data){\r\n            setUserName(user_data.public.profile.info.name)\r\n            setPfp(user_data.public.profile.pfp.url)\r\n            setX(user_data.public.profile.pfp.x)\r\n            setY(user_data.public.profile.pfp.y)\r\n            setZoom(user_data.public.profile.pfp.zoom)\r\n            console.log(user_data)\r\n        }\r\n    }, [user_data])\r\n    \r\n  \r\n    \r\n    return(\r\n        <div className = \"notification-items\">\r\n            <div className = \"notification-profile\">\r\n                 <div className=\"pfp\" id = \"notfication-pfp\">\r\n                        <div className = \"pfp-container\" id = \"notfication-pfp-container\">\r\n                            <pfp className = \"pfp-box\" id = \"notfication-pfp-box\">\r\n                                <img id= \"notfication-pfp-img\" \r\n                                src={pfp}  \r\n                                style = \r\n                                {\r\n                                    {\r\n                                        transform: `translate(${x-50}px, ${y-50}px) scale(${(parseInt(zoom)/100) + 1 })`,\r\n                                        \r\n                                    }\r\n                                }\r\n                                />\r\n                            </pfp>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n            <div className = \"notification-info\">\r\n                <div className = \"notification-userName\">\r\n                    {userName}\r\n                </div>\r\n\r\n                <div className = \"notfication-type\">\r\n                    <span>{didWhat}</span>\r\n                </div>\r\n\r\n                <div className = \"notification-activity\">\r\n                    <span>{activity}</span>\r\n                </div>               \r\n                \r\n            </div>\r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotficationContents","import React, { useState, useEffect, useContext } from \"react\"\r\nimport Moosix from \"../functions/mossix-api.js\"\r\nimport { uidContext } from \"../../context/uid.js\"\r\nimport NotficationContents from \"./notification-contents\"\r\nimport \"../../styles/notification.css\"\r\nconst app = new Moosix()\r\nfunction Notification(props) {\r\n\r\n    const uid = useContext(uidContext)\r\n    const [notification, setNotification] = useState(null)\r\n    useEffect(() => {\r\n        app.getNotifications(uid).then(notification => setNotification(notification))\r\n    }, [uid])\r\n\r\n\r\n    return (\r\n        <div id=\"notification\">\r\n            <div className=\"notification-container\">\r\n                <div className=\"notification-box\">\r\n                    <div className=\"notfication-header\">\r\n                        <span>Notifications</span>\r\n                    </div>\r\n                    <div className=\"notification-contents\">\r\n                        {notification && notification.slice(0).reverse().map((data, index) => <NotficationContents key={index} notification={data} />\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Notification","import React from \"react\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useState, useEffect, useContext } from \"react\"\r\nimport firebase from \"firebase\";\r\nimport DropDown from \"./sub-com/dropdownProfile\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport Moosix from \"./functions/mossix-api\"\r\nimport io from \"./functions/notification.js\"\r\nimport {uidContext} from \"../context/uid\"\r\nimport {songContext} from \"../context/songContext\"\r\nimport Notification from \"./notification/notification\"\r\nconst app = new Moosix()\r\nfunction Header(props){\r\n\r\n\r\n    const [isHidden3, setIsHidden3] = useState(true)\r\n        const [isHidden2, setIsHidden2] = useState(true)\r\n        const [searchTerm, setSearchTerm] = useState(null)\r\n        const [pfp, setPfp] = useState(null)\r\n        const [userID, setUserID] = useState(null);\r\n        const history = useHistory();\r\n        const [newNotification, setNewNotification] = useState(false)\r\n        const [isHidden, setIsHidden] = useState(true)\r\n        const [list, setList] = useState()\r\n        const uid = useContext(uidContext)\r\n        const song = useContext(songContext)\r\n        const socket =  io(uid)\r\n        \r\n     \r\n        useEffect(()=>{\r\n            if(socket){\r\n                socket.on(\"notification\", data=>{\r\n                    if(data){\r\n                        setNewNotification(data.newNotification)\r\n                    }\r\n                })\r\n            }\r\n        }, [uid, socket])\r\n\r\n        firebase.auth().onAuthStateChanged((user)=>{\r\n            if(user){\r\n               setUserID(user.uid)\r\n            }else{\r\n                history.push(\"/login\")\r\n            } \r\n        })\r\n        window.onclick = (event) =>{\r\n            if(event.target.id  !== \"searchBar\" ){\r\n                setIsHidden(true)\r\n            }\r\n            if(event.target.id == \"profile-drop\" && isHidden2){\r\n                setIsHidden2(false)//false means drop down is active\r\n            } \r\n            else if(event.target.id !== \"profile-drop\"){\r\n                setIsHidden2(true)//drop down is not active\r\n            } \r\n            else if(event.target.id == \"profile-drop\" && isHidden2 == false){\r\n                setIsHidden2(true)\r\n            }\r\n           \r\n            if(event.target.id == \"notification-button\" && isHidden3){\r\n                setNewNotification(false)\r\n                setIsHidden3(false)\r\n            }\r\n            else if(event.target.id == \"notification-button\" &&  isHidden3 == false){\r\n                setIsHidden3(true)\r\n            }\r\n            else if(event.target.className == \"notification-box\"){\r\n               setIsHidden(false)\r\n            }\r\n            else{\r\n                setIsHidden3(true)\r\n            }\r\n            \r\n        }\r\n               \r\n            \r\n\r\n  \r\n        \r\n        useEffect(()=>{\r\n            if(searchTerm != \"\"){\r\n                setIsHidden(false)\r\n                app.searchQ(searchTerm).then((list)=> setList(list))\r\n            }else{\r\n                setIsHidden(true)\r\n            }\r\n        }, [searchTerm])\r\n            \r\n        function autoSearch(event){\r\n            Search(event.target.getAttribute('data-name'))\r\n        }\r\n        function Search(s){\r\n            setIsHidden(true)\r\n            if(s != \"\"){\r\n                history.push(\"/results?search=\"+s)\r\n            }\r\n        }\r\n       \r\n\r\n        return(\r\n            <header>\r\n                <div id = \"hd-container\">\r\n                    <div id = \"logo-contain\">\r\n                        <NavLink to = \"/\"><h1></h1></NavLink>\r\n                    </div>\r\n                    <div id =\"search\">\r\n                        <div className = \"bar\">\r\n                            <input \r\n                                id = \"searchBar\" \r\n                                placeholder = \"search\" \r\n                                autoComplete = \"off\"\r\n                                onKeyUp = {event=>event.key == \"Enter\"?Search(searchTerm):null }\r\n                                onChange = {event=>{\r\n                                    setSearchTerm(event.target.value.toLocaleLowerCase())    \r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className = \"searchBtn\">\r\n                            <span id = \"srhBtn\" className = \"material-icons\" onClick = {()=>Search(searchTerm)}>search</span>    \r\n                        </div>\r\n                        {isHidden?null:\r\n                        <div className = \"searchList-wrapper\">\r\n                            <div className = \"searchList-holder\">\r\n                                <ul>\r\n                                    {\r\n                                        list && list.map((val, key)=>{  \r\n                                        return(\r\n                                            <li className = \"lists\" key = {key} >\r\n                                                <div className = \"search-list\" >\r\n                                                    <span onClick = {autoSearch} data-name = {val.info.title} id = \"autolist\"> {val.info.title}</span>\r\n                                                </div>  \r\n                                            </li>\r\n                                        )\r\n                                    })}\r\n                                </ul>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        }                   \r\n                    </div>\r\n\r\n                   \r\n                    <>\r\n                        <div id = \"buttons\">\r\n                            <div className = \"profile\">\r\n                                    <img src = {pfp} height = \"25\" width = \"25\" alt = \"\" id = \"profile-drop\"/>\r\n                            </div>\r\n                            <div className = \"notification-button\" >\r\n                                {newNotification? <span id = \"notification-button\" className=\"material-icons\">notifications_active</span>: <span id = \"notification-button\" className=\"material-icons\">notifications</span>}  \r\n                            </div>\r\n                        </div>\r\n                        {isHidden3?null:  <Notification />}\r\n                      \r\n                        \r\n                       {isHidden2? null:  <DropDown uid = {userID}/>}\r\n                    </>\r\n                    \r\n                \r\n                </div>\r\n            </header>\r\n        )\r\n}\r\nexport default Header;\r\n\r\n// /<NavLink to = {\"/users/\"+userID}>","import React, { useEffect } from \"react\"\r\nimport {songContext} from \"../../context/songContext\"\r\nimport { useState, useContext } from \"react\"\r\nfunction AudioPreview()\r\n{\r\n    const song = useContext(songContext)\r\n    const [track, setTrack] = useState()\r\n    useEffect(()=>{\r\n        setTrack(song.getCurrentSong())\r\n    }, [song.getCurrentSong()])\r\n  \r\n    return(\r\n        <div id = \"audio-preview\">\r\n            <div className = \"audio-preview-container\">\r\n                <div className = \"audio-preview-box\">\r\n                    <div className = \"audio-preview-contents\">\r\n                        <div className = \"audio-preview-image\">\r\n                            <div className = \"image\" \r\n                            style=\r\n                            {\r\n                                {\r\n                                    backgroundImage: `url(\"${track?track.src.imageURL:null}\")`\r\n                                }\r\n                            }/>\r\n                        </div>\r\n                   \r\n                       \r\n                      \r\n                        <div className = \"audio-preview-context\">\r\n                            <div className = \"audio-preview-title\">\r\n                                <span>{track?track.info.title:\"unknown\"}</span>\r\n                            </div>\r\n                            <div className = \"audio-preview-artist\">\r\n                                <span>{track?track.info.artist:\"unknown\"}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AudioPreview","import React from \"react\"\r\nimport { useState, useEffect, useContext } from \"react\"\r\nimport AudioPreview from \"./audioComp/audioPreview\"\r\nimport {songContext} from \"../context/songContext\"\r\n\r\nfunction AudioPlayer(props){\r\n    const song = useContext(songContext)\r\n    const [progVal, setProgVal] = useState(0)\r\n    const [volume, setVolume]  = useState(1)\r\n    const [currentTime, setCurrentTime] = useState(song.getCurrentTime())\r\n    \r\n    // useEffect(() => {\r\n    // //    setProgVal(props.progVal)\r\n    //   },[props.progVal])\r\n    useEffect(()=>{\r\n        song.audio.addEventListener(\"timeupdate\", (e)=>{\r\n            const duration = (song.audio.currentTime/song.audio.duration)*100\r\n            setCurrentTime(song.getCurrentTime())\r\n            setProgVal(duration)\r\n        })\r\n    }, [props.AudioInfo])\r\n    \r\n\r\n    function stop(e){\r\n        props.stop()\r\n    }\r\n\r\n    function play(){\r\n        props.playAudio()\r\n    }\r\n\r\n    function seek(e)\r\n    {\r\n        e.preventDefault()\r\n        const target = e.target || e.srcElement,\r\n        rect = target.getBoundingClientRect(),\r\n        offsetX = e.clientX - rect.left\r\n        const percent =offsetX / document.documentElement.offsetWidth;\r\n        console.log(percent)\r\n        song.audio.currentTime = percent * song.audio.duration * 1.9;\r\n    }\r\n\r\n    function done(e){\r\n        e.preventDefault()\r\n        const target = e.target || e.srcElement,\r\n        rect = target.getBoundingClientRect(),\r\n        offsetX = e.clientX - rect.left\r\n        const percent =offsetX / document.documentElement.offsetWidth;\r\n        console.log(percent)\r\n        song.audio.currentTime = percent * song.audio.duration * 1.9;\r\n    }\r\n\r\n\r\n   \r\n\r\n    useEffect(()=>{\r\n        song.volumeHandler(volume)\r\n    }, [volume])\r\n    \r\n    \r\n\r\n    \r\n    return(\r\n            <div className = \"audio-wrapper\">\r\n                <div className = \"audio-container\">\r\n                    <div className = \"audio-box\">\r\n                        <AudioPreview audio = {props.AudioInfo}/>\r\n                        <div className = \"audio_elements-container\">\r\n                            <div className = \"play_btn-container\">\r\n                                <div className = \"play-container\">\r\n                                    {\r\n                                        song.audio.paused? \r\n                                        <span onClick = {play} id = \"play_btn\" className = \"material-icons\">play_arrow</span>\r\n                                        :\r\n                                        <span onClick = {stop} id = \"play_btn\" className = \"material-icons\">pause</span>\r\n                                    }\r\n                                </div>\r\n                              \r\n                                <span className=\"material-icons\" id = \"fast_rewind\"  onClick = {()=>props.previous()}>\r\n                                    skip_previous\r\n                                </span>\r\n                                <span className=\"material-icons\" id = \"fast_forward\" onClick = {()=>props.next()}>\r\n                                    skip_next\r\n                                </span>\r\n                                \r\n                            </div>\r\n                            <div className = \"progress_div\">\r\n                                <div class = \"progress_holder\" id= \"prog_holder\"onMouseDown = {seek} onMouseUp ={done} >\r\n                                    <div id = \"progress_meter\" style = {{width: progVal + \"%\"}} ></div>\r\n                                </div>  \r\n                            </div>\r\n                            <div className = \"current\">\r\n                                <span>{currentTime}</span>\r\n                            </div>\r\n                            <div className = \"duration\">\r\n                                <span>{song.getDuration()}</span>\r\n                            </div>\r\n                            <div className = \"volume\">\r\n                                <div className = \"volume-i\">\r\n                                    <span class=\"material-icons\">\r\n                                        volume_up\r\n                                    </span>\r\n                                </div>\r\n                                <div className = \"volume_slider\">\r\n                                    <input type = \"range\" onChange = {(event)=>setVolume(event.target.value/100)} value = {volume*100}/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default AudioPlayer","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nfunction NavDiv1()\r\n{\r\n    return(\r\n            <div className = \"nav-div1\">\r\n                <span className = \"nav-heading\">Navigation</span>\r\n                <ul>\r\n                    <NavLink to=\"/\" exact activeClassName=\"btn-active\">\r\n                        <li className=\"btn\">\r\n                            <span class=\"material-icons\">\r\n                                home\r\n                            </span>\r\n                            <p>Home</p>\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/explore\">\r\n                        <li className=\"btn\" >\r\n                            <span class=\"material-icons\">\r\n                                explore\r\n                            </span>\r\n                            <p>explore</p>\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/upload\" exact activeClassName=\"btn-active\">\r\n                        <li className=\"btn\" >\r\n                            <span class=\"material-icons md-dark md-inactive\">\r\n                                upload\r\n                            </span>\r\n                            <p>upload</p>\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/account/edit\" exact activeClassName=\"btn-active\">\r\n                        <li className=\"btn\" id=\"ab\">\r\n                            <span class=\"material-icons\">\r\n                                perm_identity\r\n                            </span>\r\n                            <p>edit</p>\r\n                        </li>\r\n                    </NavLink>\r\n                   \r\n                </ul>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default NavDiv1","import React, {useContext} from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {uidContext} from \"../../context/uid\"\r\n\r\nfunction NavDiv2()\r\n{\r\n    const uid = useContext(uidContext)\r\n    return(\r\n            <div className = \"nav-div2\">\r\n                <span className = \"nav-heading\">Library</span>\r\n                <ul>\r\n                    <NavLink to=\"/history\" exact activeClassName=\"btn-active\">\r\n                        <li className=\"btn\">\r\n                            <span class=\"material-icons\">\r\n                                history\r\n                            </span>\r\n                            <p>history</p>\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/liked\" exact activeClassName=\"btn-active\">\r\n                        <li className=\"btn\" >\r\n                            <span class=\"material-icons\">\r\n                                favorite\r\n                            </span>\r\n                            <p>Liked</p>\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to={\"/u/\"+uid+\"/music\"} exact activeClassName=\"btn-active\">\r\n                        <li className=\"btn\" >\r\n                            <span class=\"material-icons md-dark md-inactive\">\r\n                                album\r\n                            </span>\r\n                            <p>Your Music</p>\r\n                        </li>\r\n                    </NavLink>\r\n                </ul>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default NavDiv2","import React from \"react\";\r\nimport firebase from \"firebase\"\r\nimport NavDiv1 from \"./nav-comp/navDiv1\"\r\nimport NavDiv2 from \"./nav-comp/navDiv2\"\r\nimport { useHistory } from 'react-router-dom';\r\nfunction Nav() {\r\n    let user1;\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n        user1 = user\r\n    })\r\n    return (\r\n        <div id=\"nav\">\r\n            <nav>\r\n                <div className = \"nav-heading\">\r\n                    <h2>Moosax</h2>\r\n                </div>\r\n                    <div className = \"main-nav\">\r\n                        <NavDiv1 />\r\n                        <NavDiv2 />\r\n                    <div className = \"line\" id = \"nav-line\"/>\r\n                </div>\r\n                <div className=\"signout\" onClick={()=>firebase.auth().signOut()}>\r\n                        <span className=\"material-icons\">\r\n                            login\r\n                        </span>\r\n                        <p>signout</p>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\nexport default Nav","import React from \"react\";\r\nfunction about(props){\r\n    console.log(props)\r\n    return(\r\n        <>\r\n    \r\n        <div id = \"about\" className = \"main\">\r\n            <div className = \"headingCont\">\r\n                <h1>This is About</h1>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default about;","import React, { useEffect } from \"react\";\r\nimport Moosix from \"../functions/mossix-api.js\"\r\nimport firebase from \"firebase\"\r\nimport { useState } from \"react\"\r\n\r\nconst app = new Moosix()\r\nfunction Like(props){\r\n    let cUID;\r\n    const uID = props.uID //sets userId\r\n    let music = props.music\r\n    if(firebase.auth().currentUser){\r\n        cUID=firebase.auth().currentUser.uid\r\n    }\r\n    var title = props.name //sets tractk title\r\n    let userName = props.userName //sets userName\r\n    const [likeNumber, setLikeNumber] = useState(music.stats.likes)\r\n    const [like, setLike] = useState()\r\n    const hasLiked = music.widgetInfo && music.widgetInfo.likes[cUID] != undefined\r\n        useEffect(()=>{\r\n           \r\n            //goes to firebase and check if the value is true or undefined\r\n            if(hasLiked){\r\n                setLike(true)\r\n            }else{\r\n                setLike(false)\r\n            }\r\n        }, [userName])\r\n        \r\n        function sendLike(){\r\n            app.sendLike(cUID, uID, music.info.songID, music)\r\n          \r\n            if(like){\r\n                setLikeNumber(likeNumber - 1)\r\n                setLike(false)\r\n            }else{\r\n                setLike(true)\r\n                setLikeNumber(likeNumber+ 1)\r\n            }\r\n        }\r\n    return(\r\n        <div class = \"like\">\r\n            <i class=\"material-icons\" onClick = {sendLike} >{like ? <p>favorite</p> : <p>favorite_border</p> }</i>\r\n           <span>{likeNumber}</span>\r\n           \r\n        </div>\r\n    )\r\n}\r\nexport default Like","export default __webpack_public_path__ + \"static/media/Hover1.01e40da2.mp3\";","import React, { useEffect, useRef } from \"react\";\r\n\r\nimport {songContext} from \"../../context/songContext\"\r\nimport { useState, useContext } from \"react\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Like from \"./like\"\r\nimport Hover1 from \"./Hover1.mp3\"\r\nfunction MusicPreview(props){\r\n    const sfxRef = useRef();\r\n    const [btn_hidden, setBtn_hidden] = useState(true)\r\n    const song = useContext(songContext)\r\n    let name = props.name;\r\n    let currentUserName = props.userName\r\n    useEffect(()=>{\r\n        if(song.audio.src != name.src.aduioURL || song.audio.paused){\r\n            setBtn_hidden(true)\r\n        }\r\n        if(song.audio.src == name.src.aduioURL && !song.audio.paused){\r\n            setBtn_hidden(false)\r\n        }\r\n    }, [song.audio.src, name.src.aduioURL, song.audio.paused])\r\n\r\n    function play(event){\r\n        setBtn_hidden(false)\r\n        props.play(name)\r\n    }\r\n    function stop(event){\r\n        setBtn_hidden(true)\r\n        props.stop(event)\r\n    }\r\n    \r\n    return(\r\n         <div className = \"music-preview-box\" >\r\n            <audio id = \"sfx\" src = {Hover1} ref = {sfxRef} type=\"audio/mpeg\"/>\r\n            <NavLink to = {`/listen?m=${name.info.songID||name.info.title}&uid=${name.info.userID}`}>\r\n                <div className = \"user-musics-content\" style ={ { backgroundImage: `url(\"${name.src.imageURL}\")` } } />\r\n            </NavLink>\r\n           <div  className = \"-button\">\r\n                    {btn_hidden?\r\n                    <i className=\"material-icons\"onClick = {play} value = {name.info.title} id = \"play_hover\">\r\n                        play_arrow\r\n                    </i>:\r\n                    <i onClick = {stop} className = \"material-icons\">pause</i>\r\n                    }\r\n            </div>  \r\n            <div id = \"user-song-info\">\r\n            <div class = \"user-song-title\">\r\n                    <span>{name.info.artist} - {name.info.title}</span>\r\n            </div> \r\n                <div class = \"user-song-user\">\r\n                    <div class = \"mini-pfp\">\r\n                        <img src = {props.pfp} width = \"30\" height = \"30\" />\r\n                    </div>\r\n                    <NavLink to ={\"/u/\"+name.info.userID+\"/music\"}><span>{name.info.uploader}</span></NavLink>\r\n                </div>\r\n\r\n                <div className = \"stats\">\r\n                    <div class = \"views\">\r\n                        <i class=\"material-icons\">\r\n                            play_arrow\r\n                        </i>\r\n                        <span>{name.stats.views}</span>\r\n                    </div>\r\n                    <Like name = {name.info.title} uID = {name.info.userID} userName = {currentUserName} music = {name}/>\r\n                </div>\r\n                \r\n            </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default MusicPreview\r\n","import React, { Fragment, useEffect,  useState}  from 'react';\r\nimport Moosix from '../functions/mossix-api'\r\nimport MusicPreview from \"../widgets/musicPreview\";\r\nlet sliderVal1 = 0;\r\n\r\n\r\n\r\nfunction Popular(props){\r\n    const app = new Moosix()\r\n    const [popular, setPopular] = useState([]);\r\n    const [slider1, setSlider1] = useState(sliderVal1)\r\n \r\n    useEffect(()=>{\r\n        app.getPopular().then(data=>setPopular(data))\r\n    }, [])\r\n\r\n    function play(src){\r\n        props.play(src)\r\n    }\r\n\r\n    function stop(){\r\n        props.stop()\r\n    }\r\n\r\n    return(\r\n        <div id=\"popular-container\" className=\"home-music-container \">\r\n            <div className=\"musics-texts\">\r\n                <div className=\"musics-title\">\r\n                    <h4>Popular musics</h4>\r\n                </div>\r\n                <div className=\"musics-subtext\">\r\n                    <span>Most popular musics for you</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className = \"line\" />\r\n\r\n            <div className=\"preview-box-container\"  style = {{ transform: `translate(${slider1}px, ${85}px)` }}>\r\n                {popular &&\r\n                popular.map((name, i) => {\r\n                    return (\r\n                    <Fragment key={i}>\r\n                        <MusicPreview\r\n                        name={name}\r\n                        play={play}\r\n                        userName={props.userName}\r\n                        stop = {stop}\r\n                        audio = {props.audio}\r\n                        />\r\n                    </Fragment>\r\n                    );\r\n                })}\r\n            </div>\r\n\r\n            <div className = \"content-slider\">\r\n                <div  id = \"next\" className = \"slider\" onClick = {()=>{\r\n                    sliderVal1 -= 225;\r\n                    setSlider1(sliderVal1) \r\n                    }}>\r\n                    <span className=\"material-icons\">\r\n                        keyboard_arrow_right\r\n                    </span>\r\n                </div>\r\n                <div id = \"previous\" className = \"slider\" onClick = {()=>{\r\n                    sliderVal1= sliderVal1 + 225;\r\n                    setSlider1(sliderVal1) \r\n                }}>\r\n                    <span className=\"material-icons\">\r\n                        keyboard_arrow_left\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n)\r\n\r\n}\r\nexport default Popular","import React, { Fragment, useEffect, useState}  from 'react';\r\nimport MusicPreview from \"../widgets/musicPreview\";\r\nimport Moosix from '../functions/mossix-api'\r\nimport {uidContext} from \"../../context/uid\"\r\nimport {useContext} from \"react\"\r\nlet sliderVal2 = 0;\r\n\r\n\r\n\r\nfunction Recomend(props){\r\n    const uid = useContext(uidContext)\r\n    const app = new Moosix()\r\n    const [recomend, setRecomend] = useState()\r\n    const [slider2, setSlider2] = useState(sliderVal2)\r\n\r\n    useEffect(() => {\r\n        app.getRecommend(uid).then((data)=>setRecomend(data))\r\n    }, [uid]);\r\n\r\n\r\n    document.onscroll = function() {\r\n        if(document.documentElement.scrollTop + window.innerHeight == document.documentElement.scrollHeight)\r\n        {\r\n            console.log(\"scrolled\");\r\n        }\r\n    }\r\n\r\n    function play(src){\r\n        props.play(src)\r\n    }\r\n    function stop(){\r\n        props.stop()\r\n    }\r\n\r\n    return(\r\n        <div id=\"recomend-container\" className=\"home-music-container \">\r\n        <div className=\"musics-texts\">\r\n            <div className=\"musics-title\">\r\n                <h4>Recommended musics</h4>\r\n            </div>\r\n            <div className=\"musics-subtext\">\r\n                <span>Most recomended musics for you</span>\r\n            </div>\r\n        </div>\r\n        <div className = \"line\" />\r\n        <div className=\"preview-box-container\" id = \"recomend-box-container\" style = {{ transform: `translate(${slider2}px, ${85}px)` }}>\r\n            {recomend &&\r\n            recomend.map((name, i) => {\r\n                return (\r\n                <Fragment key={i}>\r\n                    <MusicPreview\r\n                    name={name}\r\n                    play={play}\r\n                    userName={props.userName}\r\n                    stop = {stop}\r\n                    audio = {props.audio}\r\n                    />\r\n                </Fragment>\r\n                );\r\n            })}\r\n        </div>\r\n        <div className = \"content-slider\">\r\n                <div  id = \"next\" className = \"slider\" onClick = {()=>{\r\n                  sliderVal2 -= 225;\r\n                  setSlider2(sliderVal2) \r\n                  }}>\r\n                    <span class=\"material-icons\">\r\n                        keyboard_arrow_right\r\n                    </span>\r\n                </div>\r\n                <div id = \"previous\" className = \"slider\" onClick = {()=>{\r\n                    sliderVal2= sliderVal2 + 225;\r\n                    console.log(sliderVal2)\r\n                    setSlider2(sliderVal2) \r\n                }}>\r\n                    <span class=\"material-icons\">\r\n                        keyboard_arrow_left\r\n                    </span>\r\n              </div>\r\n          </div>\r\n    </div>\r\n    )\r\n} \r\n\r\n\r\nexport default Recomend","import React, { Fragment, useEffect,  useState}  from 'react';\r\nimport MusicPreview from \"../widgets/musicPreview\";\r\nimport Moosix from '../functions/mossix-api'\r\nlet sliderVal2 = 0;\r\n\r\n\r\nfunction Trending(props){\r\n    const[trending, setTrending] = useState()\r\n    const [slider2, setSlider2] = useState(sliderVal2)\r\n    const app = new Moosix()\r\n    useEffect(()=>{\r\n      app.getTrending().then(data => setTrending(data))\r\n    }, [])\r\n\r\n    function play(src){\r\n        props.play(src)\r\n    }\r\n    function stop(){\r\n        props.stop()\r\n    }\r\n\r\n    return(\r\n        \r\n        <div id=\"trending-container\" className=\"home-music-container \">\r\n            <div className=\"musics-texts\">\r\n                <div className=\"musics-title\">\r\n                    <h4>Trending musics</h4>\r\n                </div>\r\n                <div className=\"musics-subtext\">\r\n                    <span>Most trending musics for you</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className = \"line\" />\r\n            \r\n            <div className=\"preview-box-container\" id = \"trending-box-container\" style = {{ transform: `translate(${slider2}px, ${85}px)` }}>\r\n                {trending &&\r\n                trending.map((name, i) => {\r\n                    return (\r\n                    <Fragment key={i}>\r\n                        <MusicPreview\r\n                        name={name}\r\n                        play={play}\r\n                        userName={props.userName}\r\n                        stop = {stop}\r\n                        audio = {props.audio}\r\n                        />\r\n                    </Fragment>\r\n                    );\r\n                })}\r\n            </div>\r\n            <div className = \"content-slider\">\r\n                    <div  id = \"next\" className = \"slider\" onClick = {()=>{\r\n                    sliderVal2 -= 225;\r\n                    setSlider2(sliderVal2) \r\n                    }}>\r\n                        <span className=\"material-icons\">\r\n                            keyboard_arrow_right\r\n                        </span>\r\n                    </div>\r\n\r\n                    <div id = \"previous\" className = \"slider\" onClick = {()=>{\r\n                        sliderVal2= sliderVal2 + 225;\r\n                        console.log(sliderVal2)\r\n                        setSlider2(sliderVal2) \r\n                    }}>\r\n                        <span class=\"material-icons\">\r\n                            keyboard_arrow_left\r\n                        </span>\r\n                </div>\r\n                \r\n            </div>\r\n\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Trending","import React, { useContext, useEffect } from \"react\";\r\n\r\nimport firebase from \"firebase\";\r\nimport Popular from \"./sub-home/Popular\"\r\nimport Notification from \"./functions/notification.js\"\r\nimport { useState } from \"react\";\r\nimport Recomend from \"./sub-home/Recomend\"\r\nimport Trending from \"./sub-home/Trending\"\r\nimport {uidContext} from \"../context/uid\"\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Home(props) {\r\n    let name1;\r\n   \r\n    document.title = \"Moosix\"\r\n    const uid = useContext(uidContext)\r\n    // const socket =  Notification(uid)\r\n    \r\n\r\n    // if(socket){\r\n    //     socket.on(\"notification\", data=>console.log(data))\r\n    // }\r\n    const db = firebase.database()\r\n    const [currentUserName, setCurrrentUserName] = useState();\r\n    const [progVal, setProgVal] = useState(\"0%\");\r\n    const auth = firebase.auth()\r\n    \r\n\r\n    useEffect(()=>{\r\n        if(uid){\r\n           \r\n            firebase\r\n            .database()\r\n            .ref(\"users/\" +uid + \"/private/login credentials\")\r\n            .on(\"value\", (snapshot) => {\r\n                console.log(snapshot)\r\n                setCurrrentUserName(snapshot.val().userName);\r\n            });                                                    \r\n       }\r\n    }, [uid])\r\n    \r\n\r\n       \r\n    \r\n    \r\n\r\n  \r\n\r\n \r\n    let duration = 0;\r\n    function play(src) {\r\n        props.play(src)\r\n    }\r\n\r\n\r\n    function stop(event) {\r\n       props.stop()\r\n    }\r\n\r\n \r\n    return (\r\n        <>\r\n            <div id=\"home\" className=\"main\">\r\n                <div className=\"music-content-container\" id=\"home-musics\">\r\n                    <div className=\"music-box\" id = \"home-box\">\r\n                        <Popular play = {play} stop = {stop} userName = {currentUserName} audio = {props.audio}/>\r\n                        <Trending play = {play} stop = {stop} userName = {currentUserName} audio = {props.audio}/>\r\n                        <Recomend  play = {play} stop = {stop} userName = {currentUserName} audio = {props.audio}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\nexport default Home;\r\n","import firebase from \"firebase\";\r\nimport \"firebase/auth\"\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyBHl1g2tLiLoDJIoKaWCsrdJG_T5xaoj_E\",\r\n    authDomain: \"music-app-2a7e7.firebaseapp.com\",\r\n    databaseURL: \"https://music-app-2a7e7.firebaseio.com\",\r\n    projectId: \"music-app-2a7e7\",\r\n    storageBucket: \"music-app-2a7e7.appspot.com\",\r\n    messagingSenderId: \"4335188008\",\r\n    appId: \"1:4335188008:web:b38bfddbe8feae83dfdd1d\"\r\n  };\r\n  // Initialize Firebase\r\n  const fire = firebase.initializeApp(firebaseConfig);\r\n  export default fire;","import firebase from \"firebase\"\r\nimport Cookies from \"js-cookie\"\r\nclass MoosaxAuth\r\n{\r\n    async login(email, password)\r\n    {\r\n        //firebase.auth().setPersistence(firebase.auth.Auth.Persistence.NONE)\r\n        await firebase.auth().signInWithEmailAndPassword(email, password)\r\n        .then(({user})=>{\r\n            return user.getIdToken().then(idToken=>{\r\n                this.postData(\"/api/login\", {idToken})\r\n            })\r\n        })\r\n    }\r\n    async  postData(url = '', data = {}) {\r\n        // Default options are marked with *\r\n        const response = await fetch(url, {\r\n          method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n          mode: 'cors', // no-cors, *cors, same-origin\r\n          cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n          credentials: 'same-origin', // include, *same-origin, omit\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"CSRF-Token\": Cookies.get(\"XSRF-TOKEN\")\r\n          },\r\n          redirect: 'follow', // manual, *follow, error\r\n          referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n          body: JSON.stringify(data) // body data type must match \"Content-Type\" header\r\n        });\r\n        return response.json(); // parses JSON response into native JavaScript objects\r\n    }\r\n}\r\n\r\nexport {MoosaxAuth}","import { NavLink } from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport firebase from \"firebase/app\"\r\nimport \"./firebase\"\r\nimport { useHistory } from 'react-router-dom';\r\nimport {MoosaxAuth} from \"./functions/moosax-auth.js\"\r\nimport { useState } from \"react\"\r\n\r\nfunction Login(props){\r\n    const auth = new MoosaxAuth()\r\n   let email;\r\n   let password;\r\n   let userName;  \r\n    const history = useHistory();\r\n    const [errorMessage, setErrorMessage] = useState()\r\n    function loginE(props){\r\n        email = document.getElementById(\"email\").value;//gets type value of user email\r\n        password = document.getElementById(\"password\").value;//gets type value of user password\r\n        //sends email to database to test\r\n        auth.login(email, password)\r\n        .then(()=>{\r\n            history.push(\"/\")\r\n        })\r\n    }\r\n    \r\n    return(\r\n        \r\n        <div id = \"login\" className =\"main-login\">\r\n              \r\n            <div className = \"form-box\">\r\n                <div className = \"form-container\">\r\n                    <div className = \"inputHolder\">\r\n                        <div className = \"logo-form\">\r\n                            <h1>Logo</h1>\r\n                        </div>\r\n                        <div className = \"input-container\">\r\n                            \r\n                            <div className = \"email-holder\">\r\n                                <input placeholder = \"email adress\" id = \"email\"\r\n                                className = \"-input\" />\r\n                            </div>\r\n                            <div className = \"password-holder\">\r\n                                <input placeholder = \"password\"  id = \"password\" type = \"password\" className = \"-input\"/>\r\n                            </div>\r\n                            <div className = \"btn-holder\">\r\n                                <button onClick = {loginE}><span><b>Login</b></span></button>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div class = \"link-signup\">\r\n                        <p>{errorMessage}</p>\r\n                        <p>Havent created account? plz <NavLink to = \"./signup\"> click here</NavLink></p>   \r\n                    </div>\r\n                </div>\r\n            </div>\r\n           \r\n        </div>\r\n        \r\n    )\r\n}\r\nexport default Login;","import React from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport firebase from \"firebase/app\"\r\nimport \"./firebase\"\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\nfunction Signup(){\r\n    const history = useHistory()\r\n    function signUp(){\r\n        let uEmail = document.getElementById(\"email\").value;\r\n        let uPassword = document.getElementById(\"password\").value;\r\n        let userName = document.getElementById(\"userName\").value;\r\n        async function send(email, password){\r\n            await firebase.auth().createUserWithEmailAndPassword(email, password).then(()=>{\r\n                console.log(\"successfull\");\r\n                let userID = firebase.auth().currentUser.uid;\r\n                console.log(userID)\r\n                firebase.database().ref(\"users/\"+userID+\"/private/login credentials\").set({\r\n                    \"userName\": userName,\r\n                    \"userId\": userID,\r\n                    \"userLog\": true\r\n                }).then(\r\n                    firebase.database().ref(\"users/\"+userID+\"/public/profile\").set({\r\n                    \"info\": {\r\n                        \"bio\": \"\",\r\n                        \"firstName\": userName,\r\n                        \"lastName\": userName,\r\n                        \"name\": userName\r\n                    },\r\n                    \"pfp\":{\r\n                        \"url\":\"\",\r\n                        \"x\": 50,\r\n                        \"y\": 50,\r\n                        \"zoom\": 1\r\n                    }\r\n                    })\r\n                )\r\n            })\r\n            history.push(\"./login\")\r\n        }\r\n        send(uEmail, uPassword);\r\n    }\r\n    return(\r\n        <div id = \"signUp\" className = \"main-login\">\r\n            <div className = \"form-box\">\r\n                <div className = \"form-container\">\r\n                    <div class = \"logo-form\">\r\n                        <h1>Logo</h1>\r\n                    </div>\r\n                    <div className = \"input-container\">\r\n                        <div className = \"email-holder\">\r\n                            <input id = \"email\" placeholder = \"email\" className = \"-input\"/>\r\n                        </div>\r\n                        <div className = \"password-holder\">\r\n                            <input id = \"password\" placeholder = \"password\" className= \"-input\" type = \"password\"/>\r\n                        </div>\r\n                        <div className = \"username-holder\">\r\n                            <input id = \"userName\" placeholder = \"username\" className = \"-input\"/>\r\n                        </div>\r\n                        \r\n                        <div class = \"btn-holder\">\r\n                            <button onClick = {signUp}>Next</button>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div class=\"link-signup\">\r\n                        <p>Already have an account? plz <NavLink to = \"./login\"> click here</NavLink></p>   \r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n               \r\n        </div>\r\n    )\r\n}\r\nexport default Signup","import React, { useEffect, useState } from \"react\";\r\nimport firebase from \"firebase\";\r\nimport dayFunc from \"./functions/dayFunc.js\";import { Route, Switch, useHistory, Redirect } from 'react-router-dom';\r\nimport Nav from \"./nav\"\r\nimport Moosix from \"./functions/mossix-api.js\"\r\n\r\nlet image;\r\nlet file\r\nlet history;\r\nvar dateObj = new Date();\r\nconst app = new Moosix()\r\nlet username;\r\n\r\nfunction Upload(){\r\n    history = useHistory()\r\n    console.log(firebase.auth().currentUser)\r\n    let uid;\r\n   \r\n \r\n    firebase.auth().onAuthStateChanged((user)=>{\r\n        if(user){\r\n           uid = user.uid\r\n           firebase.database().ref(\"users/\"+ uid + \"/private/login credentials\").on(\"value\", snapshot=>{\r\n               username = snapshot.val().userName\r\n           })\r\n        }else{\r\n            history.push(\"/login\")\r\n        } \r\n    })\r\n   \r\n    function fileUpload(){\r\n        file = document.getElementById(\"actual-btn\").files[0]\r\n        //document.getElementById(\"uc\").style.display = \"hidden\";\r\n        history.push(\"/upload/info\")\r\n        return (\r\n            <Redirect to = \"/upload/info\" />\r\n        )\r\n      \r\n    }\r\n    useEffect(()=>{\r\n        \r\n    }, [])\r\n   \r\n\r\n    return(\r\n        <>\r\n            <Nav />\r\n            {/* {showUpload ?  */}\r\n\r\n              \r\n            {/* : null } */}\r\n            {/* {showEdit ? <Edit /> : null} */}\r\n                \r\n                    <Switch>\r\n                        <Route  exact path = \"/upload\" >\r\n                        <div className = \"main\" id = \"upload-main\">\r\n                        <div className = \"upload-container\" id = \"uc\">\r\n                            <div className = \"upload-box\"  onDrop = {fileUpload}>\r\n                                <div className = \"upload-main\">\r\n                                    <h2>Choose a song you want to upload</h2>\r\n                                    <div className = \"upload-button\">\r\n                                        <input type = \"file\" id =\"actual-btn\" hidden onChange = {fileUpload} accept = \"audio/wav, audio/mp3\"></input>\r\n                                        <label for=\"actual-btn\"><span>Upload file</span></label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                        </Route>\r\n                        <Route  exact path = {\"/upload/info\"} exact component = {Edit}/>\r\n                    </Switch>\r\n             \r\n     \r\n        </>\r\n    )\r\n}\r\n\r\nfunction Edit(){\r\n  \r\n    const [imagePreview, setImagePreview] = useState()\r\n    function saveFile(event){\r\n        console.log(event)\r\n        event.target.disabled = true;\r\n        let userID = firebase.auth().currentUser.uid\r\n        let title = document.getElementById(\"title\").value;\r\n        let artist = document.getElementById(\"artist\").value;\r\n        let genre = document.getElementById(\"genre\").value;\r\n        let description = document.getElementById(\"description\").value;\r\n        let tags = document.getElementById(\"tags\").value;\r\n        let publicRad = document.getElementById(\"publicRad\").checked;\r\n        \r\n        //let privateRad = document.getElementById(\"privateRad\").checked;\r\n        \r\n        if( title.indexOf(\".\") > -1 || title.indexOf(\"#\") > -1 || title.indexOf(\"/\") > -1 || title.indexOf(\"[\") > -1 || title.indexOf(\"]\") > -1){\r\n            console.log(\"cannot use special charecter\")\r\n        }else{\r\n            if (publicRad === true){\r\n                const data= {\r\n                    userID,\r\n                    title,\r\n                    artist,\r\n                    genre,\r\n                    description,\r\n                    tags,\r\n                    image,\r\n                    file\r\n                }\r\n                app.upload(data)\r\n            }else{\r\n                \r\n            }     \r\n        }        \r\n    }\r\n    function Cancel(){\r\n        history.push(\"/\")\r\n    }\r\n    function imageUpload(event){\r\n        console.log(event.target)\r\n        image = document.getElementById(\"album-btn\").files[0];\r\n        setImagePreview(URL.createObjectURL(event.target.files[0]))\r\n    }\r\n    return(\r\n        <div className = \"edit-upload\">\r\n        <div className = \"edit-upload-box\">\r\n            <div className = \"edit-upload-main\">\r\n                <div className = \"pic-wrapper\">\r\n                    <div className = \"pic-holder\">\r\n                        <img src = {imagePreview} width = \"260\" height = \"260\" alt=\"aimge-preview\" id = \"prev\"></img>\r\n                    </div>\r\n                    <div className = \"album-cover\">\r\n                        <input type = \"file\" id =\"album-btn\" hidden onChange = {imageUpload} accept = \"image/jpeg, image/png\"></input>\r\n                        <label for=\"album-btn\"><span>Upload image</span></label>\r\n                    </div>\r\n                </div>\r\n                <div className = \"song-form\">\r\n                    <div className = \"song-title\">\r\n                        <span>Title</span>\r\n                        <div className = \"input-title\">\r\n                            <input id = \"title\" placeholder = \"Name of your song...\" className = \"-input-form\" defaultValue = {file.name} autoComplete = \"off\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"artist\">\r\n                        <span>Artist</span>\r\n                        <div className = \"input-artist\">\r\n                            <input id = \"artist\" placeholder = \"Name of the artist...\" className = \"-input-form\" autoComplete = \"off\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"Genre\">\r\n                        <span>Genre</span>\r\n                        <div className = \"input-gerne\">\r\n                            <input id = \"genre\" placeholder = \"Name of your genre...\" className = \"-input-form\" autoComplete = \"off\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"Description\">\r\n                        <span>Description</span>\r\n                        <div className = \"input-gerne\">\r\n                            <input id = \"description\" placeholder = \"Describe your track..\" className = \"-input-form\" autoComplete = \"off\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"Tags\">\r\n                        <span>Tags</span>\r\n                        <div className = \"input-tags\">\r\n                            <input id = \"tags\" placeholder = \"add tags\" className = \"-input-form\"  autoComplete = \"off\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"privateOpt\">\r\n                        <span>Privacy?:</span>\r\n                        <div className = \"input-privacy\">\r\n                            <div className = \"public\">\r\n                                <input type = \"radio\" id = \"publicRad\" name = \"radio1\" value = \"public\" />\r\n                                <label for = \"publicRad\">Public</label> \r\n                            </div>\r\n                            <div className = \"private\">\r\n                                <input type = \"radio\" id = \"privateRad\" name = \"radio1\" value = \"private\" />\r\n                                <label for = \"privateRad\">Private</label> \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"save-cancel\">\r\n                        <div className = \"cancel\">\r\n                            <button onClick = {Cancel}>Cancel</button>\r\n                        </div>\r\n                        <div className = \"save\">\r\n                            <button onClick = {saveFile}>Save</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n               \r\n            </div>\r\n         </div>\r\n     </div>\r\n    )\r\n    \r\n}\r\nexport default Upload","import React, { Fragment, useEffect, useRef } from \"react\";\r\nimport MusicPreview from \"./widgets/musicPreview\"\r\n\r\nfunction MusicContent(props){\r\n    let musics = props.musics;\r\n    let uID = props.uID;\r\n    let currentUserName = props.userName\r\n    let pfp = props.pfp\r\n    let user = props.user\r\n    function play(src){\r\n        props.play(src)\r\n    }\r\n    function stop(){\r\n        console.log(\"yes stop\")\r\n        props.stop()\r\n    }\r\n   \r\n    return(\r\n                <div class = \"music-content-container\">\r\n                    <div class = \"music-box\">\r\n                        <div class = \"user-musics\">\r\n                                {musics && musics.map((name, i)=>{   \r\n                                    return(\r\n                                        <Fragment key = {i}>\r\n                                                <MusicPreview \r\n                                                    name = {name} \r\n                                                    play = {play} \r\n                                                    uID = {uID} \r\n                                                    userName = {currentUserName} \r\n                                                    pfp= {pfp} \r\n                                                    user = {user}\r\n                                                    stop = {stop}\r\n                                                    audio = {props.audio}\r\n                                                />\r\n                                        </Fragment>\r\n                                    )\r\n                                })}\r\n                        </div>\r\n                    </div>\r\n                </div>  \r\n    )\r\n}\r\n\r\nexport default MusicContent","import React, { Fragment, useEffect, useRef } from \"react\";\r\n\r\nimport firebase from \"firebase\"\r\nimport { useState } from \"react\"\r\n\r\n\r\nimport { NavLink, Redirect, Route } from \"react-router-dom\";\r\n\r\nimport MusicContent from \"./musicContent\"\r\nimport { Switch } from 'react-router-dom';\r\nimport Moosix from \"./functions/mossix-api\"\r\nconst app = new Moosix()\r\nconst Music = (props) => {\r\n    const [x, setX] = useState()\r\n    const [y, setY] = useState()\r\n    const [zoom, setZoom] = useState()\r\n    const [user_data, setUser_data] = useState()\r\n    const [musics, setMusics] = useState([])\r\n    const [user, setUser] = useState(null)\r\n    const [pfp, setPfp] = useState(null)\r\n    const [currentUserName, setCurrrentUserName] = useState()\r\n    const { params: { uID } } = props.match;\r\n    //profile pictures and all\r\n  \r\n    useEffect(() => {\r\n        app.getUserSongs(uID).then((song)=>setMusics(song))\r\n        app.getUserData(uID).then((data)=>setUser_data(data))\r\n        firebase.auth().onAuthStateChanged((currentUser) => {\r\n            app.getUserData( currentUser.uid).then(data=>setCurrrentUserName(data.public.profile.info.name))\r\n        })\r\n    }, [uID])\r\n    useEffect(()=>{\r\n            if(user_data){\r\n                setUser(user_data.public.profile.info.name)\r\n                setPfp(user_data.public.profile.pfp.url)\r\n                setX(user_data.public.profile.pfp.x)\r\n                setY(user_data.public.profile.pfp.y)\r\n                setZoom(user_data.public.profile.pfp.zoom)\r\n            }\r\n    }, [user_data])\r\n    \r\n\r\n    //stores musics data in array for rendering\r\n\r\n\r\n    //play function no bbugs here\r\n    function play(src) {\r\n        console.log(props)\r\n        props.play(src)\r\n     }\r\n  \r\n    //no bugs here\r\n   \r\n\r\n    //no bugs here\r\n    function stop() {\r\n        props.stop()\r\n    }\r\n  \r\n    \r\n    return (\r\n        <>\r\n\r\n            <div id=\"profile\" className=\"main\">\r\n                <div class=\"profile-container\">\r\n                    <div className=\"cover-pic\">\r\n                        <img src=\"\" />\r\n                        \r\n                        <div className=\"User-Name\">\r\n                            <h1>{user}</h1>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"pfp\">\r\n                        <div className = \"pfp-container\">\r\n                            <pfp className = \"pfp-box\">\r\n                                <img \r\n                                src={pfp}  \r\n                                style = \r\n                                {\r\n                                    {\r\n                                        transform: `translate(${x-50}px, ${y-50}px) scale(${(parseInt(zoom)/100) + 1 })`,\r\n                                        \r\n                                    }\r\n                                }\r\n                                />\r\n                            </pfp>\r\n                        </div>\r\n                            \r\n                    </div>\r\n                    <div class=\"tabsContainer\">\r\n                        <div class=\"tabs-holder\">\r\n                            <NavLink to={\"/u/\" + uID + \"/music\"} activeClassName=\"Music-Nav-Active\">\r\n                                <button><span>Music</span></button>\r\n                            </NavLink>\r\n                            <NavLink to={\"/u/\" + uID + \"/playlist\"} activeClassName=\"PlayList-Nav-Active\">\r\n                                <button><span>Playlist</span></button>\r\n                            </NavLink>\r\n                            <button><span>About</span></button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Redirect to = {\"/u/\" + uID + \"/music\"} />\r\n                <Switch>\r\n                    <Route exact path={\"/u/\" + uID + \"/music\"}>\r\n                        <MusicContent\r\n                            musics={musics}\r\n                            play={play}\r\n                            uID={uID}\r\n                            userName={currentUserName}\r\n                            pfp={pfp}\r\n                            user={user}\r\n                            stop = {stop}\r\n                            audio = {props.audio}\r\n                        />\r\n                    </Route>\r\n                    <Route exact path={\"/u/\" + uID + \"/playlist\"}>\r\n                    </Route>\r\n                </Switch>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Music\r\n\r\n\r\n\r\n\r\n/*firebase.database().ref(\"public/songs/\"+\"/\"+name).update({\r\n                    \"views\": totalViews\r\n                })   */\r\n\r\n","import React, { Fragment, useEffect, useRef,  } from \"react\";\r\nimport firebase from \"firebase\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useState } from \"react\"\r\nimport MusicPreview from \"./widgets/musicPreview\"\r\nimport Moosix from \"./functions/mossix-api\"\r\n\r\nconst app = new Moosix()\r\nfunction Result(props){\r\n    const [currentUserName, setCurrrentUserName] = useState()\r\n    \r\n    const [musics, setMusics] = useState([])\r\n   \r\n    \r\n \r\n    let query = useQuery();\r\n    function useQuery() {\r\n        return new URLSearchParams(useLocation().search);\r\n    }\r\n    const search_query = query.get(\"search\")\r\n    \r\n    console.log(search_query)  \r\n    useEffect(()=>{\r\n        firebase.auth().onAuthStateChanged((currentUser)=>{\r\n            firebase.database().ref(\"users/\"+currentUser.uid+\"/praivate/login credentials\").on(\"value\", (snapshot)=>{\r\n                if(snapshot.val()){\r\n                    setCurrrentUserName(snapshot.val().userName)\r\n                }\r\n            })\r\n        })\r\n    }, [])\r\n\r\n    useEffect(()=>{\r\n        app.searchQ(search_query).then((musics)=>setMusics(musics)  )\r\n    }, [search_query])\r\n    \r\n    function play(name){\r\n        props.play(name)\r\n    }\r\n\r\n    function stop(){\r\n        props.stop()\r\n    }\r\n\r\n    \r\n\r\n    return(\r\n        <>\r\n             \r\n        <div id = \"home\" className =\"main\">\r\n            <div className = \"music-content-container\" id = \"home-musics\">\r\n                <div className = \"music-box\">\r\n                    <div className = \"user-musics\">\r\n                        {musics && musics.map((name, i)=>{   \r\n                            return(\r\n                                <Fragment key = {i}>\r\n                                    <MusicPreview \r\n                                        name = {name} \r\n                                        play = {play}\r\n                                        stop = {stop} \r\n                                        uID = {name.userID} \r\n                                        userName = {currentUserName} \r\n                                        pfp= {name.pfpURL} \r\n                                        user = {name.artist}\r\n                                        audio = {props.audio}\r\n                                    />\r\n                                    </Fragment>\r\n                                )\r\n                        })}\r\n                        {\r\n                            musics.length == 0\r\n                            ? \r\n                            <span>no results found</span>\r\n                            :\r\n                            null\r\n                        }\r\n                    </div>    \r\n                </div>\r\n            </div>  \r\n        </div>\r\n        \r\n        </>\r\n    )\r\n}\r\nexport default Result","\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport Moosix from \"../../functions/mossix-api.js\"\r\nimport {songContext} from \"../../../context/songContext\"\r\nconst app = new Moosix()\r\n\r\nfunction Top(props)\r\n{\r\n    const [track, setTrack] = useState()\r\n    const [title, setTitle] = useState()\r\n    const [image, setImage] = useState()\r\n    const [artist, setArtist] = useState()\r\n    const [isSameSrc, setIsSameSrc] = useState(false)\r\n    const [description, setDescription] = useState()\r\n    const song = useContext(songContext)\r\n    useEffect(()=>{\r\n        \r\n        if(props.nowPlaying){\r\n           \r\n        }\r\n        else if(Array.isArray(props.tracks)){\r\n            if(song.playlistIncludes(song.getCurrentSong())){\r\n                setTrack(song.getCurrentSong())\r\n            }else{\r\n               setTrack(props.tracks[0])\r\n            }\r\n          \r\n        }\r\n        else{\r\n            setTrack(props.tracks)\r\n        }\r\n    }, [props])\r\n\r\n    function play()\r\n    {\r\n        props.play(track)\r\n        setIsSameSrc(true)\r\n    }\r\n\r\n    function stop()\r\n    {\r\n        props.stop()\r\n        setIsSameSrc(false)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(track){\r\n            setTitle(track.info.title)\r\n            setImage(track.src.imageURL)\r\n            setArtist(track.info.artist)\r\n            setDescription(track.info.description)    \r\n            if(song.audio.src == track.src.aduioURL && song.audio.paused == false ){\r\n                setIsSameSrc(true)\r\n             }else{\r\n                setIsSameSrc(false)\r\n             }\r\n        }\r\n    }, [track])\r\n   \r\n    return (\r\n        <div className = {props.top||\"top\"} >\r\n            <div className = \"top-container\">\r\n                <div className = \"bg-blur\" style = {{backgroundImage: `linear-gradient(to bottom, rgba(0, 0, 0, 0), var(--dark-secondary)), url(\"${image}\")`}} />\r\n                <div className = \"top-contents\">\r\n                    <div className = \"top-albumCover-wrapper\">\r\n                        <div className = \"top-albumCover\" \r\n                        style = {{backgroundImage: `url(\"${image}\")`}}\r\n                        />\r\n                    </div>\r\n                    <div className = \"top-info\">\r\n                        <div className = \"top-title\">\r\n                            <h2>{title}</h2>\r\n                        </div>\r\n                        <div className = \"top-description\">\r\n                            <span>{description}</span>\r\n                        </div>\r\n                        <div className = \"top-artist-name\">\r\n                            <span>{artist}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"top-buttons\">\r\n                        <div className = \"top-play-botton\">\r\n                            {isSameSrc?<button onClick = {stop}>pause</button>:<button onClick = {play}>play</button>}\r\n                            \r\n                        </div>\r\n                        <div className = \"top-more-button\">\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Top","class Song\r\n{\r\n    constructor(song_data)\r\n    {\r\n        this.audio = new Audio()\r\n        this.songArray = []\r\n        this.i = -1;\r\n    }\r\n    play()\r\n    {\r\n        this.audio.play()\r\n        this.i = this.songArray.indexOf(this.song)\r\n        this.audio.addEventListener(\"ended\", (e)=>{\r\n                if(this.i > -1 && this.i<this.songArray.length){\r\n                    const nextSong = this.getNextSong()\r\n                    if(nextSong){\r\n                        this.playSong(nextSong)\r\n                    }\r\n                }\r\n        })\r\n        let current_final;\r\n        let current_inital;\r\n        \r\n        this.audio.addEventListener(\"play\", (e)=>{\r\n            current_inital = this.audio.currentTime\r\n        })\r\n        this.audio.addEventListener(\"pause\", (e)=>{\r\n            current_final = this.audio.currentTime\r\n            const diff = current_final - current_inital\r\n        })\r\n        this.audio.addEventListener(\"ended\", (e)=>{\r\n            current_final = this.audio.currentTime\r\n            const diff = current_final - current_inital\r\n        })\r\n        this.audio.addEventListener(\"timeupdate\", (e)=>{\r\n            current_final = this.audio.currentTime\r\n            const diff = current_final - current_inital\r\n        })\r\n        \r\n       \r\n    }\r\n    \r\n    stop()\r\n    {\r\n        this.audio.pause()\r\n    }\r\n\r\n    loadSongs(song, playlist_song = \"song\")\r\n    {\r\n        if(playlist_song === \"playlist\"){\r\n            this.songArray = song\r\n        }else if(playlist_song === \"song\"){\r\n            this.songArray.push(song)\r\n        }\r\n    }\r\n\r\n    getNextSong()\r\n    {\r\n        if(this.songArray && this.i > -1 && this.i<this.songArray.length){\r\n            const nextSong = this.songArray[this.i+1]\r\n            //this.playSong(nextSong)\r\n            return nextSong\r\n        }else{\r\n            return null\r\n        }\r\n    }\r\n\r\n    getPreviousSong()\r\n    {\r\n        if(this.songArray && this.i > 0 && this.i<this.songArray.length){\r\n            const nextSong = this.songArray[this.i-1]\r\n            //this.playSong(nextSong)\r\n            return nextSong\r\n        }else{\r\n            return null\r\n        }\r\n    }\r\n\r\n \r\n\r\n    playSong(song)\r\n    {\r\n        this.song = song\r\n        this.audio.src = song.src.aduioURL\r\n        this.play(song)\r\n    }\r\n\r\n    like(liker_uid)\r\n    {\r\n        const url = \"/api/music/like/send\"\r\n        const data = \r\n        {\r\n            likedBy: liker_uid,\r\n            likedOf: this.song.info.uid,\r\n            song_name: this.song.info.songID || this.song.info.title,\r\n            song: this.song\r\n        }\r\n        this.postData(url, data)\r\n    }\r\n\r\n    updateViews({initialTime, finalTime})\r\n    {\r\n        const url = \"/api/music/views/update\"\r\n        const data = \r\n        {\r\n            initialTime: initialTime,\r\n            finalTime: finalTime,\r\n            songID: this.song.info.songID || this.song.info.title,\r\n            uid: this.song.info.uid\r\n        }\r\n        this.postData(url, data)\r\n    }\r\n\r\n    createPlaylists(playlist_obj)\r\n    {\r\n        this.songArray = []\r\n        this.loadSongs(playlist_obj.songs, \"playlist\")\r\n    }\r\n\r\n    volumeHandler(val)\r\n    {\r\n        this.audio.volume = val\r\n    }\r\n    getCurrentSong()\r\n    {\r\n        return this.song\r\n    }\r\n    getDuration()\r\n    {\r\n        if(this.audio.duration){\r\n            const rawDuration_minute = Math.floor(this.audio.duration/60) \r\n            const duration_minute = rawDuration_minute.toLocaleString('en-US', {\r\n                minimumIntegerDigits: 2,\r\n                useGrouping: false\r\n            })\r\n            const rawDuration_sec = Math.floor(this.audio.duration%60) \r\n            const duration_sec = rawDuration_sec.toLocaleString('en-US', {\r\n                minimumIntegerDigits: 2,\r\n                useGrouping: false\r\n            })\r\n            return duration_minute + \":\" + duration_sec\r\n        }else{\r\n            return \"00:00\"\r\n        }\r\n    }\r\n    getCurrentTime(){\r\n        if(this.audio.currentTime){\r\n                const rawCurrent_minute = Math.floor(this.audio.currentTime/60) \r\n                const current_minute = rawCurrent_minute.toLocaleString('en-US', {\r\n                    minimumIntegerDigits: 2,\r\n                    useGrouping: false\r\n                })\r\n                const rawCurrent_sec = Math.floor(this.audio.currentTime%60) \r\n                const current_sec = rawCurrent_sec.toLocaleString('en-US', {\r\n                    minimumIntegerDigits: 2,\r\n                    useGrouping: false\r\n                })\r\n                return current_minute + \":\" + current_sec \r\n        }else{\r\n                return \"00:00\"\r\n        }\r\n    }\r\n    isPaused()\r\n    {\r\n        return this.audio.paused\r\n    }\r\n    playlistIncludes(song)\r\n    {\r\n        return this.songArray.includes(song)\r\n    }\r\n    showPlaylists()\r\n    {\r\n        return this.songArray\r\n    }\r\n    async  postData(url = '', data = {}) {\r\n        // Default options are marked with *\r\n        const response = await fetch(url, {\r\n          method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n          mode: 'cors', // no-cors, *cors, same-origin\r\n          cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n          credentials: 'same-origin', // include, *same-origin, omit\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          redirect: 'follow', // manual, *follow, error\r\n          referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n          body: JSON.stringify(data) // body data type must match \"Content-Type\" header\r\n        });\r\n        return response.json(); // parses JSON response into native JavaScript objects\r\n    }    \r\n}\r\n\r\nexport {Song}\r\n\r\n\r\n\r\n\r\n\r\nclass Playlist\r\n{\r\n    constructor(name, song_array)\r\n    {\r\n        this.songs = song_array||[]\r\n        this.playlistName = name\r\n    }\r\n    createNewPlaylist(name, song_array)\r\n    {\r\n        this.playlistName = name\r\n        this.songs = song_array\r\n    }\r\n    addSong(song)\r\n    {\r\n        this.songs.push(song)\r\n    }\r\n    removeSong(song)\r\n    {\r\n        const newPlaylist = this.songs.filter(item=>item !== song)\r\n        this.songs = newPlaylist\r\n    }\r\n    getSongs()\r\n    {\r\n        return this.songs\r\n    }\r\n}\r\n\r\nexport {Playlist}","import React, { useContext, useEffect, useState } from \"react\";\r\nimport {uidContext} from \"../../context/uid\"\r\nimport \"./style.css\"\r\nimport Moosix from \"../functions/mossix-api.js\"\r\nimport Top from \"./comp/top\"\r\nimport {songContext} from \"../../context/songContext.js\"\r\nimport {Playlist} from \"../classes/song\"\r\nconst app = new Moosix()\r\n\r\nfunction UserLikes(props)\r\n{\r\n    const song = useContext(songContext)\r\n  \r\n    const [musics, setMusics] = useState(null)\r\n    const [tracks, setTracks] = useState(null)\r\n    const [nowPlaying, setNowPlaying] = useState(null)\r\n    const uid = useContext(uidContext)\r\n    useEffect(()=>{\r\n        \r\n        if(uid){\r\n            let tempArr= []\r\n            app.getUserLikes(uid).then(data=>data).then(x=>{\r\n                x.forEach(data=>{\r\n                    app.getSongsById(data.id, data[\"song_id\"]).then(y=>tempArr.push(y)).then(()=>setMusics(tempArr))\r\n                })\r\n            })\r\n        }\r\n    }, [uid])\r\n\r\n    useEffect(()=>{\r\n        if(musics){\r\n            const playlist = new Playlist()\r\n            playlist.createNewPlaylist(\"Likes\", musics)\r\n            song.createPlaylists(playlist)\r\n            console.log(song.showPlaylists())\r\n            setTracks(song.showPlaylists())\r\n        }\r\n    }, [musics])\r\n    return(\r\n        <div id = \"userLikes\" className = \"main\" >\r\n            <div className = \"music-content-container\" id = \"userLikes-music\">\r\n                <div className = \"music-box\" id = \"userLikes-box\">\r\n                    <Top tracks = {tracks} nowPlaying = {null} play ={props.play} audio = {props.audio} stop = {props.stop}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default UserLikes","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport Top from \"./comp/top\"\r\nimport Moosix from \"../functions/mossix-api.js\"\r\nimport \"./listen.css\"\r\nconst app = new Moosix()\r\nfunction Listen(props)\r\n{\r\n    let query = useQuery();\r\n    const [musics, setMusics] = useState(null)\r\n    function useQuery() {\r\n        return new URLSearchParams(useLocation().search);\r\n    }\r\n    const music = query.get(\"m\")\r\n    const uid = query.get(\"uid\")\r\n    useEffect(()=>{\r\n        if(query){\r\n            app.getSongsById(uid, music).then(tracks=>{\r\n                setMusics(tracks)\r\n            })\r\n        }\r\n    }, [music])\r\n    return(\r\n        <div id = \"listen\" className = \"main\" >\r\n            <div className = \"music-content-container\" id = \"listen-music\">\r\n                <div className = \"music-box\" id = \"listen-box\">\r\n                    <Top tracks = {musics} nowPlaying = {null} play ={props.play} audio = {props.audio} stop = {props.stop} top = \"top-listen\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Listen","import \"./styles/nav.css\"\nimport './styles/App.css';\nimport \"./styles/Header.css\"\nimport \"./styles/login.css\"\nimport \"./styles/userPage.css\"\nimport \"./styles/upload.css\"\nimport \"./styles/music.css\"\nimport \"./styles/audio.css\"\nimport \"./styles/search.css\"\n\nimport EditProfile from \"./component/editProfile\"\nimport Header from \"./component/header\"\nimport AudioPlayer from \"./component/audioplayer\"\nimport Nav from \"./component/nav\"\nimport firebase from \"firebase\"\nimport About from \"./component/about\"\nimport Home from \"./component/home\"\nimport Login from \"./component/login\"\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\nimport \"./component/firebase\";\nimport Signup from \"./component/Signup\"\n//import auth from \"firebase/auth\";\nimport Upload from \"./component/Upload\"\nimport Music from \"./component/music\"\nimport Result from \"./component/result\"\nimport {  useEffect, useState } from \"react\";\nimport {uidContext} from \"./context/uid\"\nimport UserLikes from \"./component/pages/userLikes\"\nimport Listen from \"./component/pages/listen\"\nimport {Song, Playlist} from \"./component/classes/song\"\nimport {songContext, playlistContext} from \"./context/songContext\"\nconst audio = new Audio()\nconst song = new Song();\n\n\nconst playList = new Playlist()\n\n\nfunction useForceUpdate(){\n  const [value, setValue] = useState(0); // integer state\n  return () => setValue(value => value + 1); // update the state to force render\n}\n\nfunction App() {\n  let name1;\n  const forceUpdate = useForceUpdate()\n  const [progVal, setProgVal] = useState(\"0%\");\n  const [AudioPreview, setAudioPreview] = useState()\n  const [uid, setUid] = useState(null)\n  const[reRender, setReRender] = useState()\n  firebase.auth().onAuthStateChanged(user=>setUid(user.uid))\n  const db = firebase.database()\n  let duration = 0;\n\n  function volumeHandler(volume){\n    audio.volume = volume\n  }\n\n\n  \n  function play(src) {\n    if(song.audio.src === src.src.aduioURL){\n        song.play()\n        name1 = src.title\n    }else{\n        song.playSong(src)\n        name1 = src.info.songID||src.info.title\n    }\n  \n   \n    if(audio){\n        audio.addEventListener(\"timeupdate\", ()=>{\n            if(name1){\n                let currentTime = audio.currentTime\n                //only executes if a user has listened the song for atleast 30sec\n                if (currentTime > 30 && currentTime < 30.2) {\n                    console.log(3000)\n                    let views;\n                    let totalViews;\n                    db.ref(\"users/\" + src.info.userID + \"/public/\" + \"songs/\" + name1 +\"/stats\").once(\"value\").then((snapshot) => {\n                        views = snapshot.val().views;\n                        totalViews = views + 1\n                    }).then(() => {\n                        db.ref(\"users/\" + src.info.userID + \"/public/\" + \"songs/\" + name1+ \"/stats\").update({\n                            \"views\": totalViews\n                        }).then(() => {\n                        db.ref(\"public/songs/\" + name1).update({\n                                \"views\": totalViews\n                            })\n                        })\n                    })\n                }\n            }\n        })   \n    }\n}\n\nfunction stop(event) {\n  forceUpdate()\n  song.stop()\n}\n\nfunction playAudio(){\n  forceUpdate()\n  song.play()\n}\n\nfunction next(){\n  forceUpdate()\n  const nextSong = song.getNextSong()\n  if(nextSong)\n  {\n    song.playSong(nextSong)\n  }\n}\n\nfunction previous(){\n  forceUpdate()\n  const previousSong = song.getPreviousSong()\n  if(previousSong)\n  {\n    song.playSong(previousSong)\n  }\n}\n\n\n\n  return (\n    <>\n      <Router>\n        <Switch> \n        \n            <Route path=\"/login\" exact component = {Login} />\n            <Route path = \"/Signup\" exact component = {Signup} />\n              <div className = \"blue\" id = \"main-render\">  \n                <uidContext.Provider value = {uid}>\n                    <songContext.Provider value = {song}>\n                      <Route exact path=\"/about\" render = {(props)=>(\n                          <About {...props} />\n                        )} />\n                        <Route path=\"/upload\" component={Upload} />\n                        <Route exact path = \"/account/edit\"  component = {EditProfile} />\n\n                        <Route path=\"/u/:uID\" render = {(props)=>(\n                          <Music {...props} play = {play} stop = {stop} audio = {audio}/>\n                        )} />\n\n                        <Route exact path=\"/\" exact render ={(props)=>(\n                          <Home {...props} play = {play} stop = {stop} audio = {audio}/>\n                        )} />\n\n                        <Route path = \"/results\"exact render = {(props) =>(\n                          <Result {...props} play = {play} stop = {stop} audio = {audio}/>\n                        )}/>\n\n                         <Route path = \"/listen\"exact render = {(props) =>(\n                          <Listen {...props} play = {play} stop = {stop} audio = {audio}/>\n                        )}/>\n\n                         <Route path = \"/liked\" exact render = {(props)=>(\n                            <UserLikes {...props} play = {play} stop = {stop} audio = {audio} />\n                          )} />\n                          <Nav />\n                        <Header />\n\n                        <AudioPlayer \n                        progVal={progVal} \n                        stop={stop} \n                        playAudio={playAudio} \n                        audio = {audio} \n                        volumeHandler = {volumeHandler} \n                        AudioInfo = {AudioPreview}\n                        next = {next}\n                        previous = {previous}\n                        />\n                        \n                  </songContext.Provider>\n                </uidContext.Provider>\n                 \n              </div>\n        </Switch>\n      </Router>\n    </>\n  );\n  \n}\n//#2CC8E5\nexport default App;\n\n//209, 53, 79","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}