{"version":3,"sources":["component/functions/dayFunc.js","component/functions/mossix-api.js","component/editProfile.js","component/functions/moosax-auth.js","component/sub-com/dropdownProfile.js","component/functions/notification.js","context/uid.js","context/songContext.js","component/notification/notification-contents.js","component/notification/notification.js","component/functions/useComponentVisible.js","component/header.js","component/audioComp/audioPreview.js","component/widgets/like.js","component/widgets/comment.js","component/pages/fullScreen.js","component/audioplayer.js","component/nav-comp/navDiv1.js","component/nav-comp/navDiv2.js","component/nav-comp/navDivMob.js","component/nav.js","component/about.js","component/threedots.js","component/widgets/musicPreview.js","component/sub-home/SliderContainer.js","component/sub-home/Popular.js","component/sub-home/Recomend.js","component/sub-home/Trending.js","component/sub-home/RecommendFollowing.js","component/home.js","component/firebase.js","component/login.js","component/Signup.js","component/Upload.js","component/sub-com/followBtn.js","component/musicCard2/musicCard2.js","component/musicContent.js","component/music.js","component/result.js","component/pages/comp/top.js","component/classes/song.js","component/pages/comp/playlistContainer.js","component/pages/userLikes.js","component/pages/listen.js","App.js","reportWebVitals.js","index.js"],"names":["dayFunc","Moosix","uid","this","fetch","mode","res","json","response","userId","userid","song_id","data","postData","search","name","st","firebase","storage","ref","child","pic","put","then","snapshot","getDownloadURL","url","public","profile","pfp","to768","to500","to200","files","a","compress","quality","maxWidth","maxHeight","resize","resizedImage","img","base64str","imgExt","ext","resizedFile","Compress","convertBase64ToFile","File","title","rawData","imageURL","image","Promise","all","image768","image500","image200","console","log","imageTask768","genre","imageTask500","imageTask200","scale768","scale500","scale200","liker_uid","u_uid","music","likedOf","songID","song","method","cache","credentials","headers","Cookies","get","redirect","referrerPolicy","body","JSON","stringify","EditProfile","history","useHistory","app","document","useState","file","setFile","x","setX","y","setY","zoom","setZoom","setName","firstName","setFirstName","lastName","setLastName","bio","setBio","imgSrc","setImgSrc","id","className","src","alt","style","transform","parseInt","type","hidden","onChange","event","target","URL","createObjectURL","htmlFor","value","placeholder","onKeyUp","onClick","push","info","update_profile","MoosaxAuth","email","password","auth","setPersistence","Auth","Persistence","NONE","signInWithEmailAndPassword","signIn","user","getIdToken","token","message","text","status","signedout","DropDown","props","setTheme","setUid","isLoading","setIsloading","useEffect","getUserId","finally","color","to","signOut","Notification","uidContext","createContext","songContext","NotficationContents","notfication","notification","didWhat","setDidWhat","user_data","setUser_data","userName","setUserName","activity","setActivity","setPfp","useContext","setNotification","getNotifications","slice","reverse","map","index","useComponentVisible","initialIsVisible","isComponentVisible","setIsComponentVisible","useRef","handleClickOutside","current","contains","addEventListener","removeEventListener","Header","isComponentVisible2","setIsComponentVisible2","ref2","useComponentVisible2","searchTerm","setSearchTerm","userID","newNotification","isHidden","setIsHidden","list","setList","autoSearch","Search","getAttribute","s","uID","isloggedIn","searchQ","autoComplete","key","toLocaleLowerCase","val","data-name","height","width","AudioPreview","track","setTrack","getCurrentSong","backgroundImage","artist","Like","cUID","stats","likes","likeNumber","setLikeNumber","like","setLike","hasLiked","sendLike","Comment","FullScreen","songObj","progVal","setProgVal","setValue","anime","setAnime","audio","e","duration","currentTime","setFullScreen","setTimeout","previousSong","getPreviousSong","playSong","paused","play","stop","nextSong","getNextSong","percent","getCurrentTime","getDuration","PlayerMob","AudioPlayer","volume","setVolume","setCurrentTime","window","innerWidth","next","previous","AudioInfo","volumeHandler","navigator","mediaSession","setActionHandler","playAudio","class","onMouseDown","preventDefault","rect","srcElement","getBoundingClientRect","clientX","left","documentElement","offsetWidth","onMouseUp","NavDiv1","exact","activeClassName","NavDiv2","NavDivMob","Nav","about","Options","qued","remove","que","ThreeDots","isQued","setQued","loadSongs","removeSongs","MusicPreview","btn_hidden","setBtn_hidden","show","setShow","currentUserName","tracks","load","aduioURL","onMouseOut","tabIndex","loading","uploader","views","sliderVal2","SliderContainer","slider2","setSlider2","h4","context","children","Popular","popular","setPopular","getPopular","i","Recomend","recomend","setRecomend","getRecommend","onscroll","scrollTop","innerHeight","scrollHeight","Trending","trending","setTrending","getTrending","RecomendFollowing","setTracks","getRecommendByFollowing","Home","database","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Login","errorMessage","setErrorMessage","getElementById","login","err","Signup","uEmail","uPassword","createUserWithEmailAndPassword","currentUser","private","createAcc","set","send","Edit","imagePreview","setImagePreview","accept","for","defaultValue","disabled","description","tags","publicRad","checked","indexOf","upload","Upload","fileUpload","path","onDrop","FollowBtn","following","isFollowing","setIsFollowing","follow","MusicCard","isPlaying","MusicContent","musics","view_mode","URLSearchParams","useLocation","Music","setMusics","setUser","setCurrrentUserName","match","params","getUserData","Helmet","Result","setIsLoadinig","search_query","pfpURL","length","Top","setTitle","setImage","setArtist","isSameSrc","setIsSameSrc","setDescription","nowPlaying","Array","isArray","playlistIncludes","top","Song","song_data","Audio","songArray","areViewsUpdated","metadata","MediaMetadata","artwork","sizes","current_inital","setMetaData","updateViews","pause","newArray","filter","arr","playlist_song","likedBy","song_name","initialTime","finalTime","playlist_obj","songs","Math","floor","toLocaleString","minimumIntegerDigits","useGrouping","includes","result","sid","Playlist","song_array","playlistName","newPlaylist","item","PlaylistContainer","UserLikes","getUserLikes","Listen","query","getSongsById","App","useReducer","forceUpdate","fullScreen","setFullscreen","component","Provider","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.9f89160d.chunk.js","sourcesContent":["function dayFunc(day, month, year){\r\n    let month_day = month * 30.4\r\n    let year1 = year * 365\r\n    let total = day + month_day + year1\r\n    return total\r\n}\r\nexport default dayFunc\r\n\r\n\r\n\r\n","import firebase from \"firebase\"\r\nimport Cookies from \"js-cookie\"\r\nimport Compress from \"compress.js\"\r\nclass Moosix\r\n{\r\n    constructor(uid){\r\n        this.uid = uid\r\n    }\r\n\r\n    async getPopular()\r\n    {\r\n        const res = await fetch(\"/api/home/popular\", { mode: \"cors\" })\r\n        const response = await res.json()\r\n        return response\r\n    }\r\n\r\n    async getTrending()\r\n    {\r\n        const res = await fetch(\"/api/home/trending\", { mode: \"cors\" })\r\n        const response = await res.json()\r\n        return response\r\n        \r\n    }\r\n\r\n    async getRecommend(userId)\r\n    {\r\n        const res = await fetch(\"/api/home/recomended\")\r\n        const response = await res.json()\r\n        return response\r\n    }\r\n\r\n    async getRecommendByFollowing()\r\n    {\r\n        const res = await fetch(\"/api/home/following\")\r\n        const response = await res.json()\r\n        return response\r\n    }\r\n\r\n    async getUserData(userId)\r\n    {\r\n        const res = await fetch (`/api/u/${userId}`)\r\n        const response = await res.json()\r\n        return response\r\n    }\r\n\r\n    async getSongsById(userid, song_id)\r\n    {\r\n        const res = await fetch (\"/api/listen?song=\"+song_id)\r\n        const response = await res.json()\r\n        return response\r\n    }\r\n\r\n  \r\n\r\n\r\n    async createAcc(data)\r\n    {\r\n        const url = \"/api/account/create\"\r\n        await this.postData(url, data)\r\n        return \"ok\"\r\n    }\r\n\r\n    \r\n\r\n\r\n    async searchQ(search)\r\n    {\r\n        if(search != \"\" && search != null)\r\n        {\r\n            const res = await fetch(\"/api/home/result?search=\"+search, {mode: 'cors'})\r\n            const response = await res.json()\r\n            return response\r\n        }\r\n    }\r\n\r\n    async getNotifications(uid)\r\n    {\r\n        const res = await fetch(\"/api/u/notification\", {mode: 'cors'})\r\n        const response = await res.json()\r\n        return response\r\n        \r\n    }\r\n\r\n    checkName(name)\r\n    {\r\n        const url = \"/api/profile/checkname\"\r\n        if(name != null || name != \"\"){\r\n            return this.postData(url, {\"name\": name})\r\n        }\r\n    }\r\n\r\n    async update_profile(data)\r\n    {\r\n        const st = firebase.storage()\r\n        await st.ref(\"/users/profile/pfp\").child(data.pic.name).put(data.pic)\r\n                .then((snapshot)=>snapshot.ref.getDownloadURL())\r\n                .then(url=>data.public.profile.pfp.url = url)\r\n        const url = \"/api/profile/update\"\r\n        await this.postData(url, {\"update\": data})\r\n        return \"ok\"\r\n    }\r\n\r\n    async upload(data)\r\n    {\r\n        const compress = new Compress()\r\n        const rawData = data\r\n        rawData.imageURL = {}\r\n        const st = firebase.storage()\r\n        async function to768(files){\r\n            const resizedImage  = await compress.compress([...files], {\r\n                quality: 0.45,\r\n                maxWidth: 768,\r\n                maxHeight: 768,\r\n                resize: true\r\n            })\r\n            const img = resizedImage[0];\r\n            const base64str = img.data\r\n            const imgExt = img.ext\r\n            const resizedFile = Compress.convertBase64ToFile(base64str, imgExt)\r\n            return new File([resizedFile], data.title + \"-scale768\")\r\n        }\r\n\r\n  \r\n        async function to500(files){\r\n            \r\n            \r\n            const resizedImage  = await compress.compress([...files], {\r\n                quality: 0.5,\r\n                maxWidth: 500,\r\n                maxHeight: 500,\r\n                resize: true\r\n            })\r\n            const img = resizedImage[0];\r\n            const base64str = img.data\r\n            const imgExt = img.ext\r\n            const resizedFile = Compress.convertBase64ToFile(base64str, imgExt)\r\n            return new File([resizedFile], data.title + \"-scale500\")\r\n        }\r\n\r\n        async function to200(files){\r\n            const resizedImage  = await compress.compress([...files], {\r\n                quality: 0.5,\r\n                maxWidth: 500,\r\n                maxHeight: 500,\r\n                resize: true\r\n            })\r\n            const img = resizedImage[0];\r\n            const base64str = img.data\r\n            const imgExt = img.ext\r\n            const resizedFile = Compress.convertBase64ToFile(base64str, imgExt)\r\n            return new File([resizedFile], data.title + \"-scale200\")\r\n        }\r\n        const files = data.image\r\n        const  [image768, image500, image200] = await Promise.all([to768(files), to500(files), to200(files)])\r\n        console.log(image768, image500)\r\n        const imageTask768 =st.ref(\"public/\"+\"songs/\"+data.genre+\"/\"+data.title).child(image768.name).put(image768)\r\n        const imageTask500 =st.ref(\"public/\"+\"songs/\"+data.genre+\"/\"+data.title).child(image500.name).put(image500)\r\n        const imageTask200 =st.ref(\"public/\"+\"songs/\"+data.genre+\"/\"+data.title).child(image200.name).put(image200)\r\n        await imageTask768.then(snapshot=>snapshot.ref.getDownloadURL()).then(url=>{\r\n            console.log(768, url)\r\n            rawData.imageURL.scale768 = url\r\n        })\r\n        await imageTask500.then(snapshot=>snapshot.ref.getDownloadURL()).then(url=>{\r\n            console.log(500, url)\r\n            rawData.imageURL.scale500 = url\r\n        })\r\n        await imageTask200.then(snapshot=>snapshot.ref.getDownloadURL()).then(url=>{\r\n            console.log(200, url)\r\n            rawData.imageURL.scale200 = url\r\n        })\r\n        // const url = \"/api/u/music/upload\"\r\n        \r\n        // const songTask = st.ref(\"public/\"+\"songs/\"+data.genre+\"/\"+data.title).child(data.file.name).put(data.file)\r\n        // await songTask.then(snapshot=>snapshot.ref.getDownloadURL()).then(url=>rawData.audioURL = url).then(()=> this.postData(url, rawData))\r\n       \r\n    }\r\n\r\n    async getUserLikes(uid)\r\n    {\r\n        if(uid){\r\n            const res = await fetch(\"/api/u/liked?uid=\"+uid)\r\n            const response = await res.json()\r\n            return response\r\n        }else{\r\n            const res = await fetch(\"/api/u/songs/liked\")\r\n            const response = await res.json()\r\n            return response\r\n        }\r\n       \r\n    }\r\n\r\n    async update_profile_pic(pic)\r\n    {\r\n        const st = firebase.storage()\r\n        await st.ref(\"/users/profile/pfp\").child(pic.name).put(pic)\r\n                .then((snapshot)=>snapshot.ref.getDownloadURL())\r\n                .then(url=>this.url = url)\r\n                .then(()=>console.log(\"completed\"))\r\n    }\r\n\r\n    \r\n    \r\n    sendLike(liker_uid, u_uid, song_id, music)\r\n    {\r\n        const url = \"/api/music/like/send\"\r\n        const data = \r\n        {\r\n            likedOf: u_uid,\r\n            songID: song_id,\r\n            song: music\r\n        }\r\n        this.postData(url, data)\r\n    }\r\n    \r\n    async follow(uid)\r\n    {\r\n        const url = \"/api/u/follow\"\r\n        const data = {\r\n            uid: uid\r\n        }\r\n        this.postData(url, data)\r\n    }\r\n\r\n\r\n\r\n\r\n    async  postData(url = '', data = {}) {\r\n        // Default options are marked with *\r\n        const response = await fetch(url, {\r\n          method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n          mode: 'cors', // no-cors, *cors, same-origin\r\n          cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n          //credentials: 'same-origin', // include, *same-origin, omit\r\n          credentials: 'same-origin', // include, *same-origin, omit\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"CSRF-Token\": Cookies.get(\"XSRF-TOKEN\")\r\n          },\r\n          redirect: 'follow', // manual, *follow, error\r\n          referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n          body: JSON.stringify(data) // body data type must match \"Content-Type\" header\r\n        });\r\n        return response.json(); // parses JSON response into native JavaScript objects\r\n    }\r\n}\r\nexport default Moosix","import React, { useEffect, useState } from \"react\";\r\nimport firebase from \"firebase\";\r\nimport dayFunc from \"./functions/dayFunc.js\";\r\nimport { Switch, useHistory, Redirect } from 'react-router-dom';\r\nimport \"../styles/editProf.css\"\r\nimport Moosix from \"./functions/mossix-api\"\r\n\r\n\r\n\r\nfunction EditProfile(){\r\n    const history = useHistory()\r\n    const app = new Moosix()\r\n    document.title = \"Edit Profile\"\r\n    const [file, setFile] = useState()\r\n\r\n    const [x, setX] = useState(50)\r\n    const [y, setY] = useState(50)\r\n    const [zoom, setZoom] = useState(0)\r\n    const [name, setName] = useState(null)\r\n    const [firstName, setFirstName] = useState(null)\r\n    const [lastName, setLastName] = useState(null)\r\n    const [bio, setBio] = useState(null)\r\n    const [imgSrc, setImgSrc] = useState(null)\r\n\r\n\r\n    function image_handler(image){\r\n        setFile(image[0])\r\n        setImgSrc(URL.createObjectURL(image[0]))\r\n    }\r\n    // useEffect(()=>{\r\n    //     app.checkName(name)\r\n    // }, [name])\r\n\r\n    function save(){\r\n        const data = \r\n        {   \r\n            public:{\r\n                profile:{\r\n                    info:\r\n                    {\r\n                        name: name,\r\n                        firstName: firstName,\r\n                        lastName: lastName,\r\n                        bio: bio,\r\n                    },\r\n                    pfp: {\r\n                        url: \"\",\r\n                        x: x,\r\n                        y: y,\r\n                        zoom: zoom\r\n                    }\r\n                }\r\n            },\r\n        }\r\n       \r\n        if(file)\r\n        {\r\n            data.pic = file;\r\n            app.update_profile(data).then(()=>history.push(\"/\"))\r\n        }else{\r\n            app.update_profile(data).then(()=>console.log(\"completed\"))\r\n        }\r\n    }\r\n    function cancel(){\r\n        history.push(\"/\")\r\n    }\r\n    return(\r\n        <div id = \"edit-profile\" className = \"main\">\r\n            <div className = \"edit-profile-container\">\r\n                <div className = \"edit-profile-box\">\r\n                    <div className = \"edit-head-wrapper\">\r\n                        <div className = \"edit-head\">\r\n                            <span>Edit Your Profile</span>\r\n                        </div>\r\n                        <div className = \"line\" id = \"edit-line\" />\r\n                    </div>\r\n                    <div className = \"profile-form-container\">\r\n                        <div className = \"pfp-preview\">\r\n                            <div className = \"pfp-preview-box\">\r\n                                <div className = \"crop-container\">\r\n                                    <div className = \"crop\">\r\n                                    </div>\r\n                                    <img \r\n                                    src = {imgSrc} \r\n                                    alt = \"image-preview\" \r\n                                    id = \"preview\"\r\n                                    style = \r\n                                    {\r\n                                        {\r\n                                            transform: `translate(${x-50}px, ${y-50}px) scale(${(parseInt(zoom)/100) + 1 })`,\r\n                                           \r\n                                        }\r\n                                    }\r\n                                    />\r\n                                </div>\r\n                               \r\n                                <div className = \"upload-pfp\">\r\n                                        <input type = \"file\" id =\"upload-pfp-btn\" hidden  onChange = {(event)=>image_handler(event.target.files)}></input>\r\n                                        <label htmlFor=\"upload-pfp-btn\"><span>Upload file</span></label>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className = \"sliders\">\r\n                                    <div className = \"slider-box\">\r\n                                        <div className = \"slider-x\">\r\n                                            <input type = \"range\" value = {x} onChange = {(event)=>setX(event.target.value)}/>\r\n                                        </div>\r\n                                        <div className = \"slider-y\">\r\n                                            <input type = \"range\" value = {y} onChange = {(event)=>setY(event.target.value)}/>\r\n                                        </div>\r\n                                        <div className = \"slider-zoom\">\r\n                                            <input type = \"range\" value = {zoom} onChange = {(event)=>setZoom(event.target.value)}/>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                        </div>\r\n\r\n                        <div className = \"profile-form\">\r\n                            <div className = \"display-name\">\r\n                                <div className = \"form-label\">\r\n                                    <span>Display Name</span>\r\n                                </div>\r\n                                <div className = \"display-name-input\">\r\n                                    <input \r\n                                    className = \"-input-form\" \r\n                                    type = \"text\" \r\n                                    placeholder = \"Name...\" \r\n                                    onKeyUp = {(event)=>setName(event.target.value)} \r\n                                    />\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div className = \"first Name\">\r\n                                <div className = \"form-label\">\r\n                                    <span>First Name</span>\r\n                                </div>\r\n                                <div className = \"first-name-input\">\r\n                                    <input \r\n                                    className = \"-input-form\" \r\n                                    type = \"text\"  \r\n                                    placeholder = \"First Name...\" \r\n                                    onKeyUp = {(event)=>setFirstName(event.target.value)} />\r\n                                </div>\r\n                            </div>\r\n                            <div className = \"last Name\">\r\n                                <div className = \"form-label\">\r\n                                    <span>Last Name</span>\r\n                                </div>\r\n                                <div className = \"last-name-input\">\r\n                                    <input \r\n                                    className = \"-input-form\" \r\n                                    type = \"text\"  \r\n                                    placeholder = \"Last Name...\" \r\n                                    onKeyUp = {(event)=>setLastName(event.target.value)} />\r\n                                </div>\r\n                            </div>\r\n                            <div className = \"bio\">\r\n                                <div className = \"form-label\">\r\n                                    <span>Bio</span>\r\n                                </div>\r\n                                <div className = \"bio-input\">\r\n                                    <textarea \r\n                                    className = \"-input-form\" \r\n                                    type = \"text\"  \r\n                                    placeholder = \"describe yourself...\" \r\n                                    onKeyUp = {(event)=>setBio(event.target.value)} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className = \"save-cancel\">\r\n                            <div className = \"cancel\">\r\n                                <button onClick = {cancel}>Cancel</button>\r\n                            </div>\r\n                            <div className = \"save\">\r\n                                <button onClick = {save}>Save</button>\r\n                            </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProfile","import firebase from \"firebase\"\r\nimport Cookies from \"js-cookie\"\r\nclass MoosaxAuth\r\n{\r\n    async login(email, password)\r\n    {\r\n        console.log(\"hey login\")\r\n        firebase.auth().setPersistence(firebase.auth.Auth.Persistence.NONE)\r\n        try{\r\n            // await firebase.auth().signInWithEmailAndPassword(email, password)\r\n            // .then(({user})=>{\r\n            //     return user.getIdToken().then(idToken=>{\r\n            //         if(idToken){\r\n            //             this.postData(\"/api/login\", {idToken}).then(()=>{\r\n            //                 return {status: \"complete\"}\r\n            //             })\r\n            //         }\r\n                    \r\n            //     })\r\n            // })\r\n            const signIn = await firebase.auth().signInWithEmailAndPassword(email, password)\r\n            const user = signIn.user\r\n            const token = await user.getIdToken()\r\n            await this.postData(\"/api/login\", token)\r\n            return \"ok\"\r\n        }\r\n        catch(err){\r\n            return err.message\r\n        }\r\n        \r\n    }\r\n\r\n    async signOut()\r\n    {\r\n        const res = await fetch(\"/signout\", {\r\n                            method: 'get',\r\n                            credentials: 'include' \r\n        })\r\n        const response = await res.text()\r\n        return response\r\n    }\r\n    async isloggedIn()\r\n    {\r\n        const res = await fetch(\"/isLoggedIn\")\r\n        const response = await res.json()\r\n        const status = response.signedout\r\n        return !status;\r\n    }\r\n    async getUserId()\r\n    {\r\n        const res = await fetch(\"/api/userId\")\r\n        const response = await res.json()\r\n        const uid = response.uid;\r\n        return uid;\r\n    }\r\n    async  postData(url = '', data) {\r\n        // Default options are marked with *\r\n        const response = await fetch(url, {\r\n          method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n          mode: 'cors', // no-cors, *cors, same-origin\r\n          cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n          credentials: 'same-origin', // include, *same-origin, omit\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            \"CSRF-Token\": Cookies.get(\"XSRF-TOKEN\")\r\n          },\r\n          redirect: 'follow', // manual, *follow, error\r\n          referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n          body: JSON.stringify({data}) // body data type must match \"Content-Type\" header\r\n        });\r\n        return response.json(); // parses JSON response into native JavaScript objects\r\n    }\r\n}\r\n\r\nexport {MoosaxAuth}","import React, { useEffect } from \"react\"\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport { useState } from \"react\"\r\nimport {MoosaxAuth} from \"../functions/moosax-auth.js\"\r\nimport Loader from \"react-loader-spinner\"\r\nimport \"../../styles/dropdown.css\"\r\n\r\nfunction DropDown(props){\r\n    const [theme, setTheme] = useState()\r\n    const [uid, setUid] = useState()\r\n    const [isLoading, setIsloading] = useState(true)\r\n    const auth = new MoosaxAuth()\r\n    const history = useHistory()\r\n    useEffect(()=>{\r\n        auth.getUserId().then((uid)=>{setUid(uid)}).finally(()=>setIsloading(false))\r\n    }, [])\r\n    \r\n    return(\r\n        <>\r\n\r\n                    <div className = \"loader drop-loader\">\r\n                       \r\n                    </div>\r\n                    <div className = \"dropdown-wrapper\">\r\n                        <div className = \"dropdown\">\r\n                            <div className = \"dropdown-box\">\r\n                                \r\n                                    {isLoading?<Loader type = \"TailSpin\" color = \"#fff\"/>:(\r\n                                        <div className = \"dropdown-lists\">\r\n                                            <ul>\r\n                                                <NavLink to = {\"/u/\"+uid+\"/music\"}>\r\n                                                    <li>Profile</li>\r\n                                                </NavLink>\r\n                                                <li>#</li>\r\n                                                <li>#</li>\r\n                                                <li>#</li>\r\n                                                <li onClick = {()=>setTheme(\"dark\")}>Dark Mode</li>\r\n                                                <li onClick = {()=>auth.signOut().then(()=>history.push(\"/login\"))}>Sign Out</li>\r\n                                            </ul>\r\n                                </div>\r\n                                    )\r\n                                    }\r\n                               \r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                \r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default DropDown","import io from \"socket.io-client\"\r\nimport React, {useEffect, useState} from\"react\"\r\n\r\nfunction Notification(id){\r\n    const [socket, setSocket] = useState()\r\n    useEffect(()=>{\r\n        if(id){\r\n            const newSocket = io({ \r\n                transport : ['websocket'], \r\n                query: {\r\n                    \"id\": id\r\n                }\r\n            });\r\n            setSocket(newSocket)\r\n            return()=>newSocket.close()\r\n        }\r\n    }, [id])\r\n    return socket\r\n}\r\nexport default Notification","import {createContext} from \"react\"\r\nexport const uidContext = createContext(null)\r\n\r\n","import {createContext} from \"react\"\r\nexport const songContext = createContext(null)\r\nexport const playlistContext = createContext(null)","import React, {useState, useEffect, useContext} from \"react\"\r\nimport Moosix from \"../functions/mossix-api.js\"\r\nimport {uidContext} from \"../../context/uid.js\"\r\n\r\nconst app = new Moosix()\r\nfunction NotficationContents(props)\r\n{\r\n    // const [notification, setNotification]\r\n    const notfication = props.notification\r\n    const [didWhat, setDidWhat] = useState()\r\n    const [x, setX] = useState()\r\n    const [y, setY] = useState()\r\n    const [zoom, setZoom] = useState()\r\n    const [user_data, setUser_data] = useState()\r\n    const [userName, setUserName] = useState()\r\n    const [activity, setActivity] = useState()\r\n    const [pfp, setPfp] = useState(null)\r\n    useEffect(()=>{\r\n        if(notfication){\r\n            setUser_data(notfication.user)\r\n            if(notfication.type == \"like\"){\r\n                setDidWhat(\"liked your\")\r\n                setActivity(\"song \" + notfication.title)\r\n            }\r\n            else if(notfication.type == \"comment\"){\r\n                setDidWhat(\"commented\")\r\n            }\r\n            else if(notfication.type == \"followed\"){\r\n                setDidWhat(\"followed you\")\r\n            }\r\n\r\n        } \r\n    },[notfication])\r\n  \r\n   \r\n\r\n    useEffect(()=>{\r\n        if(user_data){\r\n            setUserName(user_data.info.name)\r\n            setPfp(user_data.pfp.url)\r\n            setX(user_data.pfp.x)\r\n            setY(user_data.pfp.y)\r\n            setZoom(user_data.pfp.zoom)\r\n        }\r\n    }, [user_data])\r\n    \r\n  \r\n    \r\n    return(\r\n        <div className = \"notification-items\">\r\n            <div className = \"notification-profile\">\r\n                 <div className=\"pfp\" id = \"notfication-pfp\">\r\n                        <div className = \"pfp-container\" id = \"notfication-pfp-container\">\r\n                            <pfp className = \"pfp-box\" id = \"notfication-pfp-box\">\r\n                                <img id= \"notfication-pfp-img\" \r\n                                src={pfp}  \r\n                                style = \r\n                                {\r\n                                    {\r\n                                        transform: `translate(${x-50}px, ${y-50}px) scale(${(parseInt(zoom)/100) + 1 })`,\r\n                                        \r\n                                    }\r\n                                }\r\n                                />\r\n                            </pfp>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n            <div className = \"notification-info\">\r\n                <div className = \"notification-userName\">\r\n                    {userName}\r\n                </div>\r\n\r\n                <div className = \"notfication-type\">\r\n                    <span>{didWhat}</span>\r\n                </div>\r\n\r\n                <div className = \"notification-activity\">\r\n                    <span>{activity}</span>\r\n                </div>               \r\n                \r\n            </div>\r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotficationContents","import React, { useState, useEffect, useContext } from \"react\"\r\nimport Moosix from \"../functions/mossix-api.js\"\r\nimport { uidContext } from \"../../context/uid.js\"\r\nimport NotficationContents from \"./notification-contents\"\r\nimport \"../../styles/notification.css\"\r\nconst app = new Moosix()\r\nfunction Notification(props) {\r\n\r\n    const uid = useContext(uidContext)\r\n    const [notification, setNotification] = useState(null)\r\n    useEffect(() => {\r\n        app.getNotifications().then(notification => setNotification(notification))\r\n    }, [uid])\r\n\r\n\r\n    return (\r\n        <div id=\"notification\">\r\n            <div className=\"notification-container\">\r\n                <div className=\"notification-box\">\r\n                    <div className=\"notfication-header\">\r\n                        <span>Notifications</span>\r\n                    </div>\r\n                    <div className=\"notification-contents\">\r\n                        {notification && notification.slice(0).reverse().map((data, index) => <NotficationContents key={index} notification={data} />\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Notification","import { useState, useEffect,  useRef } from \"react\"\r\n\r\nexport function useComponentVisible(initialIsVisible) {\r\n    const [isComponentVisible, setIsComponentVisible] = useState(initialIsVisible);\r\n    const ref = useRef(null);\r\n\r\n    const handleClickOutside = (event) => {\r\n        if (ref.current && !ref.current.contains(event.target)) {\r\n            setIsComponentVisible(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('click', handleClickOutside, true);\r\n        return () => {\r\n            document.removeEventListener('click', handleClickOutside, true);\r\n        };\r\n    });\r\n    return { ref, isComponentVisible, setIsComponentVisible };\r\n}\r\n\r\nexport function useComponentVisible2(initialIsVisible) {\r\n    const [isComponentVisible2, setIsComponentVisible2] = useState(initialIsVisible);\r\n    const ref2 = useRef(null);\r\n\r\n    const handleClickOutside = (event) => {\r\n        if (ref2.current && !ref2.current.contains(event.target)) {\r\n            setIsComponentVisible2(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('click', handleClickOutside, true);\r\n        return () => {\r\n            document.removeEventListener('click', handleClickOutside, true);\r\n        };\r\n    });\r\n    return { ref2, isComponentVisible2, setIsComponentVisible2 };\r\n}\r\n\r\n","import React from \"react\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useState, useEffect, useContext, useRef } from \"react\"\r\nimport DropDown from \"./sub-com/dropdownProfile\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport Moosix from \"./functions/mossix-api\"\r\nimport io from \"./functions/notification.js\"\r\nimport {uidContext} from \"../context/uid\"\r\nimport {songContext} from \"../context/songContext\"\r\nimport Notification from \"./notification/notification\"\r\nimport {useComponentVisible, useComponentVisible2} from \"./functions/useComponentVisible\"\r\nimport {MoosaxAuth} from \"./functions/moosax-auth.js\"\r\nconst app = new Moosix()\r\n\r\n\r\n\r\n\r\n\r\nfunction Header(props){\r\n    const auth = new MoosaxAuth()\r\n    const {\r\n        ref,\r\n        isComponentVisible,\r\n        setIsComponentVisible\r\n    } = useComponentVisible(false);\r\n    \r\n    const {\r\n        ref2,\r\n        isComponentVisible2,\r\n        setIsComponentVisible2\r\n    } = useComponentVisible2(false);\r\n\r\n    const [isHidden3, setIsHidden3] = useState(true)\r\n    const [isHidden2, setIsHidden2] = useState(true)\r\n    const [searchTerm, setSearchTerm] = useState(null)\r\n    const [pfp, setPfp] = useState(null)\r\n    const [userID, setUserID] = useState(null);\r\n    const history = useHistory();\r\n    const [newNotification, setNewNotification] = useState(false)\r\n    const [isHidden, setIsHidden] = useState(true)\r\n    const [list, setList] = useState()\r\n    const [uid, setUid] = useState(null)\r\n    const song = useContext(songContext)\r\n\r\n    \r\n    useEffect(()=>{\r\n        auth.getUserId().then((uID)=>setUid(uID))\r\n    }, [])\r\n    useEffect(()=>{\r\n        // console.log(uid)\r\n        // if(uid){\r\n        //     const socket =  io(uid)\r\n        //     socket.on(\"notification\", data=>{\r\n        //         if(data){\r\n        //             setNewNotification(data.newNotification)\r\n        //         }\r\n        //     })\r\n        // }\r\n    }, [uid])\r\n    useEffect(()=>{\r\n        auth.isloggedIn().then((res)=>{\r\n            if(res){\r\n    \r\n            }else{\r\n                history.push(\"/login\")\r\n            }\r\n        \r\n        })\r\n    }, [])\r\n    \r\n    \r\n\r\n    useEffect(()=>{\r\n        \r\n        if(searchTerm == null || searchTerm == \"\"){\r\n            setIsHidden(true)\r\n        }\r\n        else{\r\n            console.log(searchTerm)\r\n            setIsHidden(false)\r\n            app.searchQ(searchTerm).then((list)=> setList(list))\r\n        }\r\n    }, [searchTerm])\r\n        \r\n    function autoSearch(event){\r\n        Search(event.target.getAttribute('data-name'))\r\n    }\r\n    function Search(s){\r\n        setIsHidden(true)\r\n        if(s != \"\"){\r\n            history.push(\"/results?search=\"+s)\r\n        }\r\n    }\r\n    \r\n\r\n    return(\r\n        <header>\r\n            <div id = \"hd-container\">\r\n                <div id = \"logo-contain\">\r\n                    <NavLink to = \"/\"><h1></h1></NavLink>\r\n                </div>\r\n                <div id =\"search\">\r\n                    <div className = \"bar\">\r\n                        <input \r\n                            id = \"searchBar\" \r\n                            placeholder = \"search\" \r\n                            autoComplete = \"off\"\r\n                            onKeyUp = {event=>event.key == \"Enter\"?Search(searchTerm):null }\r\n                            onChange = {event=>{\r\n                                setSearchTerm(event.target.value.toLocaleLowerCase())    \r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div className = \"searchBtn\">\r\n                        <span id = \"srhBtn\" className = \"material-icons\" onClick = {()=>Search(searchTerm)}>search</span>    \r\n                    </div>\r\n                    {isHidden?null:\r\n                    <div className = \"searchList-wrapper\">\r\n                        <div className = \"searchList-holder\">\r\n                            <ul>\r\n                                {\r\n                                    list && list.map((val, key)=>{  \r\n                                    return(\r\n                                        <li className = \"lists\" key = {key} >\r\n                                            <div className = \"search-list\" >\r\n                                                <span onClick = {autoSearch} data-name = {val.info.title} id = \"autolist\"> {val.info.title}</span>\r\n                                            </div>  \r\n                                        </li>\r\n                                    )\r\n                                })}\r\n                            </ul>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    }                   \r\n                </div>\r\n\r\n                \r\n                    <div ref = {ref}>\r\n                        <div ref = {ref2}>\r\n                            <div id = \"buttons\">\r\n                            <div className = \"notification-button\"  onClick = {()=>setIsComponentVisible2(!isComponentVisible2)}>\r\n                                    {newNotification? <span id = \"notification-button\" className=\"material-icons\">notifications_active</span>: <span id = \"notification-button\" className=\"material-icons\">notifications</span>}  \r\n                                </div>\r\n                                <div className = \"profile\" onClick = {()=>setIsComponentVisible(!isComponentVisible)}>\r\n                                        <img src = {pfp} height = \"25\" width = \"25\" alt = \"\" id = \"profile-drop\"/>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                            {isComponentVisible2&& (<Notification />)}\r\n                            {isComponentVisible && ( <DropDown uid = {userID}/>)}\r\n                            {!isComponentVisible &&(null)}\r\n                        </div>\r\n                        \r\n                    </div>\r\n\r\n                    \r\n                    \r\n        \r\n                \r\n            \r\n            </div>\r\n        </header>\r\n    )\r\n}\r\nexport default Header;\r\n\r\n// /<NavLink to = {\"/users/\"+userID}>","import React, { useEffect } from \"react\"\r\nimport {songContext} from \"../../context/songContext\"\r\nimport { useState, useContext } from \"react\"\r\nfunction AudioPreview()\r\n{\r\n    const song = useContext(songContext)\r\n    const [track, setTrack] = useState()\r\n    useEffect(()=>{\r\n        setTrack(song.getCurrentSong())\r\n    }, [song.getCurrentSong()])\r\n  \r\n    return(\r\n        <div id = \"audio-preview\">\r\n            <div className = \"audio-preview-container\">\r\n                <div className = \"audio-preview-box\">\r\n                    <div className = \"audio-preview-contents\">\r\n                        <div className = \"audio-preview-image\">\r\n                            <div className = \"image\" \r\n                            style=\r\n                            {\r\n                                {\r\n                                    backgroundImage: `url(\"${track?track.src.imageURL.scale200:null}\")`\r\n                                }\r\n                            }/>\r\n                        </div>\r\n                   \r\n                       \r\n                      \r\n                        <div className = \"audio-preview-context\">\r\n                            <div className = \"audio-preview-title\">\r\n                                <span>{track?track.info.title:\"unknown\"}</span>\r\n                            </div>\r\n                            <div className = \"audio-preview-artist\">\r\n                                <span>{track?track.info.artist:\"unknown\"}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AudioPreview","import React, { useContext, useEffect } from \"react\";\r\nimport Moosix from \"../functions/mossix-api.js\"\r\nimport {uidContext} from \"../../context/uid\"\r\nimport { useState } from \"react\"\r\nimport {MoosaxAuth} from \"../functions/moosax-auth.js\"\r\nconst app = new Moosix()\r\nfunction Like(props){\r\n    const auth = new MoosaxAuth()\r\n    const [cUID, setCUID] = useState()\r\n    const uID = useContext(uidContext)\r\n    let music = props.music\r\n    var title = props.name //sets tractk title\r\n    let userName = props.userName //sets userName\r\n    const [likeNumber, setLikeNumber] = useState(music.stats.likes)\r\n    const [like, setLike] = useState()\r\n    const hasLiked = music.hasLiked\r\n        useEffect(()=>{\r\n           \r\n            //goes to firebase and check if the value is true or undefined\r\n            if(hasLiked){\r\n                setLike(true)\r\n            }else{\r\n                setLike(false)\r\n            }\r\n        }, [userName])\r\n        \r\n        function sendLike(){\r\n            if(uID){\r\n                app.sendLike(cUID, uID, music.info.songID, music)\r\n                if(like){\r\n                    setLikeNumber(likeNumber - 1)\r\n                    setLike(false)\r\n                }else{\r\n                    setLike(true)\r\n                    setLikeNumber(likeNumber+ 1)\r\n                }\r\n            }\r\n           \r\n        }\r\n    return(\r\n        <div className = \"like\" id = {props.id}>\r\n            <i className=\"material-icons\" onClick = {sendLike} >{like ? <p>favorite</p> : <p>favorite_border</p> }</i>\r\n           <span>{likeNumber}</span>\r\n        </div>\r\n    )\r\n}\r\nexport default Like","import React from \"react\";\r\n\r\n\r\nfunction Comment(props){\r\n    return (\r\n        <div className = \"comment\" id = {props.id}>\r\n            <i className = \"material-icons\">comment</i>\r\n           <span>0</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comment","import React, { useContext, useEffect, useState } from \"react\";\r\nimport {songContext} from \"../../context/songContext.js\"\r\nimport \"./styles/fullscreen.css\"\r\nimport Like from \"../widgets/like\"\r\nimport Comment from \"../widgets/comment\"\r\nexport default function FullScreen(props){\r\n    const songObj = useContext(songContext)\r\n    const [progVal, setProgVal] = useState(0)\r\n    const [value, setValue] = useState(0)\r\n    const [anime, setAnime] = useState(\"open\")\r\n    function seek(e)\r\n    {\r\n        const percent = e.target.value;\r\n        setProgVal(percent)\r\n        setValue(percent)\r\n        songObj.audio.currentTime = (percent/100)*songObj.audio.duration;\r\n    }\r\n    useEffect(()=>{\r\n        songObj.audio.addEventListener(\"timeupdate\", (e)=>{\r\n            const duration = (songObj.audio.currentTime/songObj.audio.duration)*100\r\n            setProgVal(duration)\r\n            setValue(duration)\r\n        })\r\n    }, [])\r\n    function next(){\r\n        const nextSong = songObj.getNextSong()\r\n        if(nextSong)\r\n        {\r\n          songObj.playSong(nextSong)\r\n        }\r\n      }\r\n      \r\n      function previous(){\r\n        const previousSong = songObj.getPreviousSong()\r\n        if(previousSong)\r\n        {\r\n          songObj.playSong(previousSong)\r\n        }\r\n      }\r\n    return (\r\n        <section id = \"fullscreen\" className = {\"fullscreen-\"+anime}>\r\n            <div className = \"fullscreen-box\" style = {{backgroundImage: `url('${songObj.getCurrentSong()?.src.imageURL.scale768}')`}}>\r\n                <div className = \"fullscreen-container\">\r\n                    <div className = \"fullscreen-header\">\r\n                        <div className = \"fullscreen-button go-back\" onClick = {()=>{\r\n                            setAnime(\"close\")\r\n                            props.setFullScreen(\"\")\r\n                            setTimeout(()=>{\r\n                                props.setIsHidden(true)\r\n                            }, 150)\r\n                            }\r\n                            }>\r\n                            <span className = \"material-icons\">\r\n                                arrow_back_ios\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"fullscreen-main\" >\r\n                        <div className = \"fullscreen-btns\">\r\n                            <div className =\"fullscreen-prevBtn\" onClick = {previous}>\r\n                                <span className = \"material-icons\">\r\n                                    skip_previous\r\n                                </span>\r\n                            </div>\r\n                            <div className = \"fullscreen-playBtn\">\r\n                            {\r\n                                        songObj.audio.paused? \r\n                                        <span onClick = {()=>songObj.play()}  className = \"material-icons\">play_arrow</span>\r\n                                        :\r\n                                        <span onClick = {()=>{songObj.stop()}} className = \"material-icons\">pause</span>\r\n                                    }\r\n                            </div>\r\n                            <div className =\"fullscreen-nextBtn\" onClick = {next}>\r\n                                <span className = \"material-icons\">\r\n                                    skip_next\r\n                                </span>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        \r\n                    </div>\r\n                    <div className = \"fullscreen-footer\">\r\n                        <div className = \"fullscreen-track-progress\">\r\n                            <div className =\"fullscreen-track-progress-holder\">\r\n                                <div className = \"fullscreen-track-progress-meter\" style = {{width: progVal + \"%\"}}/>\r\n                                <input  id = \"fullscreen-meter\" type = \"range\" onChange = {seek} value = {value}/>\r\n                            </div>\r\n                            <div className = \"fullscreen-track-progress-time\">\r\n                                <span>{songObj.getCurrentTime()}</span>\r\n                                <span className = \"fullscreen-track-progress-duration\">{songObj.getDuration()}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className = \"fullscreen-footer-buttons\">\r\n                            <div className = \"fullscreen-footer-buttons-container\">\r\n                                <div className = \"fullscreen-footer-buttons-icons\">\r\n                                    <Like music = {songObj.getCurrentSong()} id = \"fullscreen-like\"/>\r\n                                </div>\r\n                                <div className = \"fullscreen-footer-buttons-icons\">\r\n                                    <Comment id = \"fullscreen-comment\" />\r\n                                </div>\r\n                                <div className = \"fullscreen-footer-buttons-share\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import React from \"react\"\r\nimport { useState, useEffect, useContext } from \"react\"\r\nimport AudioPreview from \"./audioComp/audioPreview\"\r\nimport {songContext} from \"../context/songContext\"\r\nimport FullScreen from \"./pages/fullScreen\"\r\nfunction AudioPlayer(props){\r\n    const song = useContext(songContext)\r\n    const [progVal, setProgVal] = useState(0)\r\n    const [volume, setVolume]  = useState(1)\r\n    const [currentTime, setCurrentTime] = useState(song.getCurrentTime())\r\n    const [isHidden, setIsHidden] = useState(true)\r\n    const width = window.innerWidth\r\n    // useEffect(() => {\r\n    // //    setProgVal(props.progVal)\r\n    //   },[props.progVal])\r\n    useEffect(()=>{\r\n        song.audio.addEventListener(\"timeupdate\", (e)=>{\r\n            const duration = (song.audio.currentTime/song.audio.duration)*100\r\n            setCurrentTime(song.getCurrentTime())\r\n            setProgVal(duration)\r\n        })\r\n    }, [props.AudioInfo])\r\n    \r\n\r\n    function stop(e){\r\n        props.stop()\r\n    }\r\n\r\n    function play(){\r\n        props.playAudio()\r\n    }\r\n\r\n    function seek(e)\r\n    {\r\n        e.preventDefault()\r\n        const target = e.target || e.srcElement,\r\n        rect = target.getBoundingClientRect(),\r\n        offsetX = e.clientX - rect.left\r\n        const percent =offsetX / document.documentElement.offsetWidth;\r\n        console.log(percent)\r\n        song.audio.currentTime = percent * song.audio.duration * 1.9;\r\n    }\r\n\r\n    function done(e){\r\n        e.preventDefault()\r\n        const target = e.target || e.srcElement,\r\n        rect = target.getBoundingClientRect(),\r\n        offsetX = e.clientX - rect.left\r\n        const percent =offsetX / document.documentElement.offsetWidth;\r\n        console.log(percent)\r\n        song.audio.currentTime = percent * song.audio.duration * 1.9;\r\n    }\r\n\r\n\r\n   \r\n\r\n    useEffect(()=>{\r\n        song.volumeHandler(volume)\r\n    }, [volume])\r\n    \r\n\r\n    function next(){\r\n        const nextSong = song.getNextSong()\r\n        if(nextSong)\r\n        {\r\n          song.playSong(nextSong)\r\n        }\r\n      }\r\n      \r\n      function previous(){\r\n        const previousSong = song.getPreviousSong()\r\n        if(previousSong)\r\n        {\r\n          song.playSong(previousSong)\r\n        }\r\n      }\r\n      if ('mediaSession' in navigator) {\r\n        navigator.mediaSession.setActionHandler('nexttrack', next)\r\n        navigator.mediaSession.setActionHandler('previoustrack', previous);\r\n      }\r\n    \r\n\r\n    \r\n    \r\n\r\n    \r\n    return(\r\n        <div>\r\n            {isHidden?null:<FullScreen setIsHidden={setIsHidden} setFullScreen = {props.setFullScreen}/>}\r\n            <div className = {`audio-wrapper${width<500?\"-mob\":\"\"}`} >\r\n                <div className = \"audio-container\">\r\n                    <div className = \"audio-box\">\r\n                        <div className = \"audio-toggle\" onClick = {()=>{if(width<500){setIsHidden(false); props.setFullScreen(\" fullscreen\")}}}></div>\r\n                        <AudioPreview audio = {props.AudioInfo}/>\r\n                        {\r\n                            width>500?(\r\n                                <div className = \"audio_elements-container\">\r\n                            <div className = \"play_btn-container\">\r\n                                <div className = \"play-container\">\r\n                                    {\r\n                                        song.audio.paused? \r\n                                        <span onClick = {play} id = \"play_btn\" className = \"material-icons\">play_circle_outline</span>\r\n                                        :\r\n                                        <span onClick = {stop} id = \"play_btn\" className = \"material-icons\">pause_circle_outline</span>\r\n                                    }\r\n                                </div>\r\n                              \r\n                                <span className=\"material-icons\" id = \"fast_rewind\"  onClick = {previous}>\r\n                                    skip_previous\r\n                                </span>\r\n                                <span className=\"material-icons\" id = \"fast_forward\" onClick = {next}>\r\n                                    skip_next\r\n                                </span>\r\n                                \r\n                            </div>\r\n                            <div className = \"progress_div\">\r\n                                <div class = \"progress_holder\" id= \"prog_holder\"onMouseDown = {seek} onMouseUp ={done} >\r\n                                    <div id = \"progress_meter\" style = {{width: progVal + \"%\"}} ></div>\r\n                                </div>  \r\n                            </div>\r\n                            <div className = \"current\">\r\n                                <span>{currentTime}</span>\r\n                            </div>\r\n                            <div className = \"duration\">\r\n                                <span>{song.getDuration()}</span>\r\n                            </div>\r\n                            <div className = \"volume\">\r\n                                <div className = \"volume-i\">\r\n                                    <span class=\"material-icons\">\r\n                                        volume_up\r\n                                    </span>\r\n                                </div>\r\n                                <div className = \"volume_slider\">\r\n                                    <input type = \"range\" onChange = {(event)=>setVolume(event.target.value/100)} value = {volume*100}/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        ): (\r\n                           <PlayerMob />\r\n                        )\r\n                        }\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n            \r\n    )\r\n}\r\n\r\nfunction PlayerMob(){\r\n    const song = useContext(songContext)\r\n\r\n    return(\r\n        <div className = \"play-container-mob\" >\r\n           \r\n    {\r\n\r\n        song.audio.paused? \r\n        <span onClick = {()=>song.play()} id = \"play_btn\" className = \"material-icons\">play_circle_outline</span>\r\n        :\r\n        <span onClick = {()=>song.stop()} id = \"play_btn\" className = \"material-icons\">pause_circle_outline</span>\r\n    }\r\n</div>\r\n    )\r\n}\r\n\r\nexport default AudioPlayer","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nfunction NavDiv1()\r\n{\r\n    return(\r\n            <div className = \"nav-div1\">\r\n                <span className = \"nav-heading\">Navigation</span>\r\n                <ul>\r\n                    <NavLink to=\"/\" exact activeClassName=\"btn-active\">\r\n                        <li className=\"btn\">\r\n                            <span class=\"material-icons\">\r\n                                home\r\n                            </span>\r\n                            <p>Home</p>\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/explore\">\r\n                        <li className=\"btn\" >\r\n                            <span class=\"material-icons\">\r\n                                explore\r\n                            </span>\r\n                            <p>explore</p>\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/upload\" exact activeClassName=\"btn-active\">\r\n                        <li className=\"btn\" >\r\n                            <span class=\"material-icons md-dark md-inactive\">\r\n                                upload\r\n                            </span>\r\n                            <p>upload</p>\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/account/edit\" exact activeClassName=\"btn-active\">\r\n                        <li className=\"btn\" id=\"ab\">\r\n                            <span class=\"material-icons\">\r\n                                perm_identity\r\n                            </span>\r\n                            <p>edit</p>\r\n                        </li>\r\n                    </NavLink>\r\n                   \r\n                </ul>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default NavDiv1","import React, {useState, useEffect} from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {uidContext} from \"../../context/uid\"\r\nimport {MoosaxAuth} from \"../functions/moosax-auth.js\"\r\nfunction NavDiv2()\r\n{\r\n    const auth = new MoosaxAuth()\r\n    const [uid, setUid] = useState()\r\n    useEffect(()=>{\r\n        auth.getUserId().then((uid)=>{\r\n            setUid(uid)\r\n        })\r\n    }, [])\r\n    return(\r\n            <div className = \"nav-div2\">\r\n                <span className = \"nav-heading\">Library</span>\r\n                <ul>\r\n                    <NavLink to=\"/history\" exact activeClassName=\"btn-active\">\r\n                        <li className=\"btn\">\r\n                            <span class=\"material-icons\">\r\n                                history\r\n                            </span>\r\n                            <p>history</p>\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/liked\" exact activeClassName=\"btn-active\">\r\n                        <li className=\"btn\" >\r\n                            <span class=\"material-icons\">\r\n                                favorite\r\n                            </span>\r\n                            <p>Liked</p>\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to={\"/u/\"+uid+\"/music\"} exact activeClassName=\"btn-active\">\r\n                        <li className=\"btn\" >\r\n                            <span class=\"material-icons md-dark md-inactive\">\r\n                                album\r\n                            </span>\r\n                            <p>Your Music</p>\r\n                        </li>\r\n                    </NavLink>\r\n                </ul>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default NavDiv2","import React, {useState, useEffect} from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nfunction NavDivMob()\r\n{\r\n    \r\n    return(\r\n            <div className = \"nav-div-mob\">\r\n                <ul>\r\n                    <NavLink to=\"/\" exact activeClassName=\"btn-active-mob\">\r\n                        <li className=\"btn\">\r\n                            <div className = \"nav-btn-container\">\r\n                                <span className=\"material-icons\">\r\n                                    home\r\n                                </span>\r\n                            </div>\r\n                           \r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/explore\" exact activeClassName=\"btn-active-mob\">\r\n                        \r\n                            <li className=\"btn\" >\r\n                                <div className = \"nav-btn-container\"> \r\n                                    <span className=\"material-icons\">\r\n                                        explore\r\n                                    </span>\r\n                                </div>\r\n                            </li>\r\n                       \r\n                       \r\n                    </NavLink>\r\n                    <NavLink to={\"/upload\"} exact activeClassName=\"btn-active-mob\">\r\n                            <li className=\"btn\" >\r\n                                <div className = \"nav-btn-container\"> \r\n                                    <span className=\"material-icons\">\r\n                                        upload\r\n                                    </span>\r\n                                </div>\r\n                            </li>\r\n                    </NavLink>\r\n                    <NavLink to={\"/library\"} exact activeClassName=\"btn-active-mob\">\r\n                            <li className=\"btn\" >\r\n                                <div className = \"nav-btn-container\"> \r\n                                    <span className=\"material-icons\">\r\n                                        library_music\r\n                                    </span>\r\n                                </div>\r\n                            </li>\r\n                    </NavLink>\r\n                </ul>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default NavDivMob","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport firebase from \"firebase\"\r\nimport NavDiv1 from \"./nav-comp/navDiv1\"\r\nimport NavDiv2 from \"./nav-comp/navDiv2\"\r\nimport { useHistory } from 'react-router-dom';\r\nimport {MoosaxAuth} from \"./functions/moosax-auth.js\"\r\nimport NavDivMob from \"./nav-comp/navDivMob\";\r\n\r\n\r\n\r\nfunction NavDiv(){\r\n    const width = window.innerWidth\r\n    if(width>400){\r\n        return (\r\n            <Fragment>\r\n                <NavDiv1 />\r\n                <NavDiv2 />\r\n            </Fragment>   \r\n        )\r\n    }else{\r\n        return <NavDivMob />\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction Nav() {\r\n    const width = window.innerWidth\r\n    const history = useHistory()\r\n    const auth = new MoosaxAuth()\r\n    const [uid, setUid] = useState()\r\n    useEffect(()=>{\r\n        auth.getUserId().then((uid)=>{\r\n            setUid(uid)\r\n        })\r\n    }, [])\r\n    const signout = () =>{\r\n        auth.signOut().then((res)=>{\r\n            console.log(res)\r\n            history.push(\"/login\")\r\n        })\r\n    }\r\n\r\n    if(width< 500){\r\n        return (\r\n            <div id=\"nav-mob\">\r\n                <nav className = \"mob\">\r\n                        <div className = \"main-nav-mob\">\r\n                            <NavDivMob />\r\n                        </div>\r\n                </nav>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    else{\r\n        return (\r\n            <div id=\"nav\">\r\n                <nav>\r\n                    <div className = \"nav-heading\">\r\n                        <h2>Moosax</h2>\r\n                    </div>\r\n                        <div className = \"main-nav\">\r\n                            <NavDiv1 />\r\n                            <NavDiv2 />\r\n                            <div className = \"line\" id = \"nav-line\"/>\r\n                        </div>\r\n                        <div className=\"signout\" onClick={signout}>\r\n                            <span className=\"material-icons\">\r\n                                login\r\n                            </span>\r\n                            <p>signout</p>\r\n                        </div>\r\n                </nav>\r\n            </div>\r\n        )\r\n    }\r\n   \r\n}\r\nexport default Nav","import React from \"react\";\r\nfunction about(props){\r\n    console.log(props)\r\n    return(\r\n        <>\r\n    \r\n        <div id = \"about\" className = \"main\">\r\n            <div className = \"headingCont\">\r\n                <h1>This is About</h1>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default about;","import React, { useContext, useEffect, useState } from \"react\";\r\nimport {songContext} from \"../context/songContext\"\r\nimport {useComponentVisible} from \"./functions/useComponentVisible\"\r\nimport \"../styles/threedots.css\"\r\n\r\nfunction ThreeDots(props)\r\n{\r\n    const {\r\n        ref,\r\n        isComponentVisible,\r\n        setIsComponentVisible\r\n    } = useComponentVisible(false);\r\n\r\n    const song = useContext(songContext)\r\n    const [show, setShow] = useState(false)\r\n    const [qued, setQued] = useState(song.isQued(props.song))\r\n    \r\n    function que()\r\n    {\r\n        song.loadSongs(props.song)\r\n        setQued(true)\r\n    }\r\n    function remove()\r\n    {\r\n        song.removeSongs(props.song)\r\n        setQued(false)\r\n    }\r\n\r\n   \r\n    return(\r\n        <div id = \"three-dot\" >\r\n            <div className = \"three-dot-container\"ref = {ref}  onClick = {()=>{\r\n               setIsComponentVisible(!isComponentVisible)\r\n                console.log(isComponentVisible)\r\n                }}>\r\n                <div className = \"dot-icon\">\r\n                    <span class=\"material-icons\" >\r\n                        more_horiz\r\n                    </span>\r\n                </div>\r\n                    {isComponentVisible && (\r\n                    <Options song = {props.song} que = {que} remove = {remove} qued= {qued} \r\n                    />)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Options(props)\r\n{\r\n    \r\n    return(\r\n        <div id = \"dot-option\">\r\n            <div className = \"dot-option-container\">\r\n                <div className = \"dot-option-box\">\r\n                    <div className  = \"dot-option-content\">\r\n                        {\r\n                           props.qued?\r\n                            <div className = \"add-que\" onClick = {()=>{\r\n                                props.remove()\r\n                               \r\n                            }}>\r\n                                <i class=\"material-icons\">\r\n                                    queue_music\r\n                                </i> \r\n                                <span >remove que</span>\r\n                            </div>\r\n                            :\r\n                            <div className = \"add-que\" onClick = {()=>{\r\n                                props.que()\r\n                            }}>\r\n                                <i class=\"material-icons\">\r\n                                    queue_music\r\n                                </i> \r\n                                <span >que</span>\r\n                            </div>   \r\n                        }\r\n                        <div className = \"share\">\r\n                            <i class=\"material-icons\">\r\n                                reply\r\n                            </i>\r\n                            <span>share</span>\r\n                        </div>\r\n                        <div className = \"report\">\r\n                        <i class=\"material-icons\">\r\n                            flag\r\n                        </i>\r\n                            <span>report</span>\r\n                        </div>\r\n                        <div className = \"cancel\">\r\n                            <i class=\"material-icons\">\r\n                                close\r\n                            </i>\r\n                            <span>cancel</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ThreeDots","import React, { useEffect, useRef } from \"react\";\r\n\r\nimport {songContext} from \"../../context/songContext\"\r\nimport { useState, useContext } from \"react\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Like from \"./like\"\r\nimport {MoosaxAuth} from \"../functions/moosax-auth.js\"\r\nimport ThreeDots from \"../threedots\"\r\nimport Moosix from \"../functions/mossix-api.js\";\r\nfunction MusicPreview(props){\r\n    const app = new Moosix()\r\n    const auth = new MoosaxAuth()\r\n    const [btn_hidden, setBtn_hidden] = useState(true)\r\n    const [show, setShow] = useState(true)\r\n    const song = useContext(songContext)\r\n    const name = props.name;\r\n    const [currentUserName, setCurrrentUserName] = useState()\r\n    const tracks = props.load \r\n    // useEffect(()=>{\r\n    //     auth.getUserId((id)=>app.getUserData(id).then(data=>setCurrrentUserName(data.public.profile.info.name)))\r\n    // }, [])\r\n    useEffect(()=>{\r\n        if(song.audio.src != name.src.aduioURL || song.audio.paused){\r\n            setBtn_hidden(true)\r\n        }\r\n       \r\n        if(song.audio.src == name.src.aduioURL && !song.audio.paused){\r\n            setBtn_hidden(false)//false == not played\r\n        }\r\n    }, [song.audio.src, name.src.aduioURL, song.audio.paused])\r\n\r\n    function play(event){\r\n        setBtn_hidden(false)\r\n        props.play(name)\r\n        song.loadSongs(tracks, \"playlist\")\r\n    }\r\n    function stop(event){\r\n        setBtn_hidden(true)\r\n        props.stop(event)\r\n    }\r\n    \r\n    return(\r\n         <div className = \"music-preview-box\" onMouseOut = {()=>setShow(false)} tabIndex = {props.index + 1}>\r\n            \r\n            <NavLink to = {`/listen?m=${name.info.songID}`}>\r\n                <img className = \"user-musics-content\" src ={ name.src.imageURL.scale200 || name.src.imageURL } loading = \"lazy\"/>\r\n            </NavLink>\r\n           <div  className = \"-button\">\r\n                    {btn_hidden?\r\n                    <i className=\"material-icons\"onClick = {play} value = {name.info.title} id = \"play_hover\">\r\n                        play_arrow\r\n                    </i>:\r\n                    <i onClick = {stop} className = \"material-icons\">pause</i>\r\n                    }\r\n                    \r\n            </div>\r\n            <ThreeDots song = {name} show = {show}/>  \r\n            <div id = \"user-song-info\">\r\n            <div class = \"user-song-title\">\r\n                    <span>{name.info.artist} - {name.info.title}</span>\r\n            </div> \r\n                <div class = \"user-song-user\">\r\n                    <div class = \"mini-pfp\">\r\n                        <img src = {props.pfp} />\r\n                    </div>\r\n                    <NavLink to ={\"/u/\"+name.info.userID+\"/music\"}><span>{name.uploader.info.name}</span></NavLink>\r\n                </div>\r\n\r\n                <div className = \"stats\">\r\n                    <div class = \"views\">\r\n                        <i class=\"material-icons\">\r\n                            play_arrow\r\n                        </i>\r\n                        <span>{name.stats.views}</span>\r\n                    </div>\r\n                    <Like name = {name.info.title} uID = {name.info.userID} userName = {currentUserName} music = {name}/>\r\n                </div>\r\n                \r\n            </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default MusicPreview\r\n","import React, { Children,  useState}  from 'react';\r\n\r\nlet sliderVal2 = 0;\r\nexport default function SliderContainer(props){\r\n    const name = props.name\r\n    const [slider2, setSlider2] = useState(sliderVal2)\r\n    return(\r\n        \r\n        <div id={`${name}-container`}   className=\"home-music-container \">\r\n            <div className=\"musics-texts\">\r\n                <div className=\"musics-title\">\r\n                    <h4>{props.h4}</h4>\r\n                </div>\r\n                <div className=\"musics-subtext\">\r\n                    <span>{props.context}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className = \"line\" />\r\n            <div className = \"preview-box-scroll\">\r\n                <div className=\"preview-box-container\" id = {`${name}-box-container`} style = {{ transform: `translate(${slider2}px, ${0}px)` }}>\r\n                {props.children}\r\n                </div>\r\n            </div>\r\n            \r\n            <div className = \"content-slider\">\r\n                    <div  id = \"next\" className = \"slider\" onClick = {()=>{\r\n                    sliderVal2 -= 225;\r\n                    setSlider2(sliderVal2) \r\n                    }}>\r\n                        <span className=\"material-icons\">\r\n                            keyboard_arrow_right\r\n                        </span>\r\n                    </div>\r\n\r\n                    <div id = \"previous\" className = \"slider\" onClick = {()=>{\r\n                        sliderVal2= sliderVal2 + 225;\r\n                        console.log(sliderVal2)\r\n                        setSlider2(sliderVal2) \r\n                    }}>\r\n                        <span className=\"material-icons\">\r\n                            keyboard_arrow_left\r\n                        </span>\r\n                </div>\r\n                \r\n            </div>\r\n\r\n    </div>\r\n    )\r\n}\r\n\r\n","import React, { Fragment, useEffect,  useState}  from 'react';\r\nimport Moosix from '../functions/mossix-api'\r\nimport MusicPreview from \"../widgets/musicPreview\";\r\nimport SliderContainer from \"./SliderContainer\"\r\nlet sliderVal1 = 0;\r\n\r\n\r\n\r\nfunction Popular(props){\r\n    const app = new Moosix()\r\n    const [popular, setPopular] = useState([]);\r\n \r\n    useEffect(()=>{\r\n        app.getPopular().then(data=>setPopular(data))\r\n    }, [])\r\n\r\n    function play(src){\r\n        props.play(src)\r\n    }\r\n\r\n    function stop(){\r\n        props.stop()\r\n    }\r\n\r\n    return(\r\n        <SliderContainer name = \"popular\" h4 = \"Popular Musics\" context = \"Popular Musics For You\">\r\n                {popular &&\r\n                    popular.map((name, i) => {\r\n                        return (\r\n                            <Fragment key={i}>\r\n                                <MusicPreview\r\n                                name={name}\r\n                                play={play}\r\n                                userName={props.userName}\r\n                                stop = {stop}\r\n                                audio = {props.audio}\r\n                                index = {0}\r\n                                load = {popular}\r\n                                />\r\n                        </Fragment>\r\n                        );\r\n                })}\r\n        </SliderContainer>\r\n\r\n               \r\n            \r\n)\r\n\r\n}\r\nexport default Popular","import React, { Fragment, useEffect, useState}  from 'react';\r\nimport MusicPreview from \"../widgets/musicPreview\";\r\nimport Moosix from '../functions/mossix-api'\r\nimport SliderContainer from \"./SliderContainer\"\r\nimport {uidContext} from \"../../context/uid\"\r\nimport {useContext} from \"react\"\r\nlet sliderVal2 = 0;\r\n\r\n\r\n\r\nfunction Recomend(props){\r\n    const uid = useContext(uidContext)\r\n    const app = new Moosix()\r\n    const [recomend, setRecomend] = useState()\r\n    const [slider2, setSlider2] = useState(sliderVal2)\r\n\r\n    useEffect(() => {\r\n        app.getRecommend(uid).then((data)=>setRecomend(data))\r\n    }, [uid]);\r\n\r\n\r\n    document.onscroll = function() {\r\n        if(document.documentElement.scrollTop + window.innerHeight == document.documentElement.scrollHeight)\r\n        {\r\n            console.log(\"scrolled\");\r\n        }\r\n    }\r\n\r\n    function play(src){\r\n        props.play(src)\r\n    }\r\n    function stop(){\r\n        props.stop()\r\n    }\r\n\r\n    return(\r\n        <SliderContainer name = \"recomend\" h4 = \"Recommended musics\" context = \"Most recomended musics for you\">\r\n            {recomend &&\r\n            recomend.map((name, i) => {\r\n                return (\r\n                    <Fragment key={i}>\r\n                        <MusicPreview\r\n                        name={name}\r\n                        play={play}\r\n                        userName={props.userName}\r\n                        stop = {stop}\r\n                        audio = {props.audio}\r\n                        index = {2}\r\n                        load = {recomend}\r\n                        />\r\n                </Fragment>\r\n                );\r\n            })}\r\n\r\n        </SliderContainer>\r\n    )\r\n} \r\n\r\n\r\nexport default Recomend","import React, { Fragment, useEffect,  useState}  from 'react';\r\nimport MusicPreview from \"../widgets/musicPreview\";\r\nimport Moosix from '../functions/mossix-api'\r\nimport SliderContainer from \"./SliderContainer\"\r\nlet sliderVal2 = 0;\r\n\r\n\r\nfunction Trending(props){\r\n    const[trending, setTrending] = useState()\r\n    const [slider2, setSlider2] = useState(sliderVal2)\r\n    const app = new Moosix()\r\n    useEffect(()=>{\r\n      app.getTrending().then(data => setTrending(data))\r\n    }, [])\r\n\r\n    function play(src){\r\n        props.play(src)\r\n    }\r\n    function stop(){\r\n        props.stop()\r\n    }\r\n\r\n    return(\r\n        \r\n        <SliderContainer name = \"trending\" h4 = \"Trending Musics\" context = \"Trending Musics For You\">\r\n                {trending &&\r\n                    trending.map((name, i) => {\r\n                        return (\r\n                        <Fragment key={i}>\r\n                            <MusicPreview\r\n                            name={name}\r\n                            play={play}\r\n                            stop = {stop}\r\n                            audio = {props.audio}\r\n                            index = {1}\r\n                            load = {trending}\r\n                            />\r\n                        </Fragment>\r\n                    );\r\n                })}\r\n        </SliderContainer>\r\n    )\r\n}\r\n\r\nexport default Trending","import React, { Fragment, useEffect, useState}  from 'react';\r\nimport MusicPreview from \"../widgets/musicPreview\";\r\nimport Moosix from '../functions/mossix-api'\r\nimport SliderContainer from \"./SliderContainer\"\r\nlet sliderVal2 = 0;\r\n\r\n\r\n\r\nfunction RecomendFollowing(props){\r\n    const app = new Moosix()\r\n    const [tracks, setTracks] = useState()\r\n    const [slider2, setSlider2] = useState(sliderVal2)\r\n    \r\n    useEffect(() => {\r\n        app.getRecommendByFollowing().then((data)=>setTracks(data))\r\n    }, []);\r\n\r\n    function play(src){\r\n        props.play(src)\r\n    }\r\n    function stop(){\r\n        props.stop()\r\n    }\r\n\r\n    return(\r\n        <SliderContainer name = \"recomend\" h4 = \"Recommended Musics By Your Followings\" context = \"Musics for you according to your following\">\r\n            {tracks &&\r\n            tracks.map((name, i) => {\r\n                return (\r\n                    <Fragment key={i}>\r\n                        <MusicPreview\r\n                        name={name}\r\n                        play={play}\r\n                        userName={props.userName}\r\n                        stop = {stop}\r\n                        audio = {props.audio}\r\n                        index = {3}\r\n                        load = {tracks}\r\n                        />\r\n                    </Fragment>\r\n                );\r\n            })}\r\n        </SliderContainer>\r\n            \r\n    )\r\n} \r\n\r\n\r\nexport default RecomendFollowing","import React, { useContext, useEffect } from \"react\";\r\n\r\nimport firebase from \"firebase\";\r\nimport Popular from \"./sub-home/Popular\"\r\nimport Notification from \"./functions/notification.js\"\r\nimport { useState } from \"react\";\r\nimport Recomend from \"./sub-home/Recomend\"\r\nimport Trending from \"./sub-home/Trending\"\r\nimport {uidContext} from \"../context/uid\"\r\nimport RecomendFollowing from \"./sub-home/RecommendFollowing\"\r\n\r\n\r\n\r\n\r\n\r\nfunction Home(props) {\r\n    let name1;\r\n   \r\n    document.title = \"Moosix\"\r\n    const uid = useContext(uidContext)\r\n    // const socket =  Notification(uid)\r\n    \r\n\r\n    // if(socket){\r\n    //     socket.on(\"notification\", data=>console.log(data))\r\n    // }\r\n    const db = firebase.database()\r\n    const [currentUserName, setCurrrentUserName] = useState();\r\n    const [progVal, setProgVal] = useState(\"0%\");\r\n    const auth = firebase.auth()\r\n    \r\n\r\n\r\n    \r\n\r\n       \r\n    \r\n    \r\n\r\n  \r\n\r\n \r\n    let duration = 0;\r\n    function play(src) {\r\n        props.play(src)\r\n    }\r\n\r\n\r\n    function stop(event) {\r\n       props.stop()\r\n    }\r\n\r\n \r\n    return (\r\n        <>\r\n            <div id=\"home\" className=\"main\">\r\n            <div className=\"music-box\" id = \"home-box\">\r\n                <div className=\"music-content-container\" id=\"home-musics\">\r\n                        <Popular play = {play} stop = {stop} userName = {currentUserName} audio = {props.audio}/>\r\n                        <Trending play = {play} stop = {stop} userName = {currentUserName} audio = {props.audio}/>\r\n                        <Recomend  play = {play} stop = {stop} userName = {currentUserName} audio = {props.audio}/>\r\n                        <RecomendFollowing play = {play} stop = {stop} userName = {currentUserName} audio = {props.audio} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\nexport default Home;\r\n","import firebase from \"firebase\";\r\nimport \"firebase/auth\"\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyBHl1g2tLiLoDJIoKaWCsrdJG_T5xaoj_E\",\r\n    authDomain: \"music-app-2a7e7.firebaseapp.com\",\r\n    databaseURL: \"https://music-app-2a7e7.firebaseio.com\",\r\n    projectId: \"music-app-2a7e7\",\r\n    storageBucket: \"music-app-2a7e7.appspot.com\",\r\n    messagingSenderId: \"4335188008\",\r\n    appId: \"1:4335188008:web:b38bfddbe8feae83dfdd1d\"\r\n  };\r\n  // Initialize Firebase\r\n  const fire = firebase.initializeApp(firebaseConfig);\r\n  export default fire;","import { NavLink } from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport firebase from \"firebase/app\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nimport \"./firebase\"\r\nimport {MoosaxAuth} from \"./functions/moosax-auth.js\"\r\nimport { useState } from \"react\"\r\n\r\nfunction Login(props){\r\n    const history = useHistory();\r\n    const auth = new MoosaxAuth()\r\n    let email;\r\n    let password;\r\n    let userName;  \r\n    const [errorMessage, setErrorMessage] = useState()\r\n    \r\n    auth.isloggedIn().then((res)=>{\r\n        if(res){\r\n            history.push(\"/\")\r\n        }\r\n            \r\n        \r\n    \r\n    })\r\n\r\n    function login(props){\r\n        console.log(\"hey\")\r\n        email = document.getElementById(\"email\").value;//gets type value of user email\r\n        password = document.getElementById(\"password\").value;//gets type value of user password\r\n        auth.login(email, password)\r\n        .then((err)=>{\r\n            \r\n            if(err){\r\n                setErrorMessage(err)\r\n            }else{\r\n                console.log(err)\r\n                history.push(\"/explore\")\r\n            }\r\n        })\r\n    }\r\n    \r\n    return(\r\n        \r\n        <div id = \"login\" className =\"main-login\">\r\n              \r\n            <div className = \"form-box\">\r\n                <div className = \"form-container\">\r\n                    <div className = \"inputHolder\">\r\n                        <div className = \"logo-form\">\r\n                            <h1>Logo</h1>\r\n                        </div>\r\n                        <div className = \"input-container\">\r\n                            \r\n                            <div className = \"email-holder\">\r\n                                <input placeholder = \"email adress\" id = \"email\"\r\n                                className = \"-input\" />\r\n                            </div>\r\n                            <div className = \"password-holder\">\r\n                                <input placeholder = \"password\"  id = \"password\" type = \"password\" className = \"-input\"/>\r\n                            </div>\r\n                            <div className = \"btn-holder\">\r\n                                <button onClick = {login}><span><b>Login</b></span></button>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div class = \"link-signup\">\r\n                        <p>{errorMessage}</p>\r\n                        <p>Havent created account? plz <NavLink to = \"./signup\"> click here</NavLink></p>   \r\n                    </div>\r\n                </div>\r\n            </div>\r\n           \r\n        </div>\r\n        \r\n    )\r\n}\r\nexport default Login;","import React from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport firebase from \"firebase/app\"\r\nimport \"./firebase\"\r\nimport Moosix from \"./functions/mossix-api\"\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\nfunction Signup(){\r\n    const app = new Moosix()\r\n    \r\n    const history = useHistory()\r\n    function signUp(){\r\n        let uEmail = document.getElementById(\"email\").value;\r\n        let uPassword = document.getElementById(\"password\").value;\r\n        let userName = document.getElementById(\"userName\").value;\r\n        async function send(email, password){\r\n            await firebase.auth().createUserWithEmailAndPassword(email, password)\r\n            const userID = firebase.auth().currentUser.uid;\r\n            const data = {\r\n                uid: userID,\r\n                private:{\r\n                    \"userName\": userName,\r\n                    \"userId\": userID,\r\n                },\r\n                public:{\r\n                    profile:{\r\n                        \"info\": {\r\n                            \"bio\": \"\",\r\n                            \"firstName\": userName,\r\n                            \"lastName\": userName,\r\n                            \"name\": userName,\r\n                            \"songs\": 0,\r\n                            \"followers\": 0,\r\n                            \"following\": 0 \r\n                        },\r\n                        \"pfp\":{\r\n                            \"url\":\"\",\r\n                            \"x\": 50,\r\n                            \"y\": 50,\r\n                            \"zoom\": 1\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            app.createAcc(data)\r\n            firebase.database().ref(\"users/\"+userID+\"/private/login credentials\").set({\r\n                \"userName\": userName,\r\n                \"userId\": userID,\r\n                \"userLog\": true\r\n            })\r\n            firebase.database().ref(\"users/\"+userID+\"/public/profile\").set({\r\n            \"info\": {\r\n                \"bio\": \"\",\r\n                \"firstName\": userName,\r\n                \"lastName\": userName,\r\n                \"name\": userName\r\n            },\r\n            \"pfp\":{\r\n                \"url\":\"\",\r\n                \"x\": 50,\r\n                \"y\": 50,\r\n                \"zoom\": 1\r\n            }\r\n            })\r\n            history.push(\"./login\")\r\n        }\r\n        send(uEmail, uPassword);\r\n    }\r\n    return(\r\n        <div id = \"signUp\" className = \"main-login\">\r\n            <div className = \"form-box\">\r\n                <div className = \"form-container\">\r\n                    <div class = \"logo-form\">\r\n                        <h1>Logo</h1>\r\n                    </div>\r\n                    <div className = \"input-container\">\r\n                        <div className = \"email-holder\">\r\n                            <input id = \"email\" placeholder = \"email\" className = \"-input\"/>\r\n                        </div>\r\n                        <div className = \"password-holder\">\r\n                            <input id = \"password\" placeholder = \"password\" className= \"-input\" type = \"password\"/>\r\n                        </div>\r\n                        <div className = \"username-holder\">\r\n                            <input id = \"userName\" placeholder = \"username\" className = \"-input\"/>\r\n                        </div>\r\n                        \r\n                        <div class = \"btn-holder\">\r\n                            <button onClick = {signUp}>Next</button>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div class=\"link-signup\">\r\n                        <p>Already have an account? plz <NavLink to = \"./login\"> click here</NavLink></p>   \r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n               \r\n        </div>\r\n    )\r\n}\r\nexport default Signup","import React, { useEffect, useState } from \"react\";\r\nimport Compress from \"compress.js\"\r\nimport Moosix from \"./functions/mossix-api.js\"\r\nimport {useHistory, Redirect, Switch, Route} from \"react-router-dom\"\r\nlet image;\r\nlet file\r\nlet history;\r\nconst app = new Moosix()\r\n\r\nfunction Upload(){\r\n\r\n    history = useHistory()\r\n    function fileUpload(){\r\n        file = document.getElementById(\"actual-btn\").files[0]\r\n        //document.getElementById(\"uc\").style.display = \"hidden\";\r\n        history.push(\"/upload/info\")\r\n        return (\r\n            <Redirect to = \"/upload/info\" />\r\n        )\r\n      \r\n    }\r\n    useEffect(()=>{\r\n        \r\n    }, [])\r\n   \r\n\r\n    return(\r\n        <>  \r\n                    <Switch>\r\n                        <Route  exact path = \"/upload\" >\r\n                        <div className = \"main\" id = \"upload-main\">\r\n                        <div className = \"upload-container\" id = \"uc\">\r\n                            <div className = \"upload-box\"  onDrop = {fileUpload}>\r\n                                <div className = \"upload-main\">\r\n                                    <h2>Choose a song you want to upload</h2>\r\n                                    <div className = \"upload-button\">\r\n                                        <input type = \"file\" id =\"actual-btn\" hidden onChange = {fileUpload} accept = \"audio/wav, audio/mp3\"></input>\r\n                                        <label for=\"actual-btn\"><span>Upload file</span></label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                        </Route>\r\n                        <Route  exact path = {\"/upload/info\"} exact component = {Edit}/>\r\n                    </Switch>\r\n             \r\n     \r\n        </>\r\n    )\r\n}\r\n\r\nfunction Edit(){\r\n  \r\n    const [imagePreview, setImagePreview] = useState()\r\n    function saveFile(event){\r\n        console.log(event)\r\n        event.target.disabled = true;\r\n        let title = document.getElementById(\"title\").value;\r\n        let artist = document.getElementById(\"artist\").value;\r\n        let genre = document.getElementById(\"genre\").value;\r\n        let description = document.getElementById(\"description\").value;\r\n        let tags = document.getElementById(\"tags\").value;\r\n        let publicRad = document.getElementById(\"publicRad\").checked;\r\n        \r\n        //let privateRad = document.getElementById(\"privateRad\").checked;\r\n        \r\n        if( title.indexOf(\".\") > -1 || title.indexOf(\"#\") > -1 || title.indexOf(\"/\") > -1 || title.indexOf(\"[\") > -1 || title.indexOf(\"]\") > -1){\r\n            console.log(\"cannot use special charecter\")\r\n        }else{\r\n            if (publicRad === true){\r\n                const data= {\r\n                    title,\r\n                    artist,\r\n                    genre,\r\n                    description,\r\n                    tags,\r\n                    image,\r\n                    file\r\n                }\r\n                app.upload(data).then(()=>history.push(\"/\"))\r\n            }else{\r\n                \r\n            }     \r\n        }        \r\n    }\r\n    function Cancel(){\r\n        history.push(\"/\")\r\n    }\r\n\r\n\r\n    function blobToFile(theBlob, fileName){\r\n        //A Blob() is almost a File() - it's just missing the two properties below which we will add\r\n        theBlob.lastModifiedDate = new Date();\r\n        theBlob.name = fileName;\r\n        return theBlob;\r\n    }\r\n\r\n\r\n    async function imageUpload(event){\r\n        const compress = new Compress()\r\n        image = event.target.files;\r\n        \r\n        setImagePreview(URL.createObjectURL(image[0]))\r\n    }\r\n    return(\r\n        <div className = \"edit-upload\">\r\n        <div className = \"edit-upload-box\">\r\n            <div className = \"edit-upload-main\">\r\n                <div className = \"pic-wrapper\">\r\n                    <div className = \"pic-holder\">\r\n                        <img src = {imagePreview} width = \"260\" height = \"260\" alt=\"aimge-preview\" id = \"prev\"></img>\r\n                    </div>\r\n                    <div className = \"album-cover\">\r\n                        <input type = \"file\" id =\"album-btn\" hidden onChange = {imageUpload} accept = \"image/jpeg, image/png\"></input>\r\n                        <label for=\"album-btn\"><span>Upload image</span></label>\r\n                    </div>\r\n                </div>\r\n                <div className = \"song-form\">\r\n                    <div className = \"song-title\">\r\n                        <span>Title</span>\r\n                        <div className = \"input-title\">\r\n                            <input id = \"title\" placeholder = \"Name of your song...\" className = \"-input-form\" defaultValue = {file.name} autoComplete = \"off\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"artist\">\r\n                        <span>Artist</span>\r\n                        <div className = \"input-artist\">\r\n                            <input id = \"artist\" placeholder = \"Name of the artist...\" className = \"-input-form\" autoComplete = \"off\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"Genre\">\r\n                        <span>Genre</span>\r\n                        <div className = \"input-gerne\">\r\n                            <input id = \"genre\" placeholder = \"Name of your genre...\" className = \"-input-form\" autoComplete = \"off\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"Description\">\r\n                        <span>Description</span>\r\n                        <div className = \"input-gerne\">\r\n                            <input id = \"description\" placeholder = \"Describe your track..\" className = \"-input-form\" autoComplete = \"off\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"Tags\">\r\n                        <span>Tags</span>\r\n                        <div className = \"input-tags\">\r\n                            <input id = \"tags\" placeholder = \"add tags\" className = \"-input-form\"  autoComplete = \"off\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"privateOpt\">\r\n                        <span>Privacy?:</span>\r\n                        <div className = \"input-privacy\">\r\n                            <div className = \"public\">\r\n                                <input type = \"radio\" id = \"publicRad\" name = \"radio1\" value = \"public\" />\r\n                                <label for = \"publicRad\">Public</label> \r\n                            </div>\r\n                            <div className = \"private\">\r\n                                <input type = \"radio\" id = \"privateRad\" name = \"radio1\" value = \"private\" />\r\n                                <label for = \"privateRad\">Private</label> \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"save-cancel\">\r\n                        <div className = \"cancel\">\r\n                            <button onClick = {Cancel}>Cancel</button>\r\n                        </div>\r\n                        <div className = \"save\">\r\n                            <button onClick = {saveFile}>Save</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n               \r\n            </div>\r\n         </div>\r\n     </div>\r\n    )\r\n    \r\n}\r\nexport default Upload","import React, {useEffect, useState} from \"react\"\r\nimport \"./styles/followBtn.css\"\r\nimport Moosix from \"../functions/mossix-api\"\r\n\r\nfunction FollowBtn({uid, following})\r\n{\r\n    const [isFollowing, setIsFollowing] = useState()\r\n    const app = new Moosix;\r\n    useEffect(()=>{\r\n        setIsFollowing(following)\r\n    }, [following])\r\n    return(\r\n        <div id = \"follow-btn\">\r\n            <div className = {isFollowing?\"follow-btn-box-active\":\"follow-btn-box-inactive\"} id = \"follow-btn-box\">\r\n                <div className = \"follow-btn-container\">\r\n                    <div className = \"follow-btn-letter\" onClick = {()=>{\r\n                        app.follow(uid)\r\n                        setIsFollowing(!isFollowing)\r\n                        }}>\r\n                        {\r\n                            isFollowing?<span>Following</span>:<span>Follow</span>\r\n                        }\r\n                    </div>\r\n                    <div className = \"follow-btn-icon\">\r\n                        {\r\n                            isFollowing?<span class=\"material-icons\">done</span>:<span class=\"material-icons\">add</span>\r\n                        }\r\n                        \r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FollowBtn","import React, { useContext } from \"react\";\r\nimport \"./style.css\"\r\nimport {songContext} from \"../../context/songContext\"\r\nimport ThreeDots from \"../threedots\"\r\nfunction MusicCard(props){\r\n    const song = useContext(songContext)\r\n    const track = props.track\r\n    return(\r\n        <div id = \"music-card\">\r\n            <div className = \"music-card-box\">\r\n                <div className = \"music-card-container\">\r\n                    <div id = \"music-card-cover\">\r\n                        \r\n                        <div className = \"album-cover\">\r\n                            <span\r\n                            style = {{ backgroundImage: `url(\"${track.src.imageURL}\")` }} \r\n                            ></span>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    {\r\n                        !song.isPlaying(track)\r\n                        ?\r\n                        <div className = \"play-btn\" onClick = {()=>{song.playSong(track); song.loadSongs(props.load, \"playlist\")}}>\r\n                        <span className = \"material-icons\">\r\n                            play_arrow\r\n                        </span>\r\n                        </div>\r\n                    :\r\n                    <div className = \"play-btn\" onClick = {()=>song.stop()}>\r\n                    <span className = \"material-icons\">\r\n                        pause\r\n                    </span>\r\n                    </div>\r\n                    }\r\n                        \r\n                    <div className = \"music-card-info-container\">\r\n                        <div className = \"music-card-left\">\r\n                            <div className = \"music-card-title\">\r\n                                <h5>{track.info.title}</h5>\r\n                            </div>\r\n                        </div>\r\n                        <div className = \"music-card-middle\">\r\n                            <div className = \"music-card-uploader\">\r\n                                    <span>{track.uploader.info.name}</span>\r\n                            </div>\r\n                            <div className = \"music-card-genre\">\r\n                                    <span>{track.info.genre}</span>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        \r\n                        <div className = \"music-card-bottom\">\r\n                            <div className = \"music-card-buttons-container\">\r\n                                <div className = \"music-card-share\">\r\n                                   \r\n                                </div>\r\n                                <div className = \"music-card-views\">\r\n                                    \r\n                                </div>\r\n                                <div className = \"music-card-comments\">\r\n                                    \r\n                                </div>\r\n                                <div className = \"music-card-like\">\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <ThreeDots song = {track} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MusicCard","import React, { Fragment,  } from \"react\";\r\nimport MusicPreview from \"./widgets/musicPreview\"\r\nimport MusicCard from \"./musicCard2/musicCard2\"\r\nimport { useLocation } from 'react-router-dom'\r\nfunction MusicContent(props){\r\n    let musics = props.musics;\r\n    let uID = props.uID;\r\n    let currentUserName = props.userName\r\n    let pfp = props.pfp\r\n    let user = props.user\r\n    function play(src){\r\n        props.play(src)\r\n    }\r\n    function stop(){\r\n        console.log(\"yes stop\")\r\n        props.stop()\r\n    }\r\n\r\n    const query = useQuery();\r\n    function useQuery() {\r\n        return new URLSearchParams(useLocation().search);\r\n    }\r\n    const view_mode = query.get(\"view\")\r\n   \r\n    return(\r\n        <div className = \"music-box\" id = \"music-box-userPage\">\r\n                <div className = \"music-content-container\">\r\n                        <div className = \"user-musics\">\r\n                                {musics && musics.map((name, i)=>{   \r\n                                    return(\r\n                                        <Fragment key = {i}>\r\n                                            {\r\n                                                view_mode === \"list\"?<MusicCard track = {name} load = {musics}/>\r\n                                                :\r\n                                                <MusicPreview \r\n                                                load = {musics}\r\n                                                name = {name} \r\n                                                play = {play} \r\n                                                uID = {uID} \r\n                                                userName = {currentUserName} \r\n                                                pfp= {pfp} \r\n                                                user = {user}\r\n                                                stop = {stop}\r\n                                                audio = {props.audio}\r\n                                            />\r\n                                        \r\n                                            }\r\n                                               \r\n                                                \r\n                                        </Fragment>\r\n                                        \r\n                                    )\r\n                                })}\r\n                        </div>\r\n                    </div>\r\n                </div>  \r\n    )\r\n}\r\n\r\nexport default MusicContent","import React, { useEffect } from \"react\";\r\nimport {Helmet} from \"react-helmet\";\r\nimport FollowBtn from \"./sub-com/followBtn\"\r\nimport { useState } from \"react\"\r\nimport { Route } from \"react-router-dom\";\r\nimport {MoosaxAuth} from \"./functions/moosax-auth.js\"\r\nimport MusicContent from \"./musicContent\"\r\nimport { Switch } from 'react-router-dom';\r\nimport Moosix from \"./functions/mossix-api\"\r\nconst app = new Moosix()\r\nconst Music = (props) => {\r\n    const auth = new MoosaxAuth()\r\n    const [x, setX] = useState()\r\n    const [y, setY] = useState()\r\n    const [zoom, setZoom] = useState()\r\n    const [user_data, setUser_data] = useState()\r\n    const [musics, setMusics] = useState([])\r\n    const [user, setUser] = useState(null)\r\n    const [pfp, setPfp] = useState(null)\r\n    const[bio, setBio] = useState(null)\r\n    const [currentUserName, setCurrrentUserName] = useState()\r\n    const { params: { uID } } = props.match;\r\n    //profile pictures and all\r\n  \r\n    useEffect(() => {\r\n        app.getUserData(uID).then((data)=>{\r\n            setUser_data(data)\r\n            setMusics(data.tracks)\r\n        })\r\n    }, [uID])\r\n    useEffect(()=>{\r\n            if(user_data){\r\n                setBio(user_data.public.profile.info.bio)\r\n                setCurrrentUserName(user_data.public.profile.info.name)\r\n                setUser(user_data.public.profile.info.name)\r\n                setPfp(user_data.public.profile.pfp.url)\r\n                setX(user_data.public.profile.pfp.x)\r\n                setY(user_data.public.profile.pfp.y)\r\n                setZoom(user_data.public.profile.pfp.zoom)\r\n            }\r\n    }, [user_data])\r\n    \r\n\r\n    //stores musics data in array for rendering\r\n\r\n\r\n    //play function no bbugs here\r\n    function play(src) {\r\n        console.log(props)\r\n        props.play(src)\r\n     }\r\n  \r\n    //no bugs here\r\n   \r\n\r\n    //no bugs here\r\n    function stop() {\r\n        props.stop()\r\n    }\r\n  \r\n    \r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <title>{user && user+\"  Moosax\"}</title>\r\n            </Helmet>\r\n\r\n            <div id=\"profile\" className=\"main\">\r\n                <div className=\"top-profile-container\">\r\n                    <div className = \"profile-info-container\">\r\n                        <div className=\"cover-pic\" style = {{backgroundImage: `linear-gradient(to bottom, rgba(0, 0, 0, 0), var(--dark-secondary)), url(\"${pfp}\")`}}>\r\n                        \r\n                        </div>\r\n                        <div className = \"user-head-container\">\r\n                            <div className = \"user-info\">\r\n                                <div className = \"user-info-header\">\r\n                                    <div className=\"user-name\">\r\n                                        <h1>{user}</h1>\r\n                                    </div>\r\n                                    <FollowBtn uid = {uID} following = {user_data?.isFollowing || false}/>\r\n                                </div>\r\n                               <div className = \"user-info-middle\">\r\n                                    <div className = \"user-bio\">\r\n                                        <span>{bio}</span>\r\n                                    </div>\r\n                               </div>\r\n                               <div className = \"user-info-footer\">\r\n\r\n                               </div>\r\n\r\n                                \r\n                            </div>  \r\n                        </div>\r\n                        \r\n                       \r\n                    </div>\r\n                    <div className=\"pfp\">\r\n                            <div className = \"pfp-container\">\r\n                                <pfp className = \"pfp-box\">\r\n                                    <img \r\n                                    src={pfp}  \r\n                                    style = \r\n                                    {{\r\n                                        transform: `translate(${x-50}px, ${y-50}px) scale(${(parseInt(zoom)/100) + 1 })`,     \r\n                                    }}\r\n                                    />\r\n                                </pfp>\r\n                            </div>\r\n                    </div>\r\n                   \r\n                </div>\r\n                \r\n                <Switch>\r\n                    <Route exact path={\"/u/\" + uID + \"/music\"}>\r\n                        <MusicContent\r\n                            musics={musics}\r\n                            play={play}\r\n                            uID={uID}\r\n                            pfp={pfp}\r\n                            user={user}\r\n                            stop = {stop}\r\n                            audio = {props.audio}\r\n                        />\r\n                    </Route>\r\n                    <Route exact path={\"/u/\" + uID + \"/playlist\"}>\r\n                    </Route>\r\n                </Switch>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Music\r\n\r\n\r\n\r\n/* <div class=\"tabsContainer\">\r\n                        <div class=\"tabs-holder\">\r\n                            <NavLink to={\"/u/\" + uID + \"/music\"} activeClassName=\"Music-Nav-Active\">\r\n                                <button><span>Music</span></button>\r\n                            </NavLink>\r\n                            <NavLink to={\"/u/\" + uID + \"/playlist\"} activeClassName=\"PlayList-Nav-Active\">\r\n                                <button><span>Playlist</span></button>\r\n                            </NavLink>\r\n                            <button><span>About</span></button>\r\n                        </div>\r\n                    </div> */\r\n\r\n","import React, { Fragment, useEffect, useRef,  } from \"react\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useState } from \"react\"\r\nimport MusicPreview from \"./widgets/musicPreview\"\r\nimport Moosix from \"./functions/mossix-api\"\r\nimport Loader from \"react-loader-spinner\"\r\nimport {Helmet} from \"react-helmet\";\r\nconst app = new Moosix()\r\nfunction Result(props){\r\n    const [currentUserName, setCurrrentUserName] = useState()\r\n    \r\n    const [musics, setMusics] = useState([])\r\n    const [isLoading, setIsLoadinig] = useState(true)\r\n    \r\n \r\n    let query = useQuery();\r\n    function useQuery() {\r\n        return new URLSearchParams(useLocation().search);\r\n    }\r\n    const search_query = query.get(\"search\")\r\n    \r\n    console.log(search_query)  \r\n\r\n    useEffect(()=>{\r\n        if(search_query){\r\n            setMusics([])\r\n            setIsLoadinig(true)\r\n            app.searchQ(search_query).then((musics)=>setMusics(musics)).finally(()=>setIsLoadinig(false))\r\n        }else{\r\n        \r\n        }\r\n        \r\n    }, [search_query])\r\n    \r\n    function play(name){\r\n        props.play(name)\r\n    }\r\n\r\n    function stop(){\r\n        props.stop()\r\n    }\r\n\r\n    \r\n\r\n    return(\r\n        <>\r\n        <Helmet>\r\n            <title>{search_query + \"  Moosax\"}</title>\r\n        </Helmet>\r\n        <div id = \"home\" className =\"main\">\r\n            <div className = \"music-content-container\" id = \"home-musics\">\r\n                <div className = \"music-box\">\r\n                    <div className = \"user-musics\">\r\n                        {musics && musics.map((name, i)=>{   \r\n                            return(\r\n                                <Fragment key = {i}>\r\n                                    <MusicPreview \r\n                                        name = {name} \r\n                                        play = {play}\r\n                                        stop = {stop} \r\n                                        uID = {name.userID} \r\n                                        pfp= {name.pfpURL} \r\n                                        user = {name.artist}\r\n                                        audio = {props.audio}\r\n                                    />\r\n                                    </Fragment>\r\n                                )\r\n                        })}\r\n                        { isLoading\r\n                        ?\r\n                            <div className = \"loader\">\r\n                                <Loader type = \"TailSpin\" color = \"#fff\"/>\r\n                            </div>   \r\n                        :\r\n                            ()=>{\r\n                                if(musics.length == 0){\r\n                                    return <span>No Results</span>\r\n                                }\r\n                            }\r\n                            \r\n                           \r\n                        }\r\n                    </div>    \r\n                </div>\r\n            </div>  \r\n        </div>\r\n        \r\n        </>\r\n    )\r\n}\r\nexport default Result","\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport Moosix from \"../../functions/mossix-api.js\"\r\nimport {songContext} from \"../../../context/songContext\"\r\nconst app = new Moosix()\r\n\r\nfunction Top(props)\r\n{\r\n    const [track, setTrack] = useState()\r\n    const [title, setTitle] = useState()\r\n    const [image, setImage] = useState()\r\n    const [artist, setArtist] = useState()\r\n    const [isSameSrc, setIsSameSrc] = useState(false)\r\n    const [description, setDescription] = useState()\r\n    const song = useContext(songContext)\r\n    useEffect(()=>{\r\n        \r\n        if(props.nowPlaying){\r\n           \r\n        }\r\n        else if(Array.isArray(props.tracks)){\r\n            if(song.playlistIncludes(song.getCurrentSong())){\r\n                setTrack(song.getCurrentSong())\r\n            }else{\r\n               setTrack(props.tracks[0])\r\n            }\r\n          \r\n        }\r\n        else{\r\n            setTrack(props.tracks)\r\n        }\r\n    }, [props])\r\n\r\n    function play()\r\n    {\r\n        song.playSong(track)\r\n        setIsSameSrc(true)\r\n    }\r\n\r\n    function stop()\r\n    {\r\n        song.stop()\r\n        setIsSameSrc(false)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(track){\r\n            setTitle(track.info.title)\r\n            setImage(track.src.imageURL.scale768)\r\n            setArtist(track.info.artist)\r\n            setDescription(track.info.description)    \r\n            if(song.audio.src == track.src.aduioURL && song.audio.paused == false ){\r\n                setIsSameSrc(true)\r\n             }else{\r\n                setIsSameSrc(false)\r\n             }\r\n        }\r\n    }, [track, song.audio?.src,  track?.src.aduioURL,  song.audio.paused])\r\n   \r\n    return (\r\n        <div className = {props.top||\"top\"} >\r\n            <div className = \"top-container\">\r\n                <div className = \"bg-blur\" style = {{backgroundImage: `linear-gradient(to bottom, rgba(0, 0, 0, 0), var(--dark-secondary)), url(\"${image}\")`}} />\r\n                <div className = \"top-contents\">\r\n                    <div className = \"top-albumCover-wrapper\">\r\n                        <div className = \"top-albumCover\" \r\n                        style = {{backgroundImage: `url(\"${image}\")`}}\r\n                        />\r\n                    </div>\r\n                    <div className = \"top-info\">\r\n                        <div className = \"top-title\">\r\n                            <h2>{title}</h2>\r\n                        </div>\r\n                        <div className = \"top-description\">\r\n                            <span>{description}</span>\r\n                        </div>\r\n                        <div className = \"top-artist-name\">\r\n                            <span>{artist}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"top-buttons\">\r\n                        <div className = \"top-play-botton\">\r\n                            {isSameSrc?<button onClick = {stop}>pause</button>:<button onClick = {play}>play</button>}\r\n                            \r\n                        </div>\r\n                        <div className = \"top-more-button\">\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Top","import Cookies from \"js-cookie\"\r\n\r\nclass Song\r\n{\r\n    constructor(song_data)\r\n    {\r\n        this.audio = new Audio()\r\n        this.songArray = []\r\n        this.i = -1;\r\n        this.areViewsUpdated = false\r\n        \r\n    }\r\n\r\n\r\n    setMetaData()\r\n    {\r\n        if ('mediaSession' in navigator) {\r\n            navigator.mediaSession.metadata = new window.MediaMetadata({\r\n              title: this.song?.info.title,\r\n              artist: this.song?.info.artist,\r\n              artwork: [\r\n                { src: this.song?.src.imageURL,   sizes: '96x96',   type: 'image/png' },\r\n                { src: this.song?.src.imageURL, sizes: '128x128', type: 'image/png' },\r\n                { src: this.song?.src.imageURL, sizes: '192x192', type: 'image/png' },\r\n                { src: this.song?.src.imageURL, sizes: '256x256', type: 'image/png' },\r\n                { src: this.song?.src.imageURL, sizes: '384x384', type: 'image/png' },\r\n                { src: this.song?.src.imageURL, sizes: '512x512', type: 'image/png' },\r\n              ]\r\n            });\r\n          }\r\n    }\r\n\r\n    play()\r\n    {\r\n        if(!this.song){\r\n            return \r\n        }\r\n        \r\n        this.setMetaData()\r\n        \r\n        this.audio.play()\r\n        this.i = this.songArray.indexOf(this.song)\r\n        this.audio.addEventListener(\"timeupdate\", (e)=>{\r\n            if(this.audio.currentTime == this.audio.duration){\r\n                if(this.i > -1 && this.i<this.songArray.length){\r\n                    console.log(this.i)\r\n                    const nextSong = this.getNextSong()\r\n                    if(nextSong){\r\n                        this.playSong(nextSong)\r\n                    }\r\n                }\r\n            }\r\n                \r\n        })\r\n        if(this.i == -1){\r\n            this.songArray = []\r\n            this.songArray.push(this.song)\r\n            this.i ++\r\n        }\r\n        console.log(this.songArray)\r\n        let current_final;\r\n        let current_inital;\r\n        let callApiWithDelay;\r\n        current_inital = this.audio.currentTime\r\n        console.log(this.areViewsUpdated)\r\n        if(!this.areViewsUpdated) {\r\n        callApiWithDelay = setTimeout(() => {\r\n            this.updateViews(current_inital, this.audio.currentTime)\r\n            this.areViewsUpdated = true;\r\n        }, 30000)\r\n        }\r\n        \r\n    }\r\n    \r\n    stop()\r\n    {\r\n        this.audio.pause()\r\n    }\r\n\r\n\r\n\r\n    removeSongs(song)\r\n    {\r\n        const newArray = this.songArray.filter(arr=>arr!=song)\r\n        this.songArray = newArray\r\n    }\r\n\r\n    getNextSong()\r\n    {\r\n        if(this.songArray && this.i > -1 && this.i<this.songArray.length){\r\n            const nextSong = this.songArray[this.i+1]\r\n            //this.playSong(nextSong)\r\n            return nextSong\r\n        }else{\r\n            return null\r\n        }\r\n    }\r\n\r\n    playNext()\r\n    {\r\n        const nextSong = this.getNextSong()\r\n        if(nextSong){\r\n            this.playSong(nextSong)\r\n        }\r\n    }\r\n    \r\n    playPrevious()\r\n    {\r\n        const previous = this.getPreviousSong()\r\n        if(previous){\r\n            this.playSong(previous)\r\n        }\r\n    }\r\n\r\n    getPreviousSong()\r\n    {\r\n        if(this.songArray && this.i > 0 && this.i<this.songArray.length){\r\n            const nextSong = this.songArray[this.i-1]\r\n            console.log(nextSong)\r\n            //this.playSong(nextSong)\r\n            return nextSong\r\n        }else{\r\n            return null\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n \r\n\r\n    playSong(song)\r\n    {\r\n        this.areViewsUpdated = false\r\n        this.song = song\r\n        this.audio.src = song.src.aduioURL\r\n        this.play(song)\r\n    }\r\n\r\n\r\n    loadSongs(song, playlist_song = \"song\")\r\n    {\r\n        \r\n        if(playlist_song === \"playlist\"){\r\n            this.songArray = song\r\n        }else if(playlist_song === \"song\"){\r\n            this.songArray.push(song)\r\n        }\r\n    }\r\n\r\n    like(liker_uid)\r\n    {\r\n        const url = \"/api/music/like/send\"\r\n        const data = \r\n        {\r\n            likedBy: liker_uid,\r\n            likedOf: this.song.info.uid,\r\n            song_name: this.song.info.songID || this.song.info.title,\r\n            song: this.song\r\n        }\r\n        this.postData(url, data)\r\n    }\r\n\r\n    updateViews(initialTime, finalTime)\r\n    {\r\n        if(finalTime-initialTime > 28){\r\n            const url = \"/api/music/views/update\"\r\n            const data = \r\n            {\r\n                info:{\r\n                    initialTime: initialTime,\r\n                    finalTime: finalTime,\r\n                },\r\n                track: this.song\r\n            }\r\n            this.postData(url, data)\r\n        }\r\n       \r\n    }\r\n\r\n    createPlaylists(playlist_obj)\r\n    {\r\n        this.songArray = []\r\n        this.loadSongs(playlist_obj.songs, \"playlist\")\r\n    }\r\n\r\n    volumeHandler(val)\r\n    {\r\n        this.audio.volume = val\r\n    }\r\n    getCurrentSong()\r\n    {\r\n        return this.song\r\n    }\r\n    getDuration()\r\n    {\r\n        if(this.audio.duration){\r\n            const rawDuration_minute = Math.floor(this.audio.duration/60) \r\n            const duration_minute = rawDuration_minute.toLocaleString('en-US', {\r\n                minimumIntegerDigits: 2,\r\n                useGrouping: false\r\n            })\r\n            const rawDuration_sec = Math.floor(this.audio.duration%60) \r\n            const duration_sec = rawDuration_sec.toLocaleString('en-US', {\r\n                minimumIntegerDigits: 2,\r\n                useGrouping: false\r\n            })\r\n            return duration_minute + \":\" + duration_sec\r\n        }else{\r\n            return \"00:00\"\r\n        }\r\n    }\r\n    getCurrentTime(){\r\n        if(this.audio.currentTime){\r\n                const rawCurrent_minute = Math.floor(this.audio.currentTime/60) \r\n                const current_minute = rawCurrent_minute.toLocaleString('en-US', {\r\n                    minimumIntegerDigits: 2,\r\n                    useGrouping: false\r\n                })\r\n                const rawCurrent_sec = Math.floor(this.audio.currentTime%60) \r\n                const current_sec = rawCurrent_sec.toLocaleString('en-US', {\r\n                    minimumIntegerDigits: 2,\r\n                    useGrouping: false\r\n                })\r\n                return current_minute + \":\" + current_sec \r\n        }else{\r\n                return \"00:00\"\r\n        }\r\n    }\r\n    isPaused()\r\n    {\r\n        return this.audio.paused\r\n    }\r\n    playlistIncludes(song)\r\n    {\r\n        return this.songArray.includes(song)\r\n    }\r\n    showPlaylists()\r\n    {\r\n        return this.songArray\r\n    }\r\n\r\n    isQued(song)\r\n    {\r\n        let result = false\r\n        if(this.songArray){\r\n            for(let i = 0; i<this.songArray.length; i++){\r\n                if(song?.sid == this.songArray[i].info.songID){\r\n                    result = true;\r\n                    break;\r\n                }else{\r\n                    result = false\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    }\r\n\r\n    isPlaying(song)\r\n    {\r\n        if(!this.audio.paused && song.src.aduioURL === this.audio.src)\r\n        {\r\n            return true\r\n        }else if(this.audio.src !== song.src.aduioURL || this.audio.paused){\r\n            return false\r\n        }\r\n    }\r\n\r\n\r\n    async  postData(url = '', data = {}) {\r\n        // Default options are marked with *\r\n        const response = await fetch(url, {\r\n          method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n          mode: 'cors', // no-cors, *cors, same-origin\r\n          cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n          credentials: 'include', // include, *same-origin, omit\r\n          headers: {\r\n            \"CSRF-Token\": Cookies.get(\"XSRF-TOKEN\"),\r\n            'Content-Type': 'application/json',\r\n          },\r\n          redirect: 'follow', // manual, *follow, error\r\n          referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n          body: JSON.stringify(data) // body data type must match \"Content-Type\" header\r\n        });\r\n        return response.json(); // parses JSON response into native JavaScript objects\r\n    }    \r\n}\r\n\r\nexport {Song}\r\n\r\n\r\n\r\n\r\n\r\nclass Playlist\r\n{\r\n    constructor(name, song_array)\r\n    {\r\n        this.songs = song_array||[]\r\n        this.playlistName = name\r\n    }\r\n    createNewPlaylist(name, song_array)\r\n    {\r\n        this.playlistName = name\r\n        this.songs = song_array\r\n    }\r\n    addSong(song)\r\n    {\r\n        this.songs.push(song)\r\n    }\r\n    removeSong(song)\r\n    {\r\n        const newPlaylist = this.songs.filter(item=>item !== song)\r\n        this.songs = newPlaylist\r\n    }\r\n    getSongs()\r\n    {\r\n        return this.songs\r\n    }\r\n}\r\n\r\nexport {Playlist}","import React from 'react';\r\nimport MusicCard from \"../../musicCard2/musicCard2\"\r\nimport \"../styles/playlist.css\"\r\nimport Loader from \"react-loader-spinner\"\r\nfunction PlaylistContainer(props)\r\n{\r\n    const tracks = props.tracks\r\n    return(\r\n        <section id = \"playlist-wrapper\">\r\n            <div className = \"playlist-box\">\r\n                <div className = \"playlist-container\">\r\n                    {\r\n                        props.isLoading?\r\n                        <div className = \"loader\">\r\n                            <Loader type = \"TailSpin\" color = \"#fff\"/>\r\n                        </div>\r\n                        :\r\n                        tracks && tracks.map((track, index)=>{\r\n                            return <MusicCard track = {track} load = {tracks}/>\r\n                        })\r\n                    }\r\n                    {/* <MusicCard /> */}\r\n                    \r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\nexport default PlaylistContainer","import React, { useContext, useEffect, useState } from \"react\";\r\nimport {uidContext} from \"../../context/uid\"\r\nimport \"./styles/style.css\"\r\nimport Moosix from \"../functions/mossix-api.js\"\r\nimport Top from \"./comp/top\"\r\nimport {songContext} from \"../../context/songContext.js\"\r\nimport {Playlist} from \"../classes/song\"\r\nimport {MoosaxAuth} from \"../functions/moosax-auth.js\"\r\nimport PlaylistContainer from \"./comp/playlistContainer\"\r\nimport {Helmet} from \"react-helmet\";\r\nconst app = new Moosix()\r\n\r\nfunction UserLikes(props)\r\n{\r\n    const song = useContext(songContext)\r\n    const auth = new MoosaxAuth()\r\n    const [musics, setMusics] = useState(null)\r\n    const [tracks, setTracks] = useState(null)\r\n    const [isLoading, setIsLoadinig] = useState(true) \r\n    useEffect(()=>{\r\n        app.getUserLikes().then(data=>{\r\n            console.log(data)\r\n            setMusics(data)\r\n        }).finally(()=>{\r\n            setIsLoadinig(false)\r\n        })\r\n\r\n    }, [])\r\n        \r\n        \r\n\r\n    // useEffect(()=>{\r\n    //     if(musics){\r\n    //         const playlist = new Playlist()\r\n    //         playlist.createNewPlaylist(\"Likes\", musics)\r\n    //         song.createPlaylists(playlist)\r\n    //         console.log(song.showPlaylists())\r\n    //         setTracks(song.showPlaylists())\r\n    //     }\r\n    // }, [musics])\r\n    return(\r\n        <div id = \"userLikes\" className = \"main\" >\r\n            <Helmet>\r\n                <title>Liked Songs  Moosax</title>\r\n            </Helmet>\r\n            <div className = \"music-content-container\" id = \"userLikes-music\">\r\n                <div className = \"music-box\" id = \"userLikes-box\">\r\n                    <Top tracks = {musics} nowPlaying = {null} play ={props.play} audio = {props.audio} stop = {props.stop}/>\r\n                    <PlaylistContainer tracks = {musics} isLoading = {isLoading}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default UserLikes","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport Top from \"./comp/top\"\r\nimport Moosix from \"../functions/mossix-api.js\"\r\nimport \"./styles/listen.css\"\r\nimport {Helmet} from \"react-helmet\";\r\nconst app = new Moosix()\r\n\r\nfunction Listen(props)\r\n{\r\n    let query = useQuery();\r\n    const [musics, setMusics] = useState(null)\r\n    function useQuery() {\r\n        return new URLSearchParams(useLocation().search);\r\n    }\r\n    const music = query.get(\"m\")\r\n    const uid = query.get(\"uid\")\r\n    useEffect(()=>{\r\n        if(query){\r\n            app.getSongsById(uid, music).then(tracks=>{\r\n                setMusics(tracks)\r\n            })\r\n        }\r\n    }, [music])\r\n    return(\r\n        <div id = \"listen\" className = \"main\" >\r\n            <Helmet>\r\n                <title>{musics&&musics.info.title + \"  Moosax\"}</title>\r\n            </Helmet>\r\n            <div className = \"music-content-container\" id = \"listen-music\">\r\n                <div className = \"music-box\" id = \"listen-box\">\r\n                    <Top tracks = {musics} nowPlaying = {null} play ={props.play} audio = {props.audio} stop = {props.stop} top = \"top-listen\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Listen","import \"./styles/nav.css\"\nimport './styles/App.css';\nimport \"./styles/Header.css\"\nimport \"./styles/login.css\"\nimport \"./styles/userPage.css\"\nimport \"./styles/upload.css\"\nimport \"./styles/music.css\"\nimport \"./styles/audio.css\"\nimport \"./styles/search.css\"\n\nimport EditProfile from \"./component/editProfile\"\nimport Header from \"./component/header\"\nimport AudioPlayer from \"./component/audioplayer\"\nimport Nav from \"./component/nav\"\nimport firebase from \"firebase\"\nimport About from \"./component/about\"\nimport Home from \"./component/home\"\nimport Login from \"./component/login\"\nimport { Route, BrowserRouter as Router, Switch, useHistory } from 'react-router-dom';\nimport \"./component/firebase\";\nimport Signup from \"./component/Signup\"\n//import auth from \"firebase/auth\";\nimport Upload from \"./component/Upload\"\nimport Music from \"./component/music\"\nimport Result from \"./component/result\"\nimport { useEffect, useState, useReducer } from \"react\";\nimport { uidContext } from \"./context/uid\"\nimport UserLikes from \"./component/pages/userLikes\"\nimport Listen from \"./component/pages/listen\"\nimport { Song, Playlist } from \"./component/classes/song\"\nimport { songContext, playlistContext } from \"./context/songContext\"\nimport { MoosaxAuth } from \"./component/functions/moosax-auth.js\"\nimport Loader from \"react-loader-spinner\"\nconst audio = new Audio()\nconst song = new Song();\n\n\nconst playList = new Playlist()\n\n\n// function useForceUpdate(){\n//   const [value, setValue] = useState(0); // integer state\n//   return () => setValue(value => value + 1); // update the state to force render\n// }\n\n\nfunction App() {\n  const [isLoading, setIsloading] = useState(true)\n  const history = useHistory()\n  const [ignored, forceUpdate] = useReducer(x => x + 1, 0);\n  const [fullScreen, setFullscreen] = useState(\"\")\n  const auth = new MoosaxAuth()\n  let name1;\n  // const forceUpdate = useForceUpdate()\n  const [progVal, setProgVal] = useState(\"0%\");\n  const [AudioPreview, setAudioPreview] = useState()\n  const [uid, setUid] = useState(null)\n  \n  //firebase.auth().onAuthStateChanged(user=>setUid(user.uid))\n  const db = firebase.database()\n  let duration = 0;\n\n  function volumeHandler(volume) {\n    audio.volume = volume\n  }\n\n\n  useEffect(() => {\n\n    auth.isloggedIn().then(log => {\n      if (!log) {\n        return\n      }\n    }).finally(() => {\n      setIsloading(false)\n    })\n\n    auth.getUserId().then(uid=>{\n      setUid(uid)\n    })\n\n    song.audio.addEventListener(\"play\", (e) => {\n      if (!song.audio.paused) {\n        forceUpdate()\n      }\n    })\n\n    song.audio.addEventListener(\"pause\", (e) => {\n      if (song.audio.paused) {\n        forceUpdate()\n      }\n\n    })\n  }, [history])\n\n\n\n\n\n\n  function play(src) {\n    if (song.audio.src === src.src.aduioURL) {\n      song.play()\n      name1 = src.title\n    } else {\n      song.playSong(src)\n      name1 = src.info.songID || src.info.title\n    }\n\n\n    if (audio) {\n    }\n  }\n\n  function stop(event) {\n    song.stop()\n  }\n\n  function playAudio() {\n    song.play()\n  }\n\n  function next() {\n    const nextSong = song.getNextSong()\n    if (nextSong) {\n      song.playSong(nextSong)\n    }\n  }\n\n  function previous() {\n    const previousSong = song.getPreviousSong()\n    if (previousSong) {\n      song.playSong(previousSong)\n    }\n  }\n\n\n\n  return (\n    <>\n      <Router>\n        <Switch>\n\n          <Route path=\"/login\" exact component={Login} />\n          <Route path=\"/Signup\" exact component={Signup} />\n          <div className={\"dark\"+fullScreen} id=\"main-render\">\n\n            {\n              isLoading ? <Loader type=\"TailSpin\" color=\"#fff\" /> :\n                (\n                  <uidContext.Provider value={uid}>\n                    <songContext.Provider value={song}>\n                      <Route exact path=\"/about\" render={(props) => (\n                        <About {...props} />\n                      )} />\n                      <Route path=\"/upload\" component={Upload} />\n                      <Route exact path=\"/account/edit\" component={EditProfile} />\n\n                      <Route path=\"/u/:uID\" render={(props) => (\n                        <Music {...props} play={play} stop={stop} audio={audio} />\n                      )} />\n\n                      <Route exact path=\"/\" exact render={(props) => (\n                        <Home {...props} play={play} stop={stop} audio={audio} />\n                      )} />\n\n                      <Route path=\"/results\" exact render={(props) => (\n                        <Result {...props} play={play} stop={stop} audio={audio} />\n                      )} />\n\n                      <Route path=\"/listen\" exact render={(props) => (\n                        <Listen {...props} play={play} stop={stop} audio={audio} />\n                      )} />\n\n                      <Route path=\"/liked\" exact render={(props) => (\n                        <UserLikes {...props} play={play} stop={stop} audio={audio} />\n                      )} />\n                      <AudioPlayer\n                        progVal={progVal}\n                        stop={stop}\n                        playAudio={playAudio}\n                        audio={audio}\n                        volumeHandler={volumeHandler}\n                        AudioInfo={AudioPreview}\n                        next={next}\n                        previous={previous}\n                        setFullScreen = {setFullscreen}\n                      />\n                      <Nav />\n\n                      <Header />\n\n\n\n                    </songContext.Provider>\n                  </uidContext.Provider>\n                )\n            }\n\n\n\n          </div>\n        </Switch>\n      </Router>\n    </>\n  );\n\n}\n//#2CC8E5\nexport default App;\n\n//209, 53, 79","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}